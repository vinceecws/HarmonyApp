{"version":3,"sources":["graphics/music_player_pack/001-music.svg","graphics/music_player_pack/002-play.svg","graphics/music_player_pack/003-pause.svg","graphics/music_player_pack/004-disc.svg","graphics/music_player_pack/005-note.svg","graphics/music_player_pack/006-playlist.svg","graphics/music_player_pack/007-add.svg","graphics/music_player_pack/008-volume.svg","graphics/music_player_pack/009-speak.svg","graphics/music_player_pack/010-music album.svg","graphics/music_player_pack/011-list.svg","graphics/music_player_pack/012-microphone.svg","graphics/music_player_pack/013-no sound.svg","graphics/music_player_pack/014-sound control.svg","graphics/music_player_pack/015-volume up.svg","graphics/music_player_pack/016-volume up.svg","graphics/music_player_pack/017-volume down.svg","graphics/music_player_pack/018-speak.svg","graphics/music_player_pack/019-pause.svg","graphics/music_player_pack/020-play.svg","graphics/music_player_pack/021-pause.svg","graphics/music_player_pack/022-repeat.svg","graphics/music_player_pack/023-next.svg","graphics/music_player_pack/024-previous.svg","graphics/music_player_pack/025-notification.svg","graphics/music_player_pack/026-repeat.svg","graphics/music_player_pack/027-shuffle arrows.svg","graphics/music_player_pack/028-repeat.svg","graphics/music_player_pack/029-volume down.svg","graphics/music_player_pack/030-volume up.svg","graphics/music_player_pack/031-radio.svg","graphics/music_player_pack/032-disc.svg","graphics/music_player_pack/033-music album.svg","graphics/music_player_pack/034-sound mixer.svg","graphics/music_player_pack/035-like.svg","graphics/music_player_pack/036-add.svg","graphics/music_player_pack/037-delete.svg","graphics/music_player_pack/038-new.svg","graphics/music_player_pack/039-playlist.svg","graphics/music_player_pack/040-playlist.svg","graphics/music_player_pack/041-sound mixer.svg","graphics/music_player_pack/042-music album.svg","graphics/music_player_pack/043-music album.svg","graphics/music_player_pack/044-music.svg","graphics/music_player_pack/045-disc.svg","graphics/music_player_pack/046-add.svg","graphics/music_player_pack/047-favorite.svg","graphics/music_player_pack/048-delete.svg","graphics/music_player_pack/049-playlist.svg","graphics/music_player_pack/050-favorite.svg","graphics/music_player_pack/051-play-white.svg","graphics/music_player_pack/052-play-white-and-black.svg","graphics/music_player_pack/TriangleArrow-Up.svg","graphics/music_player_pack/TriangleArrow-Down.svg","graphics/user_pack/001-profile image.svg","graphics/user_pack/002-calendar.svg","graphics/user_pack/003-music-album.svg","graphics/user_pack/004-song.svg","graphics/user_pack/delete-cross-white.svg","graphics/user_pack/delete-button-white.svg","graphics/user_pack/menu-button.svg","graphics/user_pack/menu-button-white.svg","graphics/user_pack/plus-button.svg","graphics/user_pack/plus-button-white.svg","test/avatar_pack/001-call center agent.svg","test/avatar_pack/002-phone operator.svg","test/avatar_pack/003-call center agent.svg","test/avatar_pack/004-call center agent.svg","test/avatar_pack/005-call center agent.svg","test/avatar_pack/006-call center agent.svg","test/avatar_pack/007-phone operator.svg","test/avatar_pack/008-call center agent.svg","test/avatar_pack/009-customer service agent.svg","test/avatar_pack/010-call center agent.svg","test/avatar_pack/011-call center agent.svg","test/avatar_pack/012-call center agent.svg","test/avatar_pack/013-call center agent.svg","test/avatar_pack/014-call center agent.svg","test/avatar_pack/015-call center agent.svg","test/avatar_pack/016-technical Support.svg","test/avatar_pack/017-call center agent.svg","test/avatar_pack/018-call center agent.svg","test/avatar_pack/019-call center agent.svg","test/avatar_pack/020-call center agent.svg","test/avatar_pack/021-call center agent.svg","test/avatar_pack/022-call center agent.svg","test/avatar_pack/023-call center agent.svg","test/avatar_pack/024-call center agent.svg","test/avatar_pack/025-call center agent.svg","test/avatar_pack/026-call center agent.svg","test/avatar_pack/027-call center agent.svg","test/avatar_pack/028-call center agent.svg","test/avatar_pack/029-call center agent.svg","test/avatar_pack/030-call center agent.svg","test/avatar_pack/031-call center agent.svg","test/avatar_pack/032-call center agent.svg","test/avatar_pack/033-call center agent.svg","test/avatar_pack/034-call center agent.svg","test/avatar_pack/035-call center agent.svg","test/avatar_pack/036-call center agent.svg","test/avatar_pack/037-call center agent.svg","test/avatar_pack/038-call center agent.svg","test/avatar_pack/039-call center agent.svg","test/avatar_pack/040-call center agent.svg","test/avatar_pack/041-call center agent.svg","test/avatar_pack/042-call center agent.svg","test/avatar_pack/043-call center agent.svg","test/avatar_pack/044-call center agent.svg","test/avatar_pack/045-call center agent.svg","test/avatar_pack/046-call center agent.svg","test/avatar_pack/047-call center agent.svg","test/avatar_pack/048-call center agent.svg","test/avatar_pack/049-call center agent.svg","test/avatar_pack/050-call center agent.svg","test/arcade_pack/001-shooting game.svg","test/arcade_pack/002-basketball.svg","test/arcade_pack/003-arcade.svg","test/arcade_pack/004-racing.svg","test/arcade_pack/005-slot machine.svg","test/arcade_pack/006-cherry.svg","test/arcade_pack/007-life.svg","test/arcade_pack/008-you.svg","test/arcade_pack/009-arcade.svg","test/arcade_pack/010-arcade.svg","test/arcade_pack/011-dart.svg","test/arcade_pack/012-star.svg","test/arcade_pack/013-bowling pins.svg","test/arcade_pack/014-screen.svg","test/arcade_pack/015-tokens.svg","test/arcade_pack/016-spaceship.svg","test/arcade_pack/017-member card.svg","test/arcade_pack/018-pinball.svg","test/arcade_pack/019-strawberry.svg","test/arcade_pack/020-play.svg","test/arcade_pack/021-token.svg","test/arcade_pack/022-air hockey.svg","test/arcade_pack/023-gamepad.svg","test/arcade_pack/024-dancing game.svg","test/arcade_pack/025-karaoke.svg","test/arcade_pack/026-whack a mole.svg","test/arcade_pack/027-arcade.svg","test/arcade_pack/028-vending machine.svg","test/arcade_pack/029-motorbike.svg","test/arcade_pack/030-game over.svg","test/arcade_pack/031-billiard.svg","test/arcade_pack/032-joystick.svg","test/arcade_pack/033-heart.svg","test/arcade_pack/034-bomb.svg","test/arcade_pack/035-ufo.svg","test/arcade_pack/036-punching ball.svg","test/arcade_pack/037-ticket machine.svg","test/arcade_pack/038-crane machine.svg","test/arcade_pack/039-gamepad.svg","test/arcade_pack/040-ping pong.svg","test/arcade_pack/041-cubes.svg","test/arcade_pack/042-arcade.svg","test/arcade_pack/043-bird.svg","test/arcade_pack/044-fencing.svg","test/arcade_pack/045-tetris.svg","test/arcade_pack/046-cinema tickets.svg","test/arcade_pack/047-rotation.svg","test/arcade_pack/048-dart.svg","test/arcade_pack/049-lottery game.svg","test/arcade_pack/050-table football.svg","test/Saturday Nights - Khalid.mp3","api/SessionClient.js","const/index.js","api/DataAPI.js","api/PlayerAPI.js","components/Queues/Queue.js","graphics/index.js","components/AccountLink.js","components/TabComponent.js","webpack:///./src/graphics/music_player_pack/035-like.svg?0f18","components/Player.js","components/Sessions/sessionentry.js","components/Spinner.js","components/Sessions/SessionsSideList.js","test/index.js","test/genSamples.js","components/HomeScreen.js","components/SettingsScreen.js","api/SuggestionsAPI.js","components/SearchScreen.js","components/ProfileScreen.js","components/Chat/ChatFeed.js","components/Queues/QueueEntry.js","components/Queues/QueueComponent.js","components/SessionScreen.js","components/CollectionScreen.js","components/MainApp.js","components/LoginScreen.js","components/axiosWrapper/axiosWrapper.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ActionHandler","handler","setHandler","this","SessionClient","socket","initSocket","on","console","log","onAny","event","args","parseAction","disconnect","leaveSession","createActionObj","action","username","userId","data","subscribeToAction","callback","prepend","onActions","unshift","append","unsubscribeFromAction","ind","findIndex","x","splice","destroy","receiveChat","receivePlayer","receiveQueue","receiveSession","chatObj","rcvdChat","forEach","call","playerObj","rcvdPlayer","queueObj","rcvdQueue","sessionObj","rcvdSession","joinSession","id","emit","response","status","emitChat","actionObj","emitPlayer","emitQueue","emitSession","google_oauth2_client_id","repeatStates","loadScript","require","DataAPI","onLoad","unescapeHTML","html","doc","document","createElement","innerHTML","value","fetchVideoById","snippet","_dataAPIReady","res","window","gapi","client","youtube","videos","list","part","_id","then","obj","result","items","type","name","title","creatorId","channelId","creator","channelTitle","likes","parseInt","statistics","likeCount","image","thumbnails","default","url","image_high","high","image_maxres","maxres","image_med","medium","image_std","standard","duration","Date","parse","contentDetails","err","queryVideos","query","search","maxResults","order","q","videoCategoryId","videoSyndicated","videoEmbeddable","map","constructVideoResultObj","videoId","load","init","apiKey","clientId","discoveryDocs","PlayerAPI","subscribeToEvent","subscriber","subscribedEvents","unsubscribeFromEvent","onPlayerReady","e","_playerReady","player","playVideo","onPlayerStateChange","onPlayerPlaybackQualityChange","onPlayerPlaybackRateChange","onPlayerError","onPlayerApiChange","isPlayerInit","initIFrameAPI","onYouTubeIframeAPIReady","YT","Player","playerVars","origin","location","autoplay","enablejsapi","events","onReady","bind","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange","destroyIFrameAPI","loadVideoById","pauseVideo","stopVideo","seekTo","time","nextVideo","previousVideo","mute","unMute","setVolume","volume","setLoop","loop","setShuffle","shuffle","isPaused","getPlayerState","PlayerState","PAUSED","isMuted","getPlaylistIndex","getPlaylist","getVolume","getCurrentTime","getDuration","_","Queue","pastQueue","futureQueue","currentSong","repeat","OFF","currentSongIsEmpty","_currentSong","getEmptySong","getCurrentSong","cloneDeep","getPastQueue","_pastQueue","getFutureQueue","_futureQueue","getPastQueueLength","length","getFutureQueueLength","getRepeat","_repeat","getShuffle","_shuffle","setCurrentSong","song","nextSong","SONG","push","shift","_originalFutureQueue","QUEUE","previousSong","pop","clearFutureQueue","toggleShuffle","moveSongInFutureQueue","fromIndex","toIndex","moveSongFromPastQueue","addSongToFutureQueue","Math","floor","random","removeSongFromFutureQueue","index","toggleRepeat","i","j","temp","setRepeat","val","Object","values","indexOf","undefined","icon_music_1","icon_speak_1","icon_music_album_1","icon_list","icon_no_sound","icon_volume_up_1","icon_speak_2","icon_play_2","icon_pause_3","icon_repeat_1","icon_next","icon_previous","icon_shuffle_arrows","icon_repeat_3","icon_radio","icon_disc_1","icon_music_album_2","icon_sound_mixer_1","icon_like","icon_playlist_2","icon_sound_mixer_2","icon_disc_2","icon_play_white_1","icon_profile_image","icon_album","delete_cross_white","delete_button_white","menu_button_white","plus_button","AccountLink","handleLogOutAccount","props","axiosWrapper","axiosGet","success","handleLogOut","history","auth","Dropdown","as","ButtonGroup","Button","to","user","Image","src","Toggle","split","Menu","Item","onClick","className","React","Component","TabComponent","state","currentScreen","href","activeClassName","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","_ref","svgRef","enableBackground","height","viewBox","width","ref","ForwardRef","forwardRef","componentDidMount","playerActionListener","sessionClient","handleApplyPlayerState","queueActionListener","playerAPI","handlePlayerStateChange","setInterval","setState","queue","seeking","currentTime","componentDidUpdate","prevProps","prevState","componentWillUnmount","handleGoToItem","handleShowTitleTicker","showTitleTicker","handleHideTitleTicker","handleEmitPlayerState","subaction","currentSession","isHost","handleSetPlay","handleNextSong","handlePreviousSong","ENDED","handleSeek","handleMoveSlider","handleTogglePlay","handleToggleMute","handleToggleFavorite","songId","likedSongs","includes","axiosPost","handleUpdateUser","handleToggleShuffle","handleToggleRepeat","getSongProgress","sec","String","padStart","getSongDuration","getSongImage","getSongName","getArtist","getPlayButtonIcon","getRepeatButtonIcon","getRepeatButtonIconClass","getShuffleButtonIconClass","getMuteButtonIcon","getFavoriteButtonIconClass","getPlayerControlsDisabled","getSeekDisabled","live","entry","speed","Container","fluid","Row","Col","thumbnail","onMouseEnter","onMouseLeave","disabled","roundedCircle","variant","tooltip","onChange","onAfterChange","min","max","SessionEntry","handleEntry","showTicker","handleLeave","getStreamCount","count","streams","getListenerCountIconClass","mode","hostName","Spinner","role","style","color","position","left","top","SessionSideList","mainSocket","topSessions","loading","sessions","sort","session1","session2","filter","session","hostId","avtr_001_call_center_agent","avtr_002_phone_operator","avtr_003_call_center_agent","avtr_004_call_center_agent","avtr_005_call_center_agent","avtr_006_call_center_agent","avtr_007_phone_operator","avtr_008_call_center_agent","avtr_009_customer_service_agent","avtr_010_call_center_agent","avtr_011_call_center_agent","avtr_012_call_center_agent","avtr_013_call_center_agent","avtr_014_call_center_agent","avtr_015_call_center_agent","avtr_016_technical_Support","avtr_017_call_center_agent","avtr_018_call_center_agent","avtr_019_call_center_agent","avtr_020_call_center_agent","avtr_021_call_center_agent","avtr_022_call_center_agent","avtr_023_call_center_agent","avtr_024_call_center_agent","avtr_025_call_center_agent","avtr_026_call_center_agent","avtr_027_call_center_agent","avtr_028_call_center_agent","avtr_029_call_center_agent","avtr_030_call_center_agent","avtr_031_call_center_agent","avtr_032_call_center_agent","avtr_033_call_center_agent","avtr_034_call_center_agent","avtr_035_call_center_agent","avtr_036_call_center_agent","avtr_037_call_center_agent","avtr_038_call_center_agent","avtr_039_call_center_agent","avtr_040_call_center_agent","avtr_041_call_center_agent","avtr_042_call_center_agent","avtr_043_call_center_agent","avtr_044_call_center_agent","avtr_045_call_center_agent","avtr_046_call_center_agent","avtr_047_call_center_agent","avtr_048_call_center_agent","avtr_049_call_center_agent","avtr_050_call_center_agent","arcd_001_shooting_game","arcd_002_basketball","arcd_003_arcade","arcd_004_racing","arcd_005_slot_machine","arcd_006_cherry","arcd_007_life","arcd_008_you","arcd_009_arcade","arcd_010_arcade","arcd_011_dart","arcd_012_star","arcd_013_bowling_pins","arcd_014_screen","arcd_015_tokens","arcd_016_spaceship","arcd_017_member_card","arcd_018_pinball","arcd_019_strawberry","arcd_020_play","arcd_021_token","arcd_022_air_hockey","arcd_023_gamepad","arcd_024_dancing_game","arcd_025_karaoke","arcd_026_whack_a_mole","arcd_027_arcade","arcd_028_vending_machine","arcd_029_motorbike","arcd_030_game_over","arcd_031_billiard","arcd_032_joystick","arcd_033_heart","arcd_034_bomb","arcd_035_ufo","arcd_036_punching_ball","arcd_037_ticket_machine","arcd_038_crane_machine","arcd_039_gamepad","arcd_040_ping_pong","arcd_041_cubes","arcd_042_arcade","arcd_043_bird","arcd_044_fencing","arcd_045_tetris","arcd_046_cinema_tickets","arcd_047_rotation","arcd_048_dart","arcd_049_lottery_game","arcd_050_table_football","song_001_khalid_saturday_nights","axios","defaults","baseURL","collections","songs","users","initType","category","categoryName","initCreator","artist","initImage","genSampleImage","initData","initFunctions","sampleDatabase","initialQueue","collection","songList","playlists","playlist","likedCollections","icons","HomeScreen","handlePlayItem","fetchSuggestions","suggestions","JSON","stringify","getHomeInfo","cat_ind","CardDeck","item_ind","Card","Text","Img","Footer","SettingsScreen","clearUsernameCredentials","password","changeUsername_validated","clearPasswordCredentials","new_password","confirm_password","changePassword_validated","handleCloseUsernameModal","goBack","handleCloseBiographyModal","biography","handleClosePasswordModal","handleUsernameChange","character_limit","handleBiographyChange","handleChangeUsernamePassword","handleChangeNewPassword","handleChangeUsernameConfirmPassword","handleValidateBiography","handleValidateUsername","trim","test","handleValidateNewPassword","handleValidatePassword","handleValidateChangePasswordConfirmPassword","handleInvalidateChangePasswordConfirmPassword","validateNewPassword","validateNewUsername","handleUsername","preventDefault","changeUsername_taken","changeUsername_invalidPassword","message","statusCode","handleBiography","changeBiography_validated","handlePassword","changePassword_invalidPassword","getPrivateMode","privateMode","fetchUser","profileUser","fontFamily","maxWidth","padding","for","bottom","data-toggle","data-target","path","render","transform","data-dismiss","Form","noValidate","onSubmit","Group","controlId","Label","Control","required","placeholder","isValid","isInvalid","muted","Feedback","rows","cols","SuggestionsAPI","limit","callbackId","round","body","removeChild","script","item","slice","appendChild","SearchScreen","fetchPlaylists","isSearchBoxEmpty","isResultsEmpty","isSuggestionsEmpty","handleCreateCollection","handleValidateNewCollectionName","newCollectionName","currentSongTarget","collectionId","newCollectionNameMaxLength","handleNewCollectionNameChange","handleShowCreateCollectionModal","showCreateCollectionModal","handleHideCreateCollectionModal","handleMouseEnterDropdown","showDropdown","handleMouseLeaveDropdown","handleAddCollectionToFutureQueue","Promise","all","handleAddCollectionToFavorites","handleRemoveCollectionFromFavorites","handleAddSongToFavorites","handleRemoveSongFromFavorites","handleAddSongToCollection","handleGoToHistoryItem","handleGoToResultItem","handleGoToResultCreator","ownerId","handleClearSearchBox","handleSearchQueryChange","handleUpdateSuggestions","handleSearchQueryKeydown","keyCode","fetchResults","handleSelectSuggestion","handleRemoveHistory","stopPropagation","reindexArray","array","newRes","getCharLengthClass","getShowSuggestions","getHistoryClass","getResultsClass","Modal","contentClassName","show","Header","onHide","closeButton","Title","Body","InputGroup","FormControl","onKeyDown","Append","suggestion","eventKey","onSelect","ListGroup","capitalize","DropdownItem","DropdownButton","drop","playlist_ind","Divider","ownerName","ProfileScreen","fetchUserData","formatCount","handleGoToCollection","handleGoToCreator","match","params","sessions_loading","playlists_loading","likedSongs_loading","likedCollections_loading","resolve","display","every","arr","fontSize","session_ind","textAlign","song_ind","collection_ind","ChatFeed","scrollToBottom","messagesEnd","scrollIntoView","behavior","ChatList","actionLog","object","overflowWrap","backgroundColor","border","borderRadius","float","clear","el","QueueEntry","draggableId","provided","draggableProps","dragHandleProps","innerRef","QueueComponent","QueueList","QueueEntries","minWidth","droppableProps","SessionScreen","initSessionClient","getSession","sessionId","handleGetSession","handleTextChange","messageText","onKeyPress","chatLog","timestamp","concat","handleOnDragEnd","destination","droppableId","Array","from","reorderedItem","fetchedSongs","startTime","error","marginLeft","margin","marginTop","overflow","overflowX","prevQueue","onDragEnd","CollectionScreen","fetchCollection","onPressLikeCollection","favoritedCollections","numLikes","favorited","c","onPressPlayQueue","playing","s","dataAPI","onEditName","collectionName","hideEditNameModal","onEditDescription","description","collectionDescription","hideEditDescriptionModal","onPressPlaySong","onPressDeleteSong","newSongList","onPressLikeSong","favedSongs","songFaved","isCollectionFavorited","sortByTitle","sortByDateAdded","sortByArtist","showEditNameModal","showEditDescriptionModal","handleCollectionNameChange","handleCollectionDescriptionChange","date","paddingTop","paddingBottom","maxHeight","marginRight","minHeight","listStyleType","alignItems","getDateAdded","getDurationString","MainApp","isFavorited","sm","md","lg","xl","initPlayerAPI","LoginScreen","checkCredentials","clearSignUpCredentials","handleAuthenticate","handleUpdateCurrentSession","clearLoginCredentials","login_validated","login_username","login_password","signup_validated","signup_username_taken","signup_username","signup_password","signup_confirm_password","handleCloseSignUpModal","handleLoginUsernameChange","handleLoginPasswordChange","handleSignUpUsernameChange","handleSignUpPasswordChange","handleSignUpConfirmPasswordChange","handleValidateSignUpUsername","handleValidateSignUpPassword","handleValidateSignUpConfirmPassword","handleInvalidateSignUpConfirmPassword","validateSignUp","handleSignUp","handleInvalidateLogin","handleLogin","marginBottom","boxShadow","justifyContent","AxiosWrapper","withCredentials","get","catch","payload","post","App","io","updatedUser","Boolean","hostname","toUpperCase","substr","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8LAAAA,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,2C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,sD,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,qBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,wD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,mD,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAA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","file":"static/js/main.6bbb11cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/001-music.6826d54f.svg\";","module.exports = __webpack_public_path__ + \"static/media/002-play.5dcfdc9d.svg\";","module.exports = __webpack_public_path__ + \"static/media/003-pause.02f14f3a.svg\";","module.exports = __webpack_public_path__ + \"static/media/004-disc.1c8548de.svg\";","module.exports = __webpack_public_path__ + \"static/media/005-note.2d78eecc.svg\";","module.exports = __webpack_public_path__ + \"static/media/006-playlist.c5ce1a8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/007-add.7b53147b.svg\";","module.exports = __webpack_public_path__ + \"static/media/008-volume.7299055a.svg\";","module.exports = __webpack_public_path__ + \"static/media/009-speak.b1040e0c.svg\";","module.exports = __webpack_public_path__ + \"static/media/010-music album.d4da8001.svg\";","module.exports = __webpack_public_path__ + \"static/media/011-list.852b1a03.svg\";","module.exports = __webpack_public_path__ + \"static/media/012-microphone.99e38db7.svg\";","module.exports = __webpack_public_path__ + \"static/media/013-no sound.72bf700e.svg\";","module.exports = __webpack_public_path__ + \"static/media/014-sound control.cd7ea8c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/015-volume up.b7764bfc.svg\";","module.exports = __webpack_public_path__ + \"static/media/016-volume up.0b71d6bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/017-volume down.9cd01b6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/018-speak.0935d233.svg\";","module.exports = __webpack_public_path__ + \"static/media/019-pause.630036e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/020-play.d9c74ca9.svg\";","module.exports = __webpack_public_path__ + \"static/media/021-pause.a9210ccd.svg\";","module.exports = __webpack_public_path__ + \"static/media/022-repeat.77838302.svg\";","module.exports = __webpack_public_path__ + \"static/media/023-next.8e8638de.svg\";","module.exports = __webpack_public_path__ + \"static/media/024-previous.838cf4f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/025-notification.3fd7cb51.svg\";","module.exports = __webpack_public_path__ + \"static/media/026-repeat.7f7cd4f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/027-shuffle arrows.d544872e.svg\";","module.exports = __webpack_public_path__ + \"static/media/028-repeat.1e189e5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/029-volume down.da102052.svg\";","module.exports = __webpack_public_path__ + \"static/media/030-volume up.7d44d147.svg\";","module.exports = __webpack_public_path__ + \"static/media/031-radio.eb8ff22b.svg\";","module.exports = __webpack_public_path__ + \"static/media/032-disc.2396281b.svg\";","module.exports = __webpack_public_path__ + \"static/media/033-music album.256f48d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/034-sound mixer.177c4d42.svg\";","module.exports = __webpack_public_path__ + \"static/media/035-like.fb00be9a.svg\";","module.exports = __webpack_public_path__ + \"static/media/036-add.b858fbe6.svg\";","module.exports = __webpack_public_path__ + \"static/media/037-delete.96c7473f.svg\";","module.exports = __webpack_public_path__ + \"static/media/038-new.38d84309.svg\";","module.exports = __webpack_public_path__ + \"static/media/039-playlist.0dab1a5e.svg\";","module.exports = __webpack_public_path__ + \"static/media/040-playlist.1e827758.svg\";","module.exports = __webpack_public_path__ + \"static/media/041-sound mixer.e87bd01f.svg\";","module.exports = __webpack_public_path__ + \"static/media/042-music album.71c3de99.svg\";","module.exports = __webpack_public_path__ + \"static/media/043-music album.e564d129.svg\";","module.exports = __webpack_public_path__ + \"static/media/044-music.e32527f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/045-disc.22ad0c52.svg\";","module.exports = __webpack_public_path__ + \"static/media/046-add.b9dab5f3.svg\";","module.exports = __webpack_public_path__ + \"static/media/047-favorite.3ece15e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/048-delete.b558d821.svg\";","module.exports = __webpack_public_path__ + \"static/media/049-playlist.5636b175.svg\";","module.exports = __webpack_public_path__ + \"static/media/050-favorite.44db2ff6.svg\";","module.exports = __webpack_public_path__ + \"static/media/051-play-white.0800b208.svg\";","module.exports = __webpack_public_path__ + \"static/media/052-play-white-and-black.4cf5ad43.svg\";","module.exports = __webpack_public_path__ + \"static/media/TriangleArrow-Up.9e89e734.svg\";","module.exports = __webpack_public_path__ + \"static/media/TriangleArrow-Down.1335ae8b.svg\";","module.exports = __webpack_public_path__ + \"static/media/001-profile image.5e946c20.svg\";","module.exports = __webpack_public_path__ + \"static/media/002-calendar.e550410d.svg\";","module.exports = __webpack_public_path__ + \"static/media/003-music-album.23bd598d.svg\";","module.exports = __webpack_public_path__ + \"static/media/004-song.a9a7dbc7.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-cross-white.9d7e0277.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-button-white.15c3ab75.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu-button.a450cc10.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu-button-white.dbcbd3d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-button.a5cdd35d.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-button-white.cf1d8d53.svg\";","module.exports = __webpack_public_path__ + \"static/media/001-call center agent.9196716b.svg\";","module.exports = __webpack_public_path__ + \"static/media/002-phone operator.7e4e36ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/003-call center agent.a0e6562f.svg\";","module.exports = __webpack_public_path__ + \"static/media/004-call center agent.a7d9783f.svg\";","module.exports = __webpack_public_path__ + \"static/media/005-call center agent.81ce5863.svg\";","module.exports = __webpack_public_path__ + \"static/media/006-call center agent.9ac6e8a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/007-phone operator.7ca2410a.svg\";","module.exports = __webpack_public_path__ + \"static/media/008-call center agent.543c385c.svg\";","module.exports = __webpack_public_path__ + \"static/media/009-customer service agent.eebb75a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/010-call center agent.286afc6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/011-call center agent.5b1648dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/012-call center agent.c75a2bb2.svg\";","module.exports = __webpack_public_path__ + \"static/media/013-call center agent.eba71a61.svg\";","module.exports = __webpack_public_path__ + \"static/media/014-call center agent.280a8617.svg\";","module.exports = __webpack_public_path__ + \"static/media/015-call center agent.c79db27f.svg\";","module.exports = __webpack_public_path__ + \"static/media/016-technical Support.3b0bfa1e.svg\";","module.exports = __webpack_public_path__ + \"static/media/017-call center agent.2b30409f.svg\";","module.exports = __webpack_public_path__ + \"static/media/018-call center agent.e50f0ff8.svg\";","module.exports = __webpack_public_path__ + \"static/media/019-call center agent.1c1e47f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/020-call center agent.22c93c5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/021-call center agent.a5524c57.svg\";","module.exports = __webpack_public_path__ + \"static/media/022-call center agent.b1b5bc98.svg\";","module.exports = __webpack_public_path__ + \"static/media/023-call center agent.6f3e7f90.svg\";","module.exports = __webpack_public_path__ + \"static/media/024-call center agent.169b4d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/025-call center agent.3e27c702.svg\";","module.exports = __webpack_public_path__ + \"static/media/026-call center agent.ce9df26d.svg\";","module.exports = __webpack_public_path__ + \"static/media/027-call center agent.0cedae6b.svg\";","module.exports = __webpack_public_path__ + \"static/media/028-call center agent.6838ce35.svg\";","module.exports = __webpack_public_path__ + \"static/media/029-call center agent.ceda4081.svg\";","module.exports = __webpack_public_path__ + \"static/media/030-call center agent.0ad32b08.svg\";","module.exports = __webpack_public_path__ + \"static/media/031-call center agent.52ddeb29.svg\";","module.exports = __webpack_public_path__ + \"static/media/032-call center agent.1712a28f.svg\";","module.exports = __webpack_public_path__ + \"static/media/033-call center agent.6c88e104.svg\";","module.exports = __webpack_public_path__ + \"static/media/034-call center agent.38134a95.svg\";","module.exports = __webpack_public_path__ + \"static/media/035-call center agent.930d9457.svg\";","module.exports = __webpack_public_path__ + \"static/media/036-call center agent.d47ea1a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/037-call center agent.10b893cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/038-call center agent.ba1485ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/039-call center agent.d757e3f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/040-call center agent.daebee4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/041-call center agent.7461b813.svg\";","module.exports = __webpack_public_path__ + \"static/media/042-call center agent.4fb78d11.svg\";","module.exports = __webpack_public_path__ + \"static/media/043-call center agent.3ba0873f.svg\";","module.exports = __webpack_public_path__ + \"static/media/044-call center agent.7aad74ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/045-call center agent.5fa5313b.svg\";","module.exports = __webpack_public_path__ + \"static/media/046-call center agent.2fc91f22.svg\";","module.exports = __webpack_public_path__ + \"static/media/047-call center agent.89dec4d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/048-call center agent.42b45ba9.svg\";","module.exports = __webpack_public_path__ + \"static/media/049-call center agent.cecb20f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/050-call center agent.ef794912.svg\";","module.exports = __webpack_public_path__ + \"static/media/001-shooting game.38805a59.svg\";","module.exports = __webpack_public_path__ + \"static/media/002-basketball.37d47d60.svg\";","module.exports = __webpack_public_path__ + \"static/media/003-arcade.d727f260.svg\";","module.exports = __webpack_public_path__ + \"static/media/004-racing.41ce3126.svg\";","module.exports = __webpack_public_path__ + \"static/media/005-slot machine.4b8b65f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/006-cherry.10078e35.svg\";","module.exports = __webpack_public_path__ + \"static/media/007-life.3c5145ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/008-you.8069dc56.svg\";","module.exports = __webpack_public_path__ + \"static/media/009-arcade.d80756dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/010-arcade.28f62832.svg\";","module.exports = __webpack_public_path__ + \"static/media/011-dart.655f727d.svg\";","module.exports = __webpack_public_path__ + \"static/media/012-star.ab00e472.svg\";","module.exports = __webpack_public_path__ + \"static/media/013-bowling pins.69b8faf3.svg\";","module.exports = __webpack_public_path__ + \"static/media/014-screen.b0e55384.svg\";","module.exports = __webpack_public_path__ + \"static/media/015-tokens.67c31241.svg\";","module.exports = __webpack_public_path__ + \"static/media/016-spaceship.fdef55ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/017-member card.b0c08ab8.svg\";","module.exports = __webpack_public_path__ + \"static/media/018-pinball.c13d2348.svg\";","module.exports = __webpack_public_path__ + \"static/media/019-strawberry.c607eebc.svg\";","module.exports = __webpack_public_path__ + \"static/media/020-play.a8155e1c.svg\";","module.exports = __webpack_public_path__ + \"static/media/021-token.db389c20.svg\";","module.exports = __webpack_public_path__ + \"static/media/022-air hockey.4ce1c625.svg\";","module.exports = __webpack_public_path__ + \"static/media/023-gamepad.d9cf6b50.svg\";","module.exports = __webpack_public_path__ + \"static/media/024-dancing game.cf8f0835.svg\";","module.exports = __webpack_public_path__ + \"static/media/025-karaoke.fbd5db53.svg\";","module.exports = __webpack_public_path__ + \"static/media/026-whack a mole.249a4333.svg\";","module.exports = __webpack_public_path__ + \"static/media/027-arcade.b64b82d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/028-vending machine.041fb537.svg\";","module.exports = __webpack_public_path__ + \"static/media/029-motorbike.04ea2efa.svg\";","module.exports = __webpack_public_path__ + \"static/media/030-game over.8eed727e.svg\";","module.exports = __webpack_public_path__ + \"static/media/031-billiard.5c6421c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/032-joystick.fdb645b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/033-heart.2d3d74dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/034-bomb.26ab8cc2.svg\";","module.exports = __webpack_public_path__ + \"static/media/035-ufo.aa958efb.svg\";","module.exports = __webpack_public_path__ + \"static/media/036-punching ball.72d4bea8.svg\";","module.exports = __webpack_public_path__ + \"static/media/037-ticket machine.fb5d1f53.svg\";","module.exports = __webpack_public_path__ + \"static/media/038-crane machine.329a8172.svg\";","module.exports = __webpack_public_path__ + \"static/media/039-gamepad.2bee29ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/040-ping pong.d49e9100.svg\";","module.exports = __webpack_public_path__ + \"static/media/041-cubes.3b28d732.svg\";","module.exports = __webpack_public_path__ + \"static/media/042-arcade.7bb1fd8e.svg\";","module.exports = __webpack_public_path__ + \"static/media/043-bird.2ee90e05.svg\";","module.exports = __webpack_public_path__ + \"static/media/044-fencing.97e74043.svg\";","module.exports = __webpack_public_path__ + \"static/media/045-tetris.b0ddda21.svg\";","module.exports = __webpack_public_path__ + \"static/media/046-cinema tickets.5f46b2e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/047-rotation.b3574435.svg\";","module.exports = __webpack_public_path__ + \"static/media/048-dart.ff8a7f43.svg\";","module.exports = __webpack_public_path__ + \"static/media/049-lottery game.95a24024.svg\";","module.exports = __webpack_public_path__ + \"static/media/050-table football.cfbe43a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/Saturday Nights - Khalid.239e0697.mp3\";","class ActionHandler { \r\n    constructor(handler) {\r\n        this.handler = handler\r\n    }\r\n\r\n    setHandler = (handler) => {\r\n        this.handler = handler\r\n    }\r\n\r\n    call(...args) {\r\n        this.handler(...args)\r\n    }\r\n\r\n    destroy() {\r\n        this.handler = null\r\n        return null\r\n    }\r\n}\r\n\r\nclass SessionClient {\r\n\r\n    constructor(socket) {\r\n        this.socket = socket\r\n        this.onActions = {\r\n            rcvdChat: [],\r\n            rcvdPlayer: [],\r\n            rcvdQueue: [],\r\n            rcvdSession: []\r\n        }\r\n        this.initSocket()\r\n    }\r\n\r\n    initSocket = () => {\r\n        this.socket.on('connect', (socket) => {\r\n            console.log(\"Connected to Session namespace\")\r\n        })\r\n\r\n        this.socket.on('disconnect', (socket) => {\r\n            console.log(\"Disconnected from Session namespace\")\r\n        })\r\n\r\n        this.socket.onAny((event, ...args) => {\r\n            this.parseAction(event, ...args)\r\n        })\r\n    }\r\n\r\n    disconnect = () => {\r\n        this.leaveSession()\r\n        this.socket.disconnect()\r\n    }\r\n\r\n    createActionObj = (action, username, userId, data) => {\r\n        return {\r\n            action: action,\r\n            username: username,\r\n            userId: userId,\r\n            data: data\r\n        }\r\n    }\r\n\r\n    subscribeToAction = (action, callback, prepend=false) => {\r\n        if (action in this.onActions) {\r\n            var handler = new ActionHandler(callback)\r\n            if (prepend) {\r\n                this.onActions[action].unshift(handler)\r\n            }\r\n            else {\r\n                this.onActions[action].append(handler)\r\n            }\r\n            return handler\r\n        }\r\n    }\r\n\r\n    unsubscribeFromAction = (action, handler) => {\r\n        if (action in this.onActions) {\r\n            var ind = this.onActions[action].findIndex(x => x == handler)\r\n            if (ind > -1) {\r\n                var handler = this.onActions.splice(ind, 1)[0]\r\n                return handler.destroy()\r\n            }\r\n            else {\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n        Action receivers\r\n    */\r\n    parseAction = (action, ...args) => {\r\n        switch (action) {\r\n            case \"chat\":\r\n                this.receiveChat(args[0])\r\n                break\r\n            case \"player\":\r\n                this.receivePlayer(args[0])\r\n                break\r\n            case \"queue\":\r\n                this.receiveQueue(args[0])\r\n                break\r\n            case \"session\":\r\n                this.receiveSession(args[0])\r\n                break\r\n            default:\r\n                console.log(\"Invalid action\")\r\n        }\r\n    }\r\n\r\n    receiveChat = (chatObj) => {\r\n        this.onActions.rcvdChat.forEach(handler => handler.call(chatObj))\r\n    }\r\n\r\n    receivePlayer = (playerObj) => {\r\n        this.onActions.rcvdPlayer.forEach(handler => handler.call(playerObj))\r\n    }\r\n\r\n    receiveQueue = (queueObj) => {\r\n        this.onActions.rcvdQueue.forEach(handler => handler.call(queueObj))\r\n    }\r\n\r\n    receiveSession = (sessionObj) => {\r\n        this.onActions.rcvdSession.forEach(handler => handler.call(sessionObj))\r\n    }\r\n\r\n    /*\r\n        Action emitters\r\n    */\r\n    joinSession = (id, callback) => {\r\n        this.socket.emit(\"join\", id, (response) => {\r\n            if (response.status === 200) {\r\n                console.log(\"Session joined\")\r\n            }\r\n            \r\n            if (callback) {\r\n                callback(response)\r\n            }\r\n        })\r\n    }\r\n\r\n    leaveSession = (callback) => {\r\n        this.socket.emit(\"leave\", (response) => {\r\n            if (response.status === 200) {\r\n                console.log(\"Session joined\")\r\n            }\r\n            \r\n            if (callback) {\r\n                callback(response)\r\n            }\r\n        })\r\n    }\r\n\r\n    emitChat = (username, userId, data, callback) => {\r\n        var actionObj = this.createActionObj(\"chat\", username, userId, data)\r\n        this.socket.emit(\"chat\", actionObj, (response, chatObj) => {\r\n            if (callback) {\r\n                callback(response, chatObj)\r\n            }\r\n        })\r\n    }\r\n\r\n    emitPlayer = (username, userId, data, callback) => {\r\n        var actionObj = this.createActionObj(\"player\", username, userId, data)\r\n        this.socket.emit(\"player\", actionObj, (response, playerObj) => {\r\n            if (callback) {\r\n                callback(response, playerObj)\r\n            }\r\n        })\r\n    }\r\n\r\n    emitQueue = (username, userId, data, callback) => {\r\n        var actionObj = this.createActionObj(\"queue\", username, userId, data)\r\n        this.socket.emit(\"queue\", actionObj, (response, queueObj) => {\r\n            if (callback) {\r\n                callback(response, queueObj)\r\n            }\r\n        })\r\n    }\r\n\r\n    emitSession = (username, userId, data, callback) => {\r\n        var actionObj = this.createActionObj(\"session\", username, userId, data)\r\n        this.socket.emit(\"session\", actionObj, (response, sessionObj) => {\r\n            if (callback) {\r\n                callback(response, sessionObj)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default SessionClient","export const youtube_data_api_src = \"https://apis.google.com/js/api.js\"\r\nexport const youtube_iframe_api_src = 'https://www.youtube.com/iframe_api'\r\nexport const youtube_data_api_discovery_doc = \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\"\r\nexport const youtube_data_api_oauth_scope = \"https://www.googleapis.com/auth/youtube\"\r\nexport const google_oauth2_src = \"https://apis.google.com/js/platform.js\"\r\n\r\nexport const google_oauth2_client_id = '1062386445238-hpt4garm04t6lfcn82brmbic5gng7u8i.apps.googleusercontent.com'\r\nexport const youtube_data_api_key = 'AIzaSyD2baf28I9I_FGcSCKay1GARnAMghlcQW0'\r\n\r\n/*\r\n    The 7 screens of the app\r\n*/\r\nexport const screens = {\r\n    'LOGIN': 0,\r\n    'HOME': 1,\r\n    'SESSION': 2,\r\n    'SEARCH': 3,\r\n    'PROFILE': 4,\r\n    'COLLECTION': 5,\r\n    'SETTINGS': 6\r\n}\r\n\r\n/*\r\n    The 3 states of repeat in the music player\r\n*/\r\nexport const repeatStates = {\r\n    'OFF' : 0,\r\n    'SONG' : 1,\r\n    'QUEUE' : 2\r\n}\r\n\r\n/*\r\n    The lowest-level, atomic actions that can be taken on the queue.\r\n    Every higher-level function such as shuffle, repeat, play, pause will be implemented on top of these.\r\n*/\r\nexport const queueActionTypes = {\r\n    'ADD_SONG': 0,\r\n    'REMOVE_SONG': 1,\r\n    'PUSH_SONG_INTO_PLAYER': 2,\r\n    'PULL_SONG_FROM_PLAYER': 3,\r\n    'REPOSITION_SONG': 4,\r\n}\r\n\r\n/*\r\n    The lowest-level, atomic actions that can be taken on the player.\r\n    Every higher-level function such as shuffle, repeat, play, pause will be implemented on top of these.\r\n*/\r\nexport const playerActionTypes = {\r\n    'PLAY_SONG': 0,\r\n    'PAUSE_SONG': 1,\r\n    'NEXT_SONG': 2,\r\n    'PREV_SONG': 3,\r\n    'TOGGLE_SHUFFLE': 4,\r\n    'TOGGLE_REPEAT': 5,\r\n    'SEEK': 6,\r\n}","import { youtube_data_api_src, youtube_data_api_discovery_doc, youtube_data_api_key, google_oauth2_client_id } from '../const'\r\n\r\nconst loadScript = require('load-script2')\r\n\r\nclass DataAPI {\r\n    constructor(onLoad, ...args) {\r\n        this._dataAPIReady = false\r\n        loadScript(youtube_data_api_src).then(() => {\r\n            window.gapi.load('client', () => {\r\n                window.gapi.client.init({\r\n                    apiKey: youtube_data_api_key,\r\n                    clientId: google_oauth2_client_id,\r\n                    discoveryDocs: [youtube_data_api_discovery_doc],\r\n                }).then(() => {\r\n                    this._dataAPIReady = true\r\n                    if (onLoad) {\r\n                        onLoad(...args)\r\n                    }\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    unescapeHTML = (html) => {\r\n        var doc = document.createElement(\"textarea\");\r\n        doc.innerHTML = html;\r\n        return doc.value;\r\n    }\r\n\r\n    fetchVideoById = (id, snippet=false) => {\r\n        if (this._dataAPIReady) {\r\n            var res = window.gapi.client.youtube.videos.list({\r\n                part: snippet ? [\"snippet\", \"statistics\", \"contentDetails\"] : [\"contentDetails\"],\r\n                _id: id\r\n            }).then((response) => {\r\n                var obj = response.result.items[0]\r\n                if (snippet) {\r\n                    return {\r\n                        _id: obj.id,\r\n                        type: \"song\",\r\n                        name: this.unescapeHTML(obj.snippet.title),\r\n                        creatorId: obj.snippet.channelId,\r\n                        creator: this.unescapeHTML(obj.snippet.channelTitle),\r\n                        likes: parseInt(obj.statistics.likeCount),\r\n                        image: obj.snippet.thumbnails.default ? obj.snippet.thumbnails.default.url : null,\r\n                        image_high: obj.snippet.thumbnails.high ? obj.snippet.thumbnails.high.url : null,\r\n                        image_maxres: obj.snippet.thumbnails.maxres ? obj.snippet.thumbnails.maxres.url : null,\r\n                        image_med: obj.snippet.thumbnails.medium ? obj.snippet.thumbnails.medium.url : null,\r\n                        image_std: obj.snippet.thumbnails.standard ? obj.snippet.thumbnails.standard.url: null,\r\n                        duration: Date.parse(obj.contentDetails.duration)\r\n                    }\r\n                } \r\n                else {\r\n                    return {\r\n                        _id: obj.id,\r\n                        duration: Date.parse(obj.contentDetails.duration)\r\n                    }\r\n                }\r\n            }, (err) => {\r\n                return err\r\n            }, this)\r\n\r\n            return res\r\n        }\r\n    }\r\n\r\n    queryVideos = (query) => {\r\n        if (this._dataAPIReady) {\r\n            var res = window.gapi.client.youtube.search.list({\r\n                part: [\r\n                    \"snippet\"\r\n                ],\r\n                //eventType: \"completed\",\r\n                maxResults: 25,\r\n                order: \"viewCount\",\r\n                q: query,\r\n                type: \"video\",\r\n                videoCategoryId: \"10\",\r\n                videoSyndicated: true,\r\n                videoEmbeddable: true\r\n            }).then((response) => {\r\n                return response.result.items.map(res => this.constructVideoResultObj(res))\r\n            }, (err) => {\r\n                return err\r\n            }, this)\r\n\r\n            return res\r\n        }\r\n    }\r\n\r\n    constructVideoResultObj = (obj) => {\r\n        return {\r\n            _id: obj.id.videoId,\r\n            type: \"song\",\r\n            name: this.unescapeHTML(obj.snippet.title),\r\n            creatorId: obj.snippet.channelId,\r\n            creator: this.unescapeHTML(obj.snippet.channelTitle),\r\n            image: obj.snippet.thumbnails.default.url,\r\n            image_high: obj.snippet.thumbnails.high.url,\r\n            image_med: obj.snippet.thumbnails.medium.url\r\n        }\r\n    }\r\n}\r\n\r\nexport default DataAPI;","import { youtube_iframe_api_src } from '../const'\r\n\r\nconst loadScript = require('load-script2')\r\n\r\nclass PlayerAPI {\r\n\r\n    constructor() {\r\n        this._playerReady = false\r\n        this.player = null\r\n        this.subscribedEvents = {\r\n            onPlayerReady: null,\r\n            onPlayerStateChange: null,\r\n            onPlayerPlaybackQualityChange: null,\r\n            onPlayerPlaybackRateChange: null,\r\n            onPlayerError: null,\r\n            onPlayerApiChange: null\r\n        }\r\n    }\r\n\r\n    subscribeToEvent = (event, subscriber) => {\r\n        if (event in this.subscribedEvents) {\r\n            this.subscribedEvents[event] = subscriber\r\n        }\r\n    }\r\n\r\n    unsubscribeFromEvent = (event) => {\r\n        this.subscribedEvents[event] = null\r\n    }\r\n\r\n    onPlayerReady = (e) => { //Called when initial player is loaded\r\n        this._playerReady = true\r\n        this.player.playVideo()\r\n        if (this.subscribedEvents.onPlayerReady) {\r\n            this.subscribedEvents.onPlayerReady(e)\r\n        }\r\n    }\r\n\r\n    onPlayerStateChange = (e) => {\r\n        if (this.subscribedEvents.onPlayerStateChange) {\r\n            this.subscribedEvents.onPlayerStateChange(e)\r\n        }\r\n    }\r\n\r\n    onPlayerPlaybackQualityChange = (e) => {\r\n        if (this.subscribedEvents.onPlayerPlaybackQualityChange) {\r\n            this.subscribedEvents.onPlayerPlaybackQualityChange(e)\r\n        }\r\n    }\r\n\r\n    onPlayerPlaybackRateChange = (e) => {\r\n        if (this.subscribedEvents.onPlayerPlaybackRateChange) {\r\n            this.subscribedEvents.onPlayerPlaybackRateChange(e)\r\n        }\r\n    }\r\n\r\n    onPlayerError = (e) => {\r\n        if (this.subscribedEvents.onPlayerError) {\r\n            this.subscribedEvents.onPlayerError(e)\r\n        }\r\n    }\r\n\r\n    onPlayerApiChange = (e) => {\r\n        if (this.subscribedEvents.onPlayerApiChange) {\r\n            this.subscribedEvents.onPlayerApiChange(e)\r\n        }\r\n    }\r\n\r\n    isPlayerInit = () => {\r\n        return this.player != null\r\n    }\r\n\r\n    initIFrameAPI = (id) => {\r\n        if (this.player == null) {\r\n            loadScript(youtube_iframe_api_src)\r\n            window.onYouTubeIframeAPIReady = (() => {\r\n                this.player = new window.YT.Player('yt-player', {\r\n                    videoId: id,\r\n                    playerVars: {\r\n                        origin: window.location.origin,\r\n                        autoplay: 1,\r\n                        enablejsapi: 1\r\n                    },\r\n                    events: {\r\n                        onReady: this.onPlayerReady.bind(this),\r\n                        onStateChange: this.onPlayerStateChange.bind(this),\r\n                        onPlaybackQualityChange: this.onPlayerPlaybackQualityChange.bind(this),\r\n                        onPlaybackRateChange: this.onPlayerPlaybackRateChange.bind(this),\r\n                        onError: this.onPlayerError.bind(this),\r\n                        onApiChange: this.onPlayerApiChange.bind(this)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    destroyIFrameAPI = () => {\r\n        if (this.player) {\r\n            this.player.destroy()\r\n            this.player = null\r\n        }\r\n        return null\r\n    }\r\n\r\n    loadVideoById = (id) => {\r\n        if (this.player) {\r\n            this.player.loadVideoById(id)\r\n            this.player.playVideo()\r\n        }\r\n    }\r\n\r\n    playVideo = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.playVideo()\r\n        }\r\n    }\r\n\r\n    pauseVideo = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.pauseVideo()\r\n        }\r\n    }\r\n\r\n    stopVideo = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.stopVideo()\r\n        }\r\n    }\r\n\r\n    seekTo = (time) => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.seekTo(time)\r\n        }\r\n    }\r\n\r\n    nextVideo = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.nextVideo()\r\n        }\r\n    }\r\n\r\n    previousVideo = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.previousVideo()\r\n        }\r\n    }\r\n\r\n    mute = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.mute()\r\n        }\r\n    }\r\n\r\n    unMute = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.unMute()\r\n        }\r\n    }\r\n\r\n    setVolume = (volume) => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.setVolume(volume)\r\n        }\r\n    }\r\n\r\n    setLoop = (loop) => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.setLoop(loop)\r\n        }\r\n    }\r\n\r\n    setShuffle = (shuffle) => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.setVolume(shuffle)\r\n        }\r\n    }\r\n\r\n    isPaused = () => {\r\n        if (this._playerReady && this.player) {\r\n            return this.player.getPlayerState() === window.YT.PlayerState.PAUSED\r\n        }\r\n        return true\r\n    }\r\n\r\n    isMuted = () => {\r\n        if (this._playerReady && this.player) {\r\n            return this.player.isMuted()\r\n        }\r\n        return false\r\n    }\r\n\r\n    getPlayerState = () => {\r\n        if (this._playerReady && this.player) {\r\n            return this.player.getPlayerState()\r\n        }\r\n    }\r\n\r\n    getPlaylistIndex = () => {\r\n        if (this._playerReady && this.player) {\r\n            this.player.getPlaylistIndex()\r\n        }\r\n    }\r\n\r\n    getPlaylist = () => {\r\n        if (this._playerReady) {\r\n            this.player.getPlaylist()\r\n        }\r\n    }\r\n\r\n    getVolume = () => {\r\n        if (this._playerReady && this.player) {\r\n            return this.player.getVolume()\r\n        }\r\n        return 50\r\n    }\r\n\r\n    getCurrentTime = () => {\r\n        if (this._playerReady && this.player) {\r\n            return parseInt(this.player.getCurrentTime())\r\n        }\r\n        return 0\r\n    }\r\n\r\n    getDuration = () => {\r\n        if (this._playerReady && this.player) {\r\n            return parseInt(this.player.getDuration())\r\n        }\r\n        return 0\r\n    }\r\n}\r\n\r\nexport default PlayerAPI;","import { repeatStates } from '../../const'\r\nconst _ = require('lodash');\r\n\r\nclass Queue {\r\n\r\n    constructor(pastQueue, futureQueue, currentSong, repeat=repeatStates.OFF, shuffle=false) {\r\n        this._pastQueue = (pastQueue === undefined || pastQueue.length === 0) ? [] : pastQueue\r\n        this._futureQueue = (futureQueue === undefined || futureQueue.length === 0) ? [] : futureQueue\r\n        this._currentSong = currentSong === undefined ? this.getEmptySong() : currentSong\r\n        this._repeat = repeat\r\n        this._shuffle = shuffle\r\n\r\n        this._originalFutureQueue = []\r\n    }\r\n\r\n    /*\r\n        Queue States\r\n    */\r\n\r\n    currentSongIsEmpty = () => {\r\n        return this._currentSong._id === \"\"\r\n    }\r\n\r\n    getEmptySong = () => {\r\n        return {\r\n            _id: \"\",\r\n            type: \"song\",\r\n            name: \"\",\r\n            creatorId: \"\",\r\n            creator: \"\",\r\n            image: null\r\n        }\r\n    }\r\n\r\n    getCurrentSong = () => {\r\n        return _.cloneDeep(this._currentSong)\r\n    }\r\n\r\n    getPastQueue = () => {\r\n        return _.cloneDeep(this._pastQueue)\r\n    }\r\n\r\n    getFutureQueue = () => {\r\n        return _.cloneDeep(this._futureQueue)\r\n    }\r\n\r\n    getPastQueueLength = () => {\r\n        return this._pastQueue.length\r\n    }\r\n\r\n    getFutureQueueLength = () => {\r\n        return this._futureQueue.length\r\n    }\r\n\r\n    getRepeat = () => {\r\n        return this._repeat\r\n    }\r\n\r\n    getShuffle = () => {\r\n        return this._shuffle\r\n    }\r\n\r\n    /*\r\n        Queue Actions\r\n    */\r\n\r\n    /*\r\n        setCurrentSong should only be used when the user performs an action on the queue\r\n        that would result in restarting an entirely new queue, followed by playing a new song.\r\n        Thus, setCurrentSong is typically called right after/in conjunction with clearFutureQueue\r\n    */\r\n    setCurrentSong = (song) => {\r\n        this._currentSong = song\r\n    }\r\n\r\n    nextSong = () => {\r\n        if (this._repeat === repeatStates.SONG) {\r\n            return true\r\n        }\r\n\r\n        if (this._futureQueue.length > 0) {\r\n            this._pastQueue.push(this._currentSong)\r\n            var song = this._futureQueue.shift()\r\n            this.setCurrentSong(song)\r\n            if (this._shuffle) {\r\n                var ind = this._originalFutureQueue.findIndex(x => x._id === song._id)\r\n                this._originalFutureQueue.splice(ind, 1)\r\n            }\r\n            return true\r\n        }\r\n        else if (this._repeat === repeatStates.QUEUE) {\r\n            this._pastQueue.push(this._currentSong)\r\n            this.setCurrentSong(this._pastQueue.shift())\r\n            return true\r\n        }\r\n\r\n        return false\r\n        \r\n    }\r\n\r\n    previousSong = () => {\r\n        if (this._repeat === repeatStates.SONG) {\r\n            return true\r\n        }\r\n\r\n        if (this._pastQueue.length > 0) {\r\n            this._futureQueue.unshift(this._currentSong)\r\n\r\n            if (this._shuffle) {\r\n                this._originalFutureQueue.unshift(this._currentSong)\r\n            }\r\n\r\n            this.setCurrentSong(this._pastQueue.pop())\r\n            return true\r\n        }\r\n        else if (this._repeat === repeatStates.QUEUE) {\r\n            this._futureQueue.unshift(this._currentSong)\r\n\r\n            if (this._shuffle) {\r\n                this._originalFutureQueue.unshift(this._currentSong)\r\n            }\r\n\r\n            this.setCurrentSong(this._futureQueue.pop())\r\n            return true\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    clearFutureQueue = () => {\r\n        this._futureQueue = []\r\n        \r\n        if (this._shuffle) {\r\n            this.toggleShuffle()\r\n        }\r\n    }\r\n\r\n    /*\r\n        moveSongInFutureQueue prioritizes user-defined order, therefore, changes in order made in shuffle mode\r\n        is expected to persist even when shuffle is turned off. However, note that the converse is not true.\r\n    */\r\n    moveSongInFutureQueue = (fromIndex, toIndex) => { \r\n        var song = this._futureQueue.splice(fromIndex, 1)[0]\r\n        this._futureQueue.splice(toIndex, 0, song)\r\n\r\n        if (this._shuffle) {\r\n            var ind = this._originalFutureQueue.findIndex(x => x._id === song._id)\r\n            this._originalFutureQueue.splice(toIndex, 0, this._originalFutureQueue.splice(ind, 1)[0])\r\n        }\r\n    }\r\n\r\n    /*\r\n        moveSongFromPastQueue allows the manual moving of a song from the past queue to the future queue by the user.\r\n        This is used in Sessions to support replaying an already played song. The function presumes that fromIndex represents\r\n        the index of the target song inside the past queue, while toIndex represents the target index inside the future queue.\r\n        \r\n        Like moveSongInFutureQueue, this function prioritizes user-defined order (e.g. moves made when shuffle is on will be \r\n        persist even when shuffle is turned off)\r\n    */\r\n    moveSongFromPastQueue = (fromIndex, toIndex) => {\r\n        var song = this._pastQueue.splice(fromIndex, 1)[0]\r\n        this._futureQueue.splice(toIndex, 0, song)\r\n\r\n        if (this._shuffle) {\r\n            this._originalFutureQueue.splice(toIndex, 0, song)\r\n        }\r\n    }\r\n\r\n    addSongToFutureQueue = (song) => {\r\n        if (this._shuffle) {\r\n            var ind = Math.floor(Math.random() * this._futureQueue.length - 1)\r\n            this._futureQueue.splice(ind, 0, song)\r\n            this._originalFutureQueue.push(song)\r\n            console.log(\"pushed song to shuffled futureQueue\")\r\n        }\r\n        else {\r\n            this._futureQueue.push(song)\r\n            console.log(\"pushed song to nonshuffled futureQueue\")\r\n            console.log(this._futureQueue);\r\n        }\r\n    }\r\n\r\n    removeSongFromFutureQueue = (index) => {\r\n        var song = this._futureQueue.splice(index, 1)\r\n\r\n        if (this._shuffle) {\r\n            var ind = this._originalFutureQueue.findIndex(x => x._id === song._id)\r\n            this._originalFutureQueue.splice(ind, 1)\r\n        }\r\n    }\r\n\r\n    toggleRepeat = () => {\r\n        this._repeat = this._repeat === repeatStates.QUEUE ? repeatStates.OFF : this._repeat + 1\r\n    }\r\n\r\n\r\n    toggleShuffle = () => {\r\n        this._shuffle = !this._shuffle\r\n        if (this._shuffle) {\r\n            this._originalFutureQueue = _.cloneDeep(this._futureQueue)\r\n            /* Fisher-Yates shuffle from https://medium.com/@nitinpatel_20236/how-to-shuffle-correctly-shuffle-an-array-in-javascript-15ea3f84bfb */\r\n            for (let i = this._futureQueue.length - 1; i > 0; i--){\r\n                const j = Math.floor(Math.random() * i)\r\n                const temp = this._futureQueue[i]\r\n                this._futureQueue[i] = this._futureQueue[j]\r\n                this._futureQueue[j] = temp\r\n            }\r\n        }\r\n        else {\r\n            this._futureQueue = this._originalFutureQueue\r\n            this._originalFutureQueue = []\r\n        }\r\n    }\r\n\r\n    /*\r\n        setRepeat should only be used only in special cases where an abnormal state\r\n        transition is necessary, which cannot be achieved using toggle (e.g. repeat-song -> repeat-off),\r\n        and that the developer is well aware of the states before and after calling set\r\n    */\r\n    setRepeat = (val) => {\r\n        if (!(Object.values(repeatStates).indexOf(val) > -1)) {\r\n            return\r\n        }\r\n        this._repeat = val\r\n    }\r\n\r\n    setShuffle = (val) => {\r\n        if (!(val === false || val === true)) {\r\n            return\r\n        }\r\n        if ((this._shuffle && val) || !(this._shuffle || val)) { //If current state is not equal to target state\r\n            return\r\n        }\r\n        else {\r\n            this.toggleShuffle()\r\n        }\r\n    }\r\n}\r\n\r\nexport default Queue;","/* This file is strictly intended for graphics exports*/\r\n\r\n/* music_player_pack exports*/\r\nexport const icon_music_1 = require('./music_player_pack/001-music.svg')\r\nexport const icon_play_1 = require('./music_player_pack/002-play.svg')\r\nexport const icon_pause_1 = require('./music_player_pack/003-pause.svg')\r\nexport const icon_disc = require('./music_player_pack/004-disc.svg')\r\nexport const icon_note = require('./music_player_pack/005-note.svg')\r\nexport const icon_playlist = require('./music_player_pack/006-playlist.svg')\r\nexport const icon_add_1 = require('./music_player_pack/007-add.svg')\r\nexport const icon_volume = require('./music_player_pack/008-volume.svg')\r\nexport const icon_speak_1 = require('./music_player_pack/009-speak.svg')\r\nexport const icon_music_album_1 = require('./music_player_pack/010-music album.svg')\r\nexport const icon_list = require('./music_player_pack/011-list.svg')\r\nexport const icon_microphone = require('./music_player_pack/012-microphone.svg')\r\nexport const icon_no_sound = require('./music_player_pack/013-no sound.svg')\r\nexport const icon_sound_control = require('./music_player_pack/014-sound control.svg')\r\nexport const icon_volume_up_1 = require('./music_player_pack/015-volume up.svg')\r\nexport const icon_volume_up_2 = require('./music_player_pack/016-volume up.svg')\r\nexport const icon_volume_down_1 = require('./music_player_pack/017-volume down.svg')\r\nexport const icon_speak_2 = require('./music_player_pack/018-speak.svg')\r\nexport const icon_pause_2 = require('./music_player_pack/019-pause.svg')\r\nexport const icon_play_2 = require('./music_player_pack/020-play.svg')\r\nexport const icon_pause_3 = require('./music_player_pack/021-pause.svg')\r\nexport const icon_repeat_1 = require('./music_player_pack/022-repeat.svg')\r\nexport const icon_next = require('./music_player_pack/023-next.svg')\r\nexport const icon_previous = require('./music_player_pack/024-previous.svg')\r\nexport const icon_notification = require('./music_player_pack/025-notification.svg')\r\nexport const icon_repeat_2 = require('./music_player_pack/026-repeat.svg')\r\nexport const icon_shuffle_arrows = require('./music_player_pack/027-shuffle arrows.svg')\r\nexport const icon_repeat_3 = require('./music_player_pack/028-repeat.svg')\r\nexport const icon_volume_down_2 = require('./music_player_pack/029-volume down.svg')\r\nexport const icon_volume_up_3 = require('./music_player_pack/030-volume up.svg')\r\nexport const icon_radio = require('./music_player_pack/031-radio.svg')\r\nexport const icon_disc_1 = require('./music_player_pack/032-disc.svg')\r\nexport const icon_music_album_2 = require('./music_player_pack/033-music album.svg')\r\nexport const icon_sound_mixer_1 = require('./music_player_pack/034-sound mixer.svg')\r\nexport const icon_like = require('./music_player_pack/035-like.svg')\r\nexport const icon_add_2 = require('./music_player_pack/036-add.svg')\r\nexport const icon_delete_1 = require('./music_player_pack/037-delete.svg')\r\nexport const icon_new_1 = require('./music_player_pack/038-new.svg')\r\nexport const icon_playlist_1 = require('./music_player_pack/039-playlist.svg')\r\nexport const icon_playlist_2 = require('./music_player_pack/040-playlist.svg')\r\nexport const icon_sound_mixer_2 = require('./music_player_pack/041-sound mixer.svg')\r\nexport const icon_music_album_3 = require('./music_player_pack/042-music album.svg')\r\nexport const icon_music_album_4 = require('./music_player_pack/043-music album.svg')\r\nexport const icon_music_2 = require('./music_player_pack/044-music.svg')\r\nexport const icon_disc_2 = require('./music_player_pack/045-disc.svg')\r\nexport const icon_add_3 = require('./music_player_pack/046-add.svg')\r\nexport const icon_favorite_1 = require('./music_player_pack/047-favorite.svg')\r\nexport const icon_delete_2 = require('./music_player_pack/048-delete.svg')\r\nexport const icon_playlist_3 = require('./music_player_pack/049-playlist.svg')\r\nexport const icon_favorite_2 = require('./music_player_pack/050-favorite.svg')\r\nexport const icon_play_white_1 = require('./music_player_pack/051-play-white.svg')\r\nexport const icon_play_white_and_black_1 = require('./music_player_pack/052-play-white-and-black.svg')\r\nexport const icon_up_arrow = require('./music_player_pack/TriangleArrow-Up.svg')\r\nexport const icon_down_arrow = require('./music_player_pack/TriangleArrow-Down.svg')\r\n\r\n/* user_pack imports*/\r\n\r\nexport const icon_profile_image = require('./user_pack/001-profile image.svg')\r\nexport const icon_calendar = require('./user_pack/002-calendar.svg')\r\nexport const icon_album = require('./user_pack/003-music-album.svg')\r\nexport const icon_song = require('./user_pack/004-song.svg')\r\nexport const delete_cross_white = require('./user_pack/delete-cross-white.svg')\r\nexport const delete_button_white = require('./user_pack/delete-button-white.svg')\r\nexport const menu_button = require('./user_pack/menu-button.svg')\r\nexport const menu_button_white = require('./user_pack/menu-button-white.svg')\r\nexport const plus_button = require('./user_pack/plus-button.svg')\r\nexport const plus_button_white = require('./user_pack/plus-button-white.svg')","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Dropdown, ButtonGroup, Image, Button } from 'react-bootstrap'\r\nimport { icon_profile_image } from '../graphics';\r\n\r\nclass AccountLink extends React.Component {\r\n\r\n    handleLogOutAccount = () => {\r\n        this.props.axiosWrapper.axiosGet('/auth/logout', (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleLogOut()\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    render() {\r\n        if (this.props.auth) {\r\n            return (\r\n                <Dropdown id=\"tab-component-account-link-container\" as={ButtonGroup}>\r\n                    <Button id=\"tab-component-account-link-button\">\r\n                        <Link to={\"/main/profile/\" + this.props.user._id}>\r\n                            <Image id=\"tab-component-account-link-image\" src={this.props.user.image ? this.props.user.image : icon_profile_image} />\r\n                        </Link>\r\n                    </Button>\r\n                    <Dropdown.Toggle split id=\"tab-component-account-link-dropdown-button\" />\r\n                    <Dropdown.Menu id=\"tab-component-account-link-dropdown-menu\">\r\n                        <Link to={\"/main/profile/\" + this.props.user._id}>\r\n                            <Dropdown.Item as={Button}>\r\n                                Profile\r\n                            </Dropdown.Item>\r\n                        </Link>\r\n                        <Link to={\"/main/settings\"}>\r\n                            <Dropdown.Item as={Button}>\r\n                                Settings\r\n                            </Dropdown.Item>\r\n                        </Link>\r\n                        <Dropdown.Item as={Button} onClick={(e) => this.handleLogOutAccount(e)}>\r\n                            Log Out\r\n                        </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <Link id=\"tab-component-login-button\" className=\"subtitle color-accented\" to=\"/login\">Login/Sign-Up</Link>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default AccountLink;","import React from 'react';\r\nimport AccountLink from './AccountLink.js'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nclass TabComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentScreen: 0\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"tab-component-container\">\r\n                <ul id='tab-component-nav-container' className='nav'>\r\n                    <li className='nav-item tab-component-link-container'>\r\n                        <NavLink href='#' className='nav-link tab-component-link title color-accented' activeClassName='nav-link tab-component-link-selected' to=\"/main/home\">Home</NavLink>\r\n                    </li>\r\n                    <li className='nav-item tab-component-link-container'>\r\n                        <NavLink href='#' className='nav-link tab-component-link title color-accented' activeClassName='nav-link tab-component-link-selected' to=\"/main/session\">Session</NavLink>\r\n                    </li>\r\n                    <li className='nav-item tab-component-link-container'>\r\n                        <NavLink href='#' className='nav-link tab-component-link title color-accented' activeClassName='nav-link tab-component-link-selected' to=\"/main/collection\">Collection</NavLink>\r\n                    </li>\r\n                    <li className='nav-item tab-component-link-container'>\r\n                        <NavLink href='#' className='nav-link tab-component-link title color-accented' activeClassName='nav-link tab-component-link-selected' to=\"/main/search\">Search</NavLink>\r\n                    </li>\r\n                </ul>\r\n                <AccountLink auth={this.props.auth} user={this.props.user} axiosWrapper={this.props.axiosWrapper} handleLogOut={this.props.handleLogOut} history={this.props.history}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TabComponent;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m255.67.005c-141.298 0-255.67 114.355-255.67 255.67 0 191.358 201.794 313.116 370.308 228.58l19.449 20.53c8.395 8.86 22.302 8.626 30.476.016l70.254-74.007c25.335-23.032 27.995-62.034 5.704-88.272 59.841-165.372-62.397-342.517-240.521-342.517zm-213.67 255.67c0-117.818 95.852-213.67 213.67-213.67 144.367 0 247.817 141.253 203.479 279.06-19.768-3.616-39.583 2.223-54.146 15.395-40.617-36.741-106.333-8.002-106.333 47.216 0 18.428 7.912 35.819 21.756 47.927l19.425 20.504c-140.75 60.26-297.851-43.381-297.851-196.432zm419.971 144.277c-1.034.908 2.618-2.882-56.952 59.871-59.605-62.914-55.267-58.423-56.594-59.537-15.456-12.969-6.261-38.278 13.912-38.278 11.946 0 21.666 9.72 21.666 21.667 0 11.598 9.402 21 21 21s21-9.402 21-21c0-11.947 9.72-21.667 21.667-21.667 19.916 0 29.255 24.787 14.301 37.944z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m319.337 255.675c0-35.106-28.561-63.667-63.667-63.667s-63.667 28.561-63.667 63.667 28.561 63.667 63.667 63.667 63.667-28.561 63.667-63.667zm-63.667 21.667c-11.947 0-21.667-9.72-21.667-21.667s9.72-21.667 21.667-21.667 21.667 9.72 21.667 21.667-9.72 21.667-21.667 21.667z\"\n});\n\nvar Svg035Like = function Svg035Like(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    enableBackground: \"new 0 0 511.556 511.556\",\n    height: 512,\n    viewBox: \"0 0 511.556 511.556\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Svg035Like, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/035-like.fb00be9a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport Ticker from 'react-ticker';\r\nimport RangeSlider from 'react-bootstrap-range-slider';\r\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap';\r\nimport { icon_play_2, icon_pause_3, icon_previous, icon_next, icon_repeat_3, icon_repeat_1, icon_shuffle_arrows, icon_volume_up_1, icon_no_sound } from '../graphics';\r\nimport { ReactComponent as FavoriteButton } from '../graphics/music_player_pack/035-like.svg'\r\nimport { repeatStates } from '../const'\r\nimport { times } from 'lodash';\r\n\r\n\r\nclass Player extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            user: this.props.user,\r\n            showTitleTicker: false,\r\n            currentSong: this.props.queue.getCurrentSong(),\r\n            currentTime: this.props.playerAPI.getCurrentTime(),\r\n            seeking: false\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.playerActionListener = this.props.sessionClient.subscribeToAction(\"player\", this.handleApplyPlayerState.bind(this))\r\n        this.queueActionListener = this.props.sessionClient.subscribeToAction(\"queue\", this.handleApplyPlayerState.bind(this))\r\n        this.props.playerAPI.subscribeToEvent(\"onPlayerStateChange\", this.handlePlayerStateChange.bind(this))\r\n        setInterval(() => {\r\n            this.setState({\r\n                currentSong: this.props.queue.getCurrentSong()\r\n            })\r\n            if (!this.state.seeking) {\r\n                this.setState({\r\n                    currentTime: this.props.playerAPI.getCurrentTime() \r\n                })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if (prevState.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user\r\n            })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.playerActionListener = this.props.sessionClient.unsubscribeFromAction(\"player\", this.playerActionListener)\r\n        this.queueActionListener = this.props.sessionClient.unsubscribeFromAction(\"queue\", this.queueActionListener)\r\n        this.props.playerAPI.unsubscribeFromEvent(\"onPlayerStateChange\")\r\n    }\r\n\r\n    handleGoToItem = (e) => {\r\n        \r\n    }\r\n\r\n    handleShowTitleTicker = () => {\r\n        this.setState({\r\n            showTitleTicker: true\r\n        })\r\n    }\r\n\r\n    handleHideTitleTicker = () => {\r\n        this.setState({\r\n            showTitleTicker: false\r\n        })\r\n    }\r\n\r\n    handleEmitPlayerState = (action, subaction, ...args) => {\r\n        if (!(this.props.currentSession && this.isHost())) {\r\n            return\r\n        }\r\n\r\n        var username = this.props.user.username\r\n        var userId = this.props.user._id\r\n        var data = {}\r\n        \r\n        if (action === \"player\") {\r\n            data.subaction = subaction\r\n            this.sessionClient.emitPlayer(username, userId, data)\r\n        }\r\n        else if (action === \"queue\") {\r\n            data.subaction = subaction\r\n            data.state = args[0]\r\n            this.sessionClient.emitQueue(username, userId, data)\r\n        }\r\n    }\r\n\r\n    handleApplyPlayerState = (actionObj) => {\r\n        if (this.props.currentSession && this.isHost()) {\r\n            return\r\n        }\r\n\r\n        if (actionObj.action === \"player\") {\r\n            switch (actionObj.data.subaction) {\r\n                case \"play\":\r\n                    this.handleSetPlay(true)\r\n                    break\r\n                case \"pause\":\r\n                    this.handleSetPlay(false)\r\n                    break\r\n                case \"next_song\":\r\n                    this.handleNextSong()\r\n                    break\r\n                case \"prev_song\":\r\n                    this.handlePreviousSong()\r\n                    break\r\n                default:\r\n                    console.log(\"Invalid subaction\")\r\n            }\r\n        }\r\n        else if (actionObj.action === \"queue\") {\r\n            switch (actionObj.data.subaction) {\r\n                case \"set_shuffle\":\r\n                    this.props.queue.setShuffle(actionObj.data.state)\r\n                case \"set_repeat\":\r\n                    this.props.queue.setRepeat(actionObj.data.state)\r\n                default:\r\n                    break\r\n            }\r\n        }\r\n    }\r\n\r\n    handlePlayerStateChange = (e) => {\r\n        if (e.data === window.YT.PlayerState.ENDED) {\r\n            this.setState({\r\n                seeking: false\r\n            })\r\n            this.handleNextSong()\r\n        }\r\n    }\r\n\r\n    handleSeek = (value) => {\r\n        this.props.playerAPI.seekTo(value)\r\n        this.setState({\r\n            seeking: false\r\n        })\r\n    }\r\n\r\n    handleMoveSlider = (value) => {\r\n        this.setState({\r\n            currentTime: value,\r\n            seeking: true\r\n        })\r\n    }\r\n\r\n    handleNextSong = () => {\r\n        this.handleEmitPlayerState(\"player\", \"next_song\")\r\n        var hasNext = this.props.queue.nextSong()\r\n        if (hasNext) {\r\n            var currentSong = this.props.queue.getCurrentSong()\r\n            this.props.playerAPI.loadVideoById(currentSong._id)\r\n        }\r\n        else {\r\n            this.props.playerAPI.pauseVideo()\r\n            this.props.playerAPI.seekTo(0)\r\n        }\r\n    }\r\n\r\n    handlePreviousSong = () => {\r\n        this.handleEmitPlayerState(\"player\", \"prev_song\")\r\n        var hasPrev = this.props.queue.previousSong()\r\n        if (hasPrev) {\r\n            var currentSong = this.props.queue.getCurrentSong()\r\n            this.props.playerAPI.loadVideoById(currentSong._id)\r\n        }\r\n        else {\r\n            this.props.playerAPI.pauseVideo()\r\n            this.props.playerAPI.seekTo(0)\r\n        }\r\n    }\r\n\r\n    handleSetPlay = (val) => {\r\n        if (this.playerAPI.isPaused() !== val) {\r\n            this.handleTogglePlay()\r\n        }\r\n    }\r\n\r\n    handleTogglePlay = () => {\r\n        var currentSong\r\n        if (!this.props.playerAPI.isPlayerInit()) { //Initialize on first use\r\n            this.handleEmitPlayerState(\"player\", \"play\")\r\n            if (this.props.queue.currentSongIsEmpty()) {\r\n                this.props.queue.nextSong()\r\n            }\r\n\r\n            if (!this.props.queue.currentSongIsEmpty()) {\r\n                currentSong = this.props.queue.getCurrentSong()\r\n                this.props.playerAPI.initIFrameAPI(currentSong._id)\r\n            }\r\n            return\r\n        }\r\n\r\n        if (this.props.playerAPI.isPaused()) {\r\n            this.handleEmitPlayerState(\"player\", \"play\")\r\n            if (this.props.queue.currentSongIsEmpty()) {\r\n                this.props.queue.nextSong()\r\n\r\n                currentSong = this.props.queue.getCurrentSong()\r\n                if (currentSong != null) {\r\n                    this.props.playerAPI.loadVideoById(currentSong._id)\r\n                }\r\n            }\r\n            else {\r\n                this.props.playerAPI.playVideo()\r\n            }\r\n        }\r\n        else {\r\n            this.handleEmitPlayerState(\"player\", \"pause\")\r\n            this.props.playerAPI.pauseVideo()\r\n        }\r\n    }\r\n\r\n    handleToggleMute = () => {\r\n        if (this.props.playerAPI.isMuted()) {\r\n            this.props.playerAPI.unMute()\r\n        }\r\n        else {\r\n            this.props.playerAPI.mute()\r\n        }\r\n    }\r\n\r\n    handleToggleFavorite = (songId) => {\r\n        if (this.state.user.likedSongs.includes(this.state.currentSong._id)) { //Unfavorite song\r\n            this.props.axiosWrapper.axiosPost('/api/removeSongFromFavorites/' + songId, {}, (function(res, data) {\r\n                if (data.success) {\r\n                    this.props.handleUpdateUser(data.data.user)\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n        else { //Favorite song\r\n            this.props.axiosWrapper.axiosPost('/api/addSongToFavorites/' + songId, {}, (function(res, data) {\r\n                if (data.success) {\r\n                    this.props.handleUpdateUser(data.data.user)\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n    }\r\n\r\n    handleToggleShuffle = (e) => {\r\n        this.props.queue.toggleShuffle()\r\n        this.handleEmitPlayerState(\"queue\", \"shuffle\", this.props.queue.getShuffle())\r\n    }\r\n\r\n    handleToggleRepeat = (e) => {\r\n        this.props.queue.toggleRepeat()\r\n        this.handleEmitPlayerState(\"queue\", \"repeat\", this.props.queue.getRepeat())\r\n    }\r\n\r\n    getSongProgress = () => {\r\n        var sec = parseInt(this.state.currentTime) % 60\r\n        var min = parseInt(this.state.currentTime / 60)\r\n        return min + \":\" + String(sec).padStart(2, '0');\r\n    }\r\n\r\n    getSongDuration = () => {\r\n        var sec = parseInt(this.props.playerAPI.getDuration() % 60)\r\n        var min = parseInt(this.props.playerAPI.getDuration() / 60)\r\n        return min + \":\" + String(sec).padStart(2, '0');\r\n    }\r\n\r\n    getSongImage = () => {\r\n        if (this.state.currentSong.image_high) {\r\n            return this.state.currentSong.image_high;\r\n        }\r\n        else if (this.state.currentSong.image_med) {\r\n            return this.state.currentSong.image_med\r\n        }\r\n        else if (this.state.currentSong.image_std) {\r\n            return this.state.currentSong.image_std\r\n        }\r\n        else if (this.state.currentSong.image) {\r\n            return this.state.currentSong.image\r\n        }\r\n        else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    getSongName = () => {\r\n        return this.state.currentSong.name;\r\n    }\r\n\r\n    getArtist = () => {\r\n        return this.state.currentSong.creator;\r\n    }\r\n\r\n    getPlayButtonIcon = () => {\r\n        return this.props.playerAPI.isPaused() ? icon_play_2 : icon_pause_3;\r\n    }\r\n\r\n    getRepeatButtonIcon = () => {\r\n        return this.props.queue.getRepeat() === repeatStates.QUEUE ? icon_repeat_3 : icon_repeat_1;\r\n    }\r\n    \r\n    getRepeatButtonIconClass = () => {\r\n        return this.props.queue.getRepeat() === repeatStates.OFF ? 'player-control-button-icon' : 'player-control-button-icon-on';\r\n    }\r\n\r\n    getShuffleButtonIconClass = () => {\r\n        return this.props.queue.getShuffle() ? 'player-control-button-icon-on' : 'player-control-button-icon';\r\n    }\r\n\r\n    getMuteButtonIcon = () => {\r\n        return this.props.playerAPI.isMuted() ? icon_no_sound : icon_volume_up_1;\r\n    }\r\n\r\n    getFavoriteButtonIconClass = () => {\r\n        return this.state.user && this.state.user.likedSongs.includes(this.state.currentSong._id) ? 'player-song-favorite-button-icon-on' : 'player-song-favorite-button-icon'\r\n    }\r\n\r\n    getPlayerControlsDisabled = () => {\r\n        return this.props.currentSession && !this.isHost() //In a live Session and not the host\r\n    }\r\n\r\n    getSeekDisabled = () => {\r\n        return this.props.currentSession //In a live Session\r\n    }\r\n\r\n    /*\r\n        Is user hosting their own session?\r\n        True, if logged-in user is hosting a live Session, logged-in user is hosting a private Session, or guest user is hosting an offline Session\r\n        False, if logged-in user is participating in a live Session, or guest user is participating in a live Session\r\n    */\r\n    isHost = () => {\r\n        if (this.props.user) { //Logged-in\r\n            if (this.props.currentSession) { //In a live Session\r\n                if (this.props.user.live) { //Hosting\r\n                    return true \r\n                }\r\n                else { //Participating\r\n                    return false\r\n                }\r\n            }\r\n            else { //Private session or no session\r\n                return true\r\n            }\r\n        }\r\n        else { //Guest\r\n            if (this.props.currentSession) { //In a live Session, participating\r\n                return false\r\n            }\r\n            else {\r\n                return true //Offline session or no session\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let entry =  <div><Ticker speed={8}>\r\n                        {({index}) => (<h1 className=\"body-text color-contrasted\">{this.getSongName()}</h1>)}\r\n                     </Ticker></div>;\r\n        return(\r\n            <Container id=\"player-container\" fluid>\r\n                <Row>\r\n                    <Col id=\"player-display\">\r\n                        <Row>\r\n                            <Col id=\"player-song-image-container\">\r\n                                <Image id=\"player-song-image\" src={this.getSongImage()} thumbnail/>\r\n                            </Col>\r\n                            <Col id=\"player-song-title\">\r\n\r\n                                <div className=\"fade-single-line-overflow\" onMouseEnter={this.handleShowTitleTicker} onMouseLeave={this.handleHideTitleTicker}>\r\n                                        {entry}\r\n                                </div>\r\n                                <div className=\"fade-single-line-overflow body-text color-contrasted\">{this.getSongName()}</div>\r\n                                <div className=\"fade-single-line-overflow tiny-text color-contrasted\">{this.getArtist()}</div>\r\n                                {\r\n                                    !this.props.queue.currentSongIsEmpty() && this.state.user ?\r\n                                    <Button id=\"player-song-favorite-button\">\r\n                                        <FavoriteButton className={this.getFavoriteButtonIconClass()} onClick={this.handleToggleFavorite.bind(this, this.state.currentSong._id)} />\r\n                                    </Button> :\r\n                                    <div></div>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col id=\"player-controls\">\r\n                        <Row id=\"player-controls-main-container\"> \r\n                            <Button className=\"player-control-button\" onClick={e => this.handleToggleRepeat(e)} disabled={this.getPlayerControlsDisabled()}>\r\n                                <Image className={this.getRepeatButtonIconClass()} src={this.getRepeatButtonIcon()} roundedCircle/>\r\n                            </Button>\r\n                            <Button className=\"player-control-button\" onClick={e => this.handlePreviousSong(e)} disabled={this.getPlayerControlsDisabled()}>\r\n                                <Image className=\"player-control-button-icon\" src={icon_previous} roundedCircle/>\r\n                            </Button>\r\n                            <Button className=\"player-control-button\" onClick={e => this.handleTogglePlay(e)} disabled={this.getPlayerControlsDisabled()}>\r\n                                <Image className=\"player-control-button-icon\" src={this.getPlayButtonIcon()} roundedCircle/>\r\n                            </Button>\r\n                            <Button className=\"player-control-button\" onClick={e => this.handleNextSong(e)} disabled={this.getPlayerControlsDisabled()}>\r\n                                <Image className=\"player-control-button-icon\" src={icon_next} roundedCircle/>\r\n                            </Button>\r\n                            <Button className=\"player-control-button\" onClick={e => this.handleToggleShuffle(e)} disabled={this.getPlayerControlsDisabled()}>\r\n                                <Image className={this.getShuffleButtonIconClass()} src={icon_shuffle_arrows} roundedCircle/>\r\n                            </Button>\r\n                        </Row>\r\n                        <Row id=\"player-progress-bar-container\">\r\n                            <div className=\"player-progress-display body-text\">{this.getSongProgress()}</div>\r\n                            <RangeSlider className=\"player-progress-bar\" variant=\"dark\" tooltip=\"off\" value={this.state.currentTime} onChange={e => this.handleMoveSlider(e.target.value)} onAfterChange={e => this.handleSeek(e.target.value)} min={0} max={this.props.playerAPI.getDuration()} disabled={this.getSeekDisabled()}/>\r\n                            <div className=\"player-progress-display body-text\">{this.getSongDuration()}</div>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col id=\"player-volume-container\">\r\n                        <Row>\r\n                            <Button id=\"player-mute-button\" className=\"player-control-button\" onClick={e => this.handleToggleMute(e)}>\r\n                                <Image id=\"player-mute-button-icon\" src={this.getMuteButtonIcon()} roundedCircle/>\r\n                            </Button>\r\n                            <div id=\"player-volume-bar-container\">\r\n                                <RangeSlider className=\"player-volume-bar\" variant=\"dark\" tooltip=\"off\" value={this.props.playerAPI.getVolume()} onChange={e => this.props.playerAPI.setVolume(e.target.value)} min={0} max={100}/>\r\n                            </div>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\nimport Ticker from 'react-ticker';\r\nimport { Row, Col, Image } from 'react-bootstrap'\r\nimport { icon_music_1 } from '../../graphics'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\nclass SessionEntry extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {showTicker: false}\r\n\t}\r\n\t\r\n\thandleEntry = () => {\r\n\t\tthis.setState({showTicker : true});\r\n\t\t\r\n\t}\r\n\thandleLeave = () => {\r\n\t\tthis.setState({showTicker : false});\r\n\t}\r\n\r\n\r\n\tgetStreamCount = () => {\r\n\t\tvar count = this.props.streams\r\n\t\tif (count < 1000) {\r\n\t\t\treturn count\r\n\t\t}\r\n\t\telse if (count < 1000000) {\r\n\t\t\treturn Math.floor(count/1000) + \"k\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Math.floor(count/1000000) + \"m\"\r\n\t\t}\r\n\t}\r\n\r\n\tgetListenerCountIconClass = () => {\r\n\t\treturn this.state.showTicker ? \"session-entry-stream-count-icon-on\" : \"session-entry-stream-count-icon\"\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\tconst showTicker = this.state.showTicker;\r\n\t\tlet entry;\r\n\t\tif(showTicker){\r\n\t\t\tentry = <Ticker speed={14} mode=\"await\">\r\n\t\t\t\t\t\t\t{({ index }) => (<h1 className='Session-Entry-Text body-text underline color-accented'>{this.props.name}</h1>)}\r\n\t\t\t\t\t</Ticker>;\r\n\t\t} else{\r\n\t\t\tentry = <h1 className='Session-Entry-Text body-text color-accented'>{this.props.name}</h1>;\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<Link className=\"session-entry-container\" to={\"/main/session/\" + this.props.id} onMouseEnter={this.handleEntry} onMouseLeave={this.handleLeave}>\r\n\t\t\t\t<div className='list-group-item list-group-item-action'>\r\n\t\t\t\t\t<Row className=\"session-entry-row-container\">\r\n\t\t\t\t\t\t<Col className=\"session-entry-image-container\">\r\n\t\t\t\t\t\t\t<Image className=\"session-entry-image\" src={this.props.image}/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col className=\"session-entry-text-container\">\r\n\t\t\t\t\t\t\t<h1 className='Session-Entry-Text body-text color-accented'>{this.props.hostName}</h1>\r\n\t\t\t\t\t\t\t{entry}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col className=\"session-entry-stream-count-container\">\r\n\t\t\t\t\t\t\t<Image className={this.getListenerCountIconClass()} src={icon_music_1} roundedCircle/>\r\n\t\t\t\t\t\t\t<div className=\"session-entry-stream-count-text tiny-text color-accented\">{this.getStreamCount()}</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SessionEntry;","import React from 'react';\r\n\r\nconst Spinner = () =>{\r\n\treturn (\r\n\t\t<div className=\"spinner-border\" role=\"status\" style={{color:'white', position:'relative', left:'50%', top:'50%'}}>\r\n          <span className=\"sr-only\" >Loading...</span>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport SessionEntry from './sessionentry.js'\r\nimport Spinner from '../Spinner';\r\n\r\n\r\nclass SessionSideList extends React.Component{\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: true,\r\n            sessions: []\r\n        }\r\n        this.initSocket()\r\n    }\r\n\r\n    initSocket = () => {\r\n        if (this.props.mainSocket) {\r\n            this.props.mainSocket.on('top-sessions', (topSessions, callback) => {\r\n                if (topSessions) {\r\n                    this.setState({\r\n                        loading: false,\r\n                        sessions: topSessions\r\n                    })\r\n                }\r\n                callback({\r\n                    status: 200\r\n                })\r\n            })\r\n            this.props.mainSocket.emit('get-top-sessions')\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if (this.state.loading) {\r\n            return <Spinner/>\r\n        }\r\n        else {\r\n            return (\r\n                <div className='list-group list-group-session'>\r\n                    {\r\n                        this.state.sessions.sort((session1, session2) => session2.streams - session1.streams)\r\n                        .filter(session => session.live ? true : false)\r\n                        .map((session, ind) => <SessionEntry\r\n                            key={ind}\r\n                            id={session._id}\r\n                            hostId={session.hostId}\r\n                            hostName={session.hostName}\r\n                            name={session.name}\r\n                            image={session.image}\r\n                            streams={session.streams}\r\n                        /> )\r\n                    }\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default SessionSideList;","/* This file is strictly intended for graphics imports*/\r\n\r\n/*\r\n    Index generation with python in 2 lines:\r\n    for file in sorted(os.listdir('./')):\r\n        print('export const arcd_{} = require(\\'./arcade_pack/{}\\')'.format(file.replace(\" \", \"_\").replace(\"-\", \"_\")[:-4], file))\r\n\r\n*/\r\n\r\n/* avatar_pack exports */\r\nexport const avtr_001_call_center_agent = require('./avatar_pack/001-call center agent.svg')\r\nexport const avtr_002_phone_operator = require('./avatar_pack/002-phone operator.svg')\r\nexport const avtr_003_call_center_agent = require('./avatar_pack/003-call center agent.svg')\r\nexport const avtr_004_call_center_agent = require('./avatar_pack/004-call center agent.svg')\r\nexport const avtr_005_call_center_agent = require('./avatar_pack/005-call center agent.svg')\r\nexport const avtr_006_call_center_agent = require('./avatar_pack/006-call center agent.svg')\r\nexport const avtr_007_phone_operator = require('./avatar_pack/007-phone operator.svg')\r\nexport const avtr_008_call_center_agent = require('./avatar_pack/008-call center agent.svg')\r\nexport const avtr_009_customer_service_agent = require('./avatar_pack/009-customer service agent.svg')\r\nexport const avtr_010_call_center_agent = require('./avatar_pack/010-call center agent.svg')\r\nexport const avtr_011_call_center_agent = require('./avatar_pack/011-call center agent.svg')\r\nexport const avtr_012_call_center_agent = require('./avatar_pack/012-call center agent.svg')\r\nexport const avtr_013_call_center_agent = require('./avatar_pack/013-call center agent.svg')\r\nexport const avtr_014_call_center_agent = require('./avatar_pack/014-call center agent.svg')\r\nexport const avtr_015_call_center_agent = require('./avatar_pack/015-call center agent.svg')\r\nexport const avtr_016_technical_Support = require('./avatar_pack/016-technical Support.svg')\r\nexport const avtr_017_call_center_agent = require('./avatar_pack/017-call center agent.svg')\r\nexport const avtr_018_call_center_agent = require('./avatar_pack/018-call center agent.svg')\r\nexport const avtr_019_call_center_agent = require('./avatar_pack/019-call center agent.svg')\r\nexport const avtr_020_call_center_agent = require('./avatar_pack/020-call center agent.svg')\r\nexport const avtr_021_call_center_agent = require('./avatar_pack/021-call center agent.svg')\r\nexport const avtr_022_call_center_agent = require('./avatar_pack/022-call center agent.svg')\r\nexport const avtr_023_call_center_agent = require('./avatar_pack/023-call center agent.svg')\r\nexport const avtr_024_call_center_agent = require('./avatar_pack/024-call center agent.svg')\r\nexport const avtr_025_call_center_agent = require('./avatar_pack/025-call center agent.svg')\r\nexport const avtr_026_call_center_agent = require('./avatar_pack/026-call center agent.svg')\r\nexport const avtr_027_call_center_agent = require('./avatar_pack/027-call center agent.svg')\r\nexport const avtr_028_call_center_agent = require('./avatar_pack/028-call center agent.svg')\r\nexport const avtr_029_call_center_agent = require('./avatar_pack/029-call center agent.svg')\r\nexport const avtr_030_call_center_agent = require('./avatar_pack/030-call center agent.svg')\r\nexport const avtr_031_call_center_agent = require('./avatar_pack/031-call center agent.svg')\r\nexport const avtr_032_call_center_agent = require('./avatar_pack/032-call center agent.svg')\r\nexport const avtr_033_call_center_agent = require('./avatar_pack/033-call center agent.svg')\r\nexport const avtr_034_call_center_agent = require('./avatar_pack/034-call center agent.svg')\r\nexport const avtr_035_call_center_agent = require('./avatar_pack/035-call center agent.svg')\r\nexport const avtr_036_call_center_agent = require('./avatar_pack/036-call center agent.svg')\r\nexport const avtr_037_call_center_agent = require('./avatar_pack/037-call center agent.svg')\r\nexport const avtr_038_call_center_agent = require('./avatar_pack/038-call center agent.svg')\r\nexport const avtr_039_call_center_agent = require('./avatar_pack/039-call center agent.svg')\r\nexport const avtr_040_call_center_agent = require('./avatar_pack/040-call center agent.svg')\r\nexport const avtr_041_call_center_agent = require('./avatar_pack/041-call center agent.svg')\r\nexport const avtr_042_call_center_agent = require('./avatar_pack/042-call center agent.svg')\r\nexport const avtr_043_call_center_agent = require('./avatar_pack/043-call center agent.svg')\r\nexport const avtr_044_call_center_agent = require('./avatar_pack/044-call center agent.svg')\r\nexport const avtr_045_call_center_agent = require('./avatar_pack/045-call center agent.svg')\r\nexport const avtr_046_call_center_agent = require('./avatar_pack/046-call center agent.svg')\r\nexport const avtr_047_call_center_agent = require('./avatar_pack/047-call center agent.svg')\r\nexport const avtr_048_call_center_agent = require('./avatar_pack/048-call center agent.svg')\r\nexport const avtr_049_call_center_agent = require('./avatar_pack/049-call center agent.svg')\r\nexport const avtr_050_call_center_agent = require('./avatar_pack/050-call center agent.svg')\r\n\r\n/* arcade_pack exports */\r\nexport const arcd_001_shooting_game = require('./arcade_pack/001-shooting game.svg')\r\nexport const arcd_002_basketball = require('./arcade_pack/002-basketball.svg')\r\nexport const arcd_003_arcade = require('./arcade_pack/003-arcade.svg')\r\nexport const arcd_004_racing = require('./arcade_pack/004-racing.svg')\r\nexport const arcd_005_slot_machine = require('./arcade_pack/005-slot machine.svg')\r\nexport const arcd_006_cherry = require('./arcade_pack/006-cherry.svg')\r\nexport const arcd_007_life = require('./arcade_pack/007-life.svg')\r\nexport const arcd_008_you = require('./arcade_pack/008-you.svg')\r\nexport const arcd_009_arcade = require('./arcade_pack/009-arcade.svg')\r\nexport const arcd_010_arcade = require('./arcade_pack/010-arcade.svg')\r\nexport const arcd_011_dart = require('./arcade_pack/011-dart.svg')\r\nexport const arcd_012_star = require('./arcade_pack/012-star.svg')\r\nexport const arcd_013_bowling_pins = require('./arcade_pack/013-bowling pins.svg')\r\nexport const arcd_014_screen = require('./arcade_pack/014-screen.svg')\r\nexport const arcd_015_tokens = require('./arcade_pack/015-tokens.svg')\r\nexport const arcd_016_spaceship = require('./arcade_pack/016-spaceship.svg')\r\nexport const arcd_017_member_card = require('./arcade_pack/017-member card.svg')\r\nexport const arcd_018_pinball = require('./arcade_pack/018-pinball.svg')\r\nexport const arcd_019_strawberry = require('./arcade_pack/019-strawberry.svg')\r\nexport const arcd_020_play = require('./arcade_pack/020-play.svg')\r\nexport const arcd_021_token = require('./arcade_pack/021-token.svg')\r\nexport const arcd_022_air_hockey = require('./arcade_pack/022-air hockey.svg')\r\nexport const arcd_023_gamepad = require('./arcade_pack/023-gamepad.svg')\r\nexport const arcd_024_dancing_game = require('./arcade_pack/024-dancing game.svg')\r\nexport const arcd_025_karaoke = require('./arcade_pack/025-karaoke.svg')\r\nexport const arcd_026_whack_a_mole = require('./arcade_pack/026-whack a mole.svg')\r\nexport const arcd_027_arcade = require('./arcade_pack/027-arcade.svg')\r\nexport const arcd_028_vending_machine = require('./arcade_pack/028-vending machine.svg')\r\nexport const arcd_029_motorbike = require('./arcade_pack/029-motorbike.svg')\r\nexport const arcd_030_game_over = require('./arcade_pack/030-game over.svg')\r\nexport const arcd_031_billiard = require('./arcade_pack/031-billiard.svg')\r\nexport const arcd_032_joystick = require('./arcade_pack/032-joystick.svg')\r\nexport const arcd_033_heart = require('./arcade_pack/033-heart.svg')\r\nexport const arcd_034_bomb = require('./arcade_pack/034-bomb.svg')\r\nexport const arcd_035_ufo = require('./arcade_pack/035-ufo.svg')\r\nexport const arcd_036_punching_ball = require('./arcade_pack/036-punching ball.svg')\r\nexport const arcd_037_ticket_machine = require('./arcade_pack/037-ticket machine.svg')\r\nexport const arcd_038_crane_machine = require('./arcade_pack/038-crane machine.svg')\r\nexport const arcd_039_gamepad = require('./arcade_pack/039-gamepad.svg')\r\nexport const arcd_040_ping_pong = require('./arcade_pack/040-ping pong.svg')\r\nexport const arcd_041_cubes = require('./arcade_pack/041-cubes.svg')\r\nexport const arcd_042_arcade = require('./arcade_pack/042-arcade.svg')\r\nexport const arcd_043_bird = require('./arcade_pack/043-bird.svg')\r\nexport const arcd_044_fencing = require('./arcade_pack/044-fencing.svg')\r\nexport const arcd_045_tetris = require('./arcade_pack/045-tetris.svg')\r\nexport const arcd_046_cinema_tickets = require('./arcade_pack/046-cinema tickets.svg')\r\nexport const arcd_047_rotation = require('./arcade_pack/047-rotation.svg')\r\nexport const arcd_048_dart = require('./arcade_pack/048-dart.svg')\r\nexport const arcd_049_lottery_game = require('./arcade_pack/049-lottery game.svg')\r\nexport const arcd_050_table_football = require('./arcade_pack/050-table football.svg')\r\n\r\nexport const song_001_khalid_saturday_nights = require('./Saturday Nights - Khalid.mp3')","import * as icons from '../test'\r\nimport axios from 'axios'\r\naxios.defaults.baseURL = 'http://localhost:4000'\r\nconst _ = require('lodash');\r\n\r\nlet sessions = require('./sampleSessions.json');\r\nlet collections = require('./sampleCollections.json')\r\nlet songs = require('./sampleSongs.json')\r\nlet users = require('./sampleUsers.json')\r\n\r\n/*\r\n    Sample data initialization\r\n*/\r\n\r\nfunction initType(category, categoryName) {\r\n    for (var i = 0; i < category.length; i++) {\r\n        category[i].type = categoryName\r\n    }\r\n    return category\r\n}\r\n\r\nfunction initCreator(category) {\r\n    for (var i = 0; i < category.length; i++) {\r\n        switch(category[i].type) {\r\n            case \"session\":\r\n                category[i].creator = category[i].hostName\r\n                break;\r\n            case \"collection\":\r\n                category[i].creator = category[i].user\r\n                break;\r\n            case \"song\":\r\n                category[i].creator = category[i].artist\r\n                break;\r\n            case \"user\":\r\n            default:\r\n                category[i].creator = \"\"\r\n                break;\r\n        }\r\n    }\r\n    return category\r\n}\r\n\r\nfunction initImage(category) {\r\n    for (var i = 0; i < category.length; i++) {\r\n        category[i].image = genSampleImage()\r\n    }\r\n    return category\r\n}\r\n\r\nfunction initData(category, categoryName) {\r\n    var initFunctions = [initType, initCreator, initImage]\r\n    for (var i = 0; i < initFunctions.length; i++) {\r\n        category = initFunctions[i](_.cloneDeep(category), categoryName)\r\n    }\r\n    return category\r\n}\r\n\r\nlet sampleDatabase = {\r\n    sessions: initData(sessions.map(session => {\r\n        session.initialQueue = initData(session.initialQueue, \"song\")\r\n        return session\r\n    }), \"session\"),\r\n    collections: initData(collections.map(collection => {\r\n        collection.songList = initData(collection.songList, \"song\")\r\n        return collection\r\n    }), \"collection\"),\r\n    songs: initData(songs, \"song\"),\r\n    users: initData(users.map(user => {\r\n        user.playlists = initData(user.playlists.map(playlist => {\r\n            playlist.songList = initData(playlist.songList, \"song\")\r\n            return playlist\r\n        }), \"collection\")\r\n        user.likedSongs = initData(user.likedSongs, \"song\")\r\n        user.likedCollections = initData(user.likedCollections.map(collection => {\r\n            collection.songList = initData(collection.songList, \"song\")\r\n            return collection\r\n        }))\r\n        user.sessions = initData(user.sessions.map(session => {\r\n            session.initialQueue = initData(session.initialQueue, \"song\")\r\n            return session\r\n        }), \"session\")\r\n        return user\r\n    }), \"user\")\r\n}\r\n\r\n\r\n\r\n/*\r\n        Sample data generating functions\r\n*/\r\n\r\nexport function genSampleSuggestions () {\r\n    return [\r\n        {\r\n            categoryName: \"Your Top Hosts\",\r\n            suggestions: JSON.parse(JSON.stringify(sampleDatabase.users))\r\n        }, \r\n        {\r\n            categoryName: \"Recently Streamed\",\r\n            suggestions: JSON.parse(JSON.stringify(sampleDatabase.sessions))\r\n        },\r\n        {\r\n            categoryName: \"Recommended For You\",\r\n            suggestions: JSON.parse(JSON.stringify(sampleDatabase.collections))\r\n        },\r\n        {\r\n            categoryName: \"Listen Again\",\r\n            suggestions: JSON.parse(JSON.stringify(sampleDatabase.songs))\r\n        }\r\n    ]\r\n}\r\n\r\nexport function genSampleImage () {\r\n    let keys = Object.keys(icons);\r\n    return icons[keys[Math.floor(Math.random() * (keys.length - 1))]];\r\n}\r\n\r\n/* Will get stuck in an infinite loop if numItems > number of elements actually in the sample database */\r\nexport function genSampleHistory (numItems) {\r\n    let sampleDatabaseCopy = JSON.parse(JSON.stringify(sampleDatabase))\r\n    let categorykeys = Object.keys(sampleDatabaseCopy);\r\n    let sampleHistory = []\r\n    var i = 0\r\n    while (sampleHistory.length < numItems){\r\n        var categoryName = categorykeys[categorykeys.length * Math.random() << 0]\r\n        if (sampleDatabaseCopy[categoryName].length > 0){\r\n            var history = sampleDatabaseCopy[categoryName].pop()\r\n            history.index = i\r\n            sampleHistory.push(history)\r\n            i++\r\n        }\r\n    }\r\n\r\n    return sampleHistory\r\n}\r\n\r\nexport function genSampleResults (query) {\r\n\r\n    var sampleDatabaseCopy = JSON.parse(JSON.stringify(sampleDatabase))\r\n\r\n    return {\r\n            sessions: sampleDatabaseCopy.sessions.filter(item => item.name.toLowerCase().includes(query) || item.hostName.toLowerCase().includes(query)),\r\n            collections: sampleDatabaseCopy.collections.filter(item => item.name.toLowerCase().includes(query) || item.user.toLowerCase().includes(query)),\r\n            users: sampleDatabaseCopy.users.filter(item => item.name.toLowerCase().includes(query))\r\n        }\r\n}\r\n\r\nexport function genSampleQueue () {\r\n    var songsCopy = _.cloneDeep(sampleDatabase.songs)\r\n    \r\n    /* Fisher-Yates shuffle from https://medium.com/@nitinpatel_20236/how-to-shuffle-correctly-shuffle-an-array-in-javascript-15ea3f84bfb */\r\n    for (let i = songsCopy.length - 1; i > 0; i--){\r\n        const j = Math.floor(Math.random() * i)\r\n        const temp = songsCopy[i]\r\n        songsCopy[i] = songsCopy[j]\r\n        songsCopy[j] = temp\r\n      }\r\n    return songsCopy\r\n}\r\n\r\nexport function genSampleSessions () {\r\n    var sessionsCopy = _.cloneDeep(sampleDatabase.sessions)\r\n    return sessionsCopy\r\n}\r\n\r\nexport function genSampleUsers () {\r\n    var usersCopy = _.cloneDeep(sampleDatabase.users).map(user => {\r\n        user.history = genSampleHistory(10)\r\n        return user\r\n    })\r\n    return usersCopy\r\n}","import React from 'react';\r\nimport { CardDeck, Card } from 'react-bootstrap';\r\nimport { genSampleSuggestions } from '../test/genSamples'\r\nimport Spinner from './Spinner';\r\n\r\n\r\nclass HomeScreen extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        }\r\n        this.getHomeInfo();\r\n    }\r\n    \r\n\r\n    handleGoToItem = () => {\r\n\r\n    }\r\n\r\n    handlePlayItem = () => {\r\n        \r\n    }\r\n\r\n    /*\r\n        In practice, fetchSuggestions returns a dynamically generated array of suggestions\r\n        where each suggestion is an object that contains the category name of the suggestion\r\n        and the array of suggested Objects\r\n    */\r\n    fetchSuggestions = () => {\r\n        \r\n        return genSampleSuggestions()\r\n    }\r\n    getHomeInfo = () => {\r\n      \r\n      //return this.props.axiosWrapper.axiosGet('/main/home', this.handleLoad);\r\n    }\r\n    /*\r\n    handleLoad = (status, data) =>{\r\n        if (status === 200){\r\n            console.log(status);\r\n            console.log(data);\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        }\r\n    }\r\n    */\r\n    render() {\r\n        let renderContainer = false\r\n        \r\n        \r\n        if (!this.state.loading){\r\n            renderContainer = \r\n                <div id=\"home-screen-container\">\r\n                    {this.fetchSuggestions().map((category, cat_ind) => category.suggestions !== undefined && category.suggestions.length > 0 ?\r\n                        <div className=\"home-screen-category-container\" key={cat_ind}>\r\n                            <div className=\"home-screen-category-name title color-contrasted\">{category.categoryName}</div>\r\n                            <CardDeck className=\"home-screen-category-list\">\r\n                                {\r\n                                    category.suggestions.map((obj, item_ind) => \r\n                                        <Card className=\"home-screen-category-list-item\" key={item_ind}>\r\n                                            {obj.type === \"user\" && obj.live === true ? \r\n                                                    <Card.Text className=\"home-screen-category-list-item-live-indicator tiny-text color-accented\">LIVE</Card.Text> :\r\n                                                    <div></div>\r\n                                            }\r\n                                            <Card.Img className=\"home-screen-category-list-item-img\" src={obj.image}/>\r\n                                            <Card.Footer className=\"home-screen-category-list-item-footer\">\r\n                                                <div className=\"subtitle\">{obj.name}</div>\r\n                                                <div className=\"body-text\">{obj.creator}</div>\r\n                                                {obj.type === \"user\" && obj.live === true ? \r\n                                                        <div className=\"body-text\">{obj.sessions[0].name}</div> :\r\n                                                        <div></div>\r\n                                                }\r\n                                            </Card.Footer>\r\n                                        </Card>\r\n                                        )\r\n                                }\r\n                            </CardDeck>\r\n                        </div> :\r\n                        <div></div>)\r\n                    }\r\n                </div>\r\n        }\r\n        else{\r\n            renderContainer = <Spinner/>\r\n        }\r\n        \r\n        \r\n        return(\r\n            renderContainer\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomeScreen;\r\n","import React from 'react';\r\nimport Spinner from './Spinner';\r\nimport {icon_profile_image, icon_calendar} from '../graphics';\r\nimport { Link, Route } from 'react-router-dom'\r\nimport { Form, Col, Button } from 'react-bootstrap'\r\n\r\nconst _ = require('lodash')\r\n\r\nclass SettingsScreen extends React.Component{\r\n\tconstructor (props) {\r\n        super(props);\r\n        this.state = {\r\n\t\t\t\tusername: \"\",\r\n                password: \"\",\r\n                new_password:\"\",\r\n                confirm_password: \"\",\r\n                biography: \"\",\r\n                privateMode: false,\r\n                loading: true,\r\n                profileUser: null,\r\n                changeUsername_invalidPassword: false,\r\n                changeUsername_taken: false,\r\n                changeUsername_validated: false,\r\n                changePassword_validated: false,\r\n                changePassword_invalidPassword: false,\r\n                changeBiography_validated: false,\r\n                character_limit: 250\r\n\r\n    \t\t}\r\n        this.fetchUser();\r\n    }\r\n    clearUsernameCredentials = () => {\r\n        this.setState({\r\n            username: \"\",\r\n            password: \"\",\r\n            changeUsername_validated: false\r\n        })\r\n    }\r\n    clearPasswordCredentials = () => {\r\n        this.setState({\r\n            new_password: \"\",\r\n            password: \"\",\r\n            confirm_password:\"\",\r\n            changePassword_validated: false\r\n        })\r\n    }\r\n    handleCloseUsernameModal = () => {\r\n        \r\n        this.props.history.goBack()\r\n        this.clearUsernameCredentials()\r\n    }\r\n    handleCloseBiographyModal = () => {\r\n        \r\n        this.props.history.goBack()\r\n        this.setState({\r\n            biography: \"\"\r\n        })\r\n    }\r\n    handleClosePasswordModal = () => {\r\n        \r\n        this.props.history.goBack()\r\n        this.clearPasswordCredentials()\r\n    }\r\n    handleUsernameChange = (e) => {\r\n        if(!(e.target.value.length > this.state.character_limit)){\r\n            this.setState({\r\n                username: e.target.value,\r\n                changeUsername_validated: false\r\n            })\r\n        }\r\n\r\n    }\r\n    handleBiographyChange = (e) => {\r\n        //const shouldSet = this.state.biography.length < 500;\r\n        if(!(e.target.value.length > this.state.character_limit)){\r\n            this.setState({\r\n                biography: e.target.value\r\n            })\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    handleChangeUsernamePassword = (e) => {\r\n        if(!(e.target.value.length > this.state.character_limit)){\r\n            this.setState({\r\n                password: e.target.value,\r\n                changeUsername_validated: false,\r\n                changePassword_validated: false\r\n            })\r\n        }\r\n    }\r\n    handleChangeNewPassword = (e) => {\r\n        if(!(e.target.value.length > this.state.character_limit)){\r\n            this.setState({\r\n                new_password: e.target.value\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChangeUsernameConfirmPassword = (e) => {\r\n        if(!(e.target.value.length > this.state.character_limit)){\r\n            this.setState({\r\n            confirm_password: e.target.value\r\n            })\r\n        }\r\n        \r\n    }\r\n    handleValidateBiography = (e) =>{\r\n        return this.state.biography.length < this.state.character_limit;\r\n    }\r\n    handleValidateUsername = (e) =>{\r\n         if (this.state.username.trim() === \"\"){\r\n            //Handle empty username, password or confirm password here\r\n            console.log(\"Username, password must not be empty\")\r\n            return false\r\n        }\r\n\r\n        \r\n\r\n\r\n        if (/\\s/g.test(this.state.username)) { //Contains whitespace\r\n            console.log(\"Username Contains whitespace\")\r\n            return  false\r\n        }\r\n\r\n        if (!/^[0-9a-zA-Z_]+$/.test(this.state.username)) { //Contains illegal characters\r\n            console.log(\"Username contains illegal characters\")\r\n            return false\r\n        }\r\n\r\n        if (this.state.username.trim().length < 6 || this.state.username.trim().length > 12) { //Invalid length\r\n            console.log(\"Username has invalid length\")\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    handleValidateNewPassword = (e) =>{\r\n        if (/\\s/g.test(this.state.new_password)) { //Contains whitespace\r\n            return false\r\n        }\r\n\r\n        if (!/^[0-9a-zA-Z_!@#$%^&*]+$/.test(this.state.new_password)) { //Contains illegal characters\r\n            return false\r\n        }\r\n\r\n        if (this.state.new_password.trim().length < 6 || this.state.new_password.trim().length > 12) { //Invalid length\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n    handleValidatePassword = (e) =>{\r\n        if (/\\s/g.test(this.state.password)) { //Contains whitespace\r\n            return false\r\n        }\r\n\r\n        if (!/^[0-9a-zA-Z_!@#$%^&*]+$/.test(this.state.password)) { //Contains illegal characters\r\n            return false\r\n        }\r\n\r\n        if (this.state.password.trim().length < 6 || this.state.password.trim().length > 12) { //Invalid length\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n    handleValidateChangePasswordConfirmPassword = (e) => {\r\n        if (this.handleValidateNewPassword() && this.state.new_password === this.state.confirm_password) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    handleInvalidateChangePasswordConfirmPassword = () => {\r\n        if (this.handleValidateNewPassword()  && !(this.state.new_password === this.state.confirm_password)) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    validateNewPassword = () => {\r\n        if (this.handleValidateNewPassword() && this.handleValidateChangePasswordConfirmPassword()) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n    validateNewUsername = () => {\r\n        if (this.handleValidateUsername() && this.handleValidatePassword()) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n    handleUsername = (e) => {\r\n        //409 = Username Taken 422 = Incorrect Password\r\n        e.preventDefault()\r\n        if (this.validateNewUsername()) {\r\n\r\n            this.props.axiosWrapper.axiosPost('/api/settings/changeUsername', {\r\n                    password: this.state.password,\r\n                    username: this.state.username\r\n                    \r\n            }, (function(res, data) {\r\n                if (data.success) {\r\n                    console.log(data);\r\n                    this.props.handleUpdateUser(data.data.user);\r\n                    this.setState({\r\n                        \r\n                        changeUsername_taken: false,\r\n                        changeUsername_invalidPassword: false\r\n                    });\r\n                    this.props.history.push('/main/settings')\r\n                \r\n                    console.log(data.message)\r\n                }\r\n                else {\r\n                    if(data.statusCode === 409){\r\n                        this.setState({\r\n                            changeUsername_validated: true,\r\n                            changeUsername_taken: true\r\n                        });\r\n                    }\r\n                    else if(data.statusCode === 422){\r\n                        this.setState({\r\n                            changeUsername_validated: true,\r\n                            changeUsername_invalidPassword: true,\r\n                        });\r\n                        console.log(\"set Invalid Password in handleUsername\")\r\n                    }\r\n                    \r\n                }\r\n            }).bind(this), true)\r\n        }\r\n        else {\r\n            this.setState({\r\n                changeUsername_validated: true,\r\n                changeUsername_taken: false,\r\n                changeUsername_invalidPassword: false\r\n            })\r\n        }\r\n    }\r\n    handleBiography = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.biography.length < this.state.character_limit){\r\n            this.props.axiosWrapper.axiosPost('/api/settings/changeBiography', {\r\n                    \r\n                    biography: this.state.biography\r\n                    \r\n            }, (function(res, data) {\r\n                if (data.success) {\r\n                    this.props.handleUpdateUser(data.data.user);\r\n                    this.props.history.push('/main/settings')\r\n                   \r\n                    this.setState({\r\n                        changeBiography_validated: true\r\n                    });\r\n                }\r\n                else {\r\n                    // Handle username taken prompting here\r\n                    console.log(\"Biography was not updated\")\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n        else{\r\n            this.setState({\r\n                changeBiography_validated: true\r\n            });\r\n        }\r\n\r\n        \r\n    }\r\n    handlePassword = (e) => {\r\n        e.preventDefault();\r\n        if(this.validateNewPassword()){\r\n            this.props.axiosWrapper.axiosPost('/api/settings/changePassword', {\r\n                    \r\n                    password: this.state.password,\r\n                    new_password: this.state.new_password\r\n                    \r\n            }, (function(res, data) {\r\n                if (data.success) {\r\n                    this.props.handleUpdateUser(data.data.user);\r\n                    this.setState({\r\n                        changePassword_invalidPassword: false\r\n                    });\r\n                    this.props.history.push('/main/settings')\r\n                    this.clearPasswordCredentials();\r\n                    \r\n                }\r\n                else {\r\n                    // Handle username taken prompting here\r\n                    console.log(\"Password was not updated\")\r\n                    this.setState({\r\n                        changePassword_validated: true,\r\n                        changePassword_invalidPassword: true\r\n                    });\r\n                    \r\n                }\r\n            }).bind(this), true)\r\n        \r\n        }\r\n        else{\r\n            this.setState({\r\n                changePassword_validated: true\r\n            });\r\n\r\n        }\r\n        \r\n    }\r\n    getPrivateMode = () =>{\r\n    \treturn this.state.user.privateMode;\r\n    }\r\n    fetchUser = () => {\r\n        this.props.axiosWrapper.axiosGet('/api/settings', (function(res, data) {\r\n            console.log(data);\r\n            if (data.success) {\r\n                console.log('Success!')\r\n                this.setState({\r\n                    profileUser: data.data.user,\r\n                    loading: false\r\n                })\r\n                console.log(this.state.profileUser);\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\trender(){\r\n        if (this.state.loading) {\r\n            return <Spinner/>\r\n        }\r\n        else {\r\n            return (\r\n            \t\t<div style={{fontFamily: 'BalsamiqSans', maxWidth:'100%', padding:'1em'}}>\r\n                        <div className='body-text color-contrasted'>SETTINGS</div>\r\n            \t\t\t<div className='row'>\r\n                            <div style={{position: 'relative', left:'15px', height:'30px'}}>\r\n                                    <input type=\"checkbox\" id=\"customSwitch1\" className='checkbox'/>\r\n                                    <label for='customSwitch1' className='switch'></label>\r\n                                    <label style={{position:'relative',bottom:'12px', left:'15px', color:'white'}}>Private Mode</label>\r\n                            </div>\r\n                            \r\n            \t\t\t</div>\r\n                        <div className='row' style={{position: 'relative', left:'15px', height:'30px', color:'white'}}>\r\n                            <label>Private mode allows you to listen to songs and collections without creating a public session.</label>\r\n                        </div>\r\n                        <div className='row' style={{position: 'relative', height:'30px'}}>\r\n                            <div className='col'>\r\n                                <Link to={'/main/settings/changeUsername'}>\r\n                                    <button data-toggle='modal' data-target='#changeUsernameModal'>Change Username</button><br/>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row' style={{position: 'relative', height:'30px', color:'white'}}>\r\n                            <label style={{position:'relative',bottom:'0px', left:'15px'}}>Change the name that is displayed on your profile.</label>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col' style={{color:'white'}}>\r\n                                <Link to={'/main/settings/changePassword'}>\r\n                                    <button data-toggle='modal' data-target='#changePasswordModal'>Change Password</button><br/>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row' style={{position: 'relative', height:'30px', color:'white'}}>\r\n                            <label style={{position:'relative',bottom:'0px', left:'15px'}}>Change your password. Requires your current password.</label>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col' style={{color:'white'}}>\r\n                                <Link to={'/main/settings/changeBiography'}>\r\n                                    <button data-toggle='modal' data-target='#changeBiographyModal'>Change Biography</button><br/>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row' style={{position: 'relative', height:'30px', color:'white'}}>\r\n                            <label style={{position:'relative',bottom:'0px', left:'15px'}}>Change the biography that is displayed on your profile.</label>\r\n                        </div>\r\n                        {/* Modal */}\r\n                        <Route path={'/main/settings/changeUsername'} render={() => { \r\n                            return(\r\n                            <div id=\"changeUsernameModal\" style={{position: 'relative', transform: 'translate(0, -60%)'}}>\r\n                                <div className=\"modal-dialog\">\r\n                                    {/* Modal Content */}\r\n                                    <div className=\"modal-content\">\r\n                                        <div className=\"modal-header\">\r\n                                            <h3>Change Username</h3>\r\n                                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={data => this.handleCloseUsernameModal(data)}>&times;</button>\r\n                                        </div>\r\n                                        <div className=\"modal-body\">\r\n                                            <p>Update your username:</p>\r\n                                                \r\n                                            <Form noValidate onSubmit={this.handleUsername}>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} controlId=\"username\">\r\n                                                    <Form.Label>Username</Form.Label>\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        value={this.state.username}\r\n                                                        type=\"text\"\r\n                                                        placeholder=\"Username\"\r\n                                                        onChange={this.handleUsernameChange}\r\n                                                        isValid={this.handleValidateUsername() && !this.state.changeUsername_taken}\r\n                                                        isInvalid={this.state.changeUsername_taken && this.state.changeUsername_validated}\r\n                                                    />\r\n                                                    <Form.Text muted>\r\n                                                        Your username must contain 6 to 12 alphanumerical characters.\r\n                                                    </Form.Text>\r\n                                                    <Form.Control.Feedback>OK!</Form.Control.Feedback>\r\n                                                    <Form.Control.Feedback type=\"invalid\">\r\n                                                        {this.state.changeUsername_taken ? \"Username is taken.\" : \"Invalid username.\"}\r\n                                                    </Form.Control.Feedback>\r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                            <Form.Row>\r\n                                                <Form.Group as={Col} controlId=\"password\">\r\n                                                    <Form.Label>Password</Form.Label>\r\n                                                    <Form.Control\r\n                                                        required\r\n                                                        value={this.state.password}\r\n                                                        type=\"password\"\r\n                                                        placeholder=\"Password\"\r\n                                                        onChange={this.handleChangeUsernamePassword}\r\n                                                        isValid={!this.state.changeUsername_invalidPassword && this.state.changeUsername_validated}\r\n                                                        isInvalid={this.state.changeUsername_invalidPassword && this.state.changeUsername_validated}\r\n                                                    />\r\n                                                    <Form.Control.Feedback type=\"invalid\">\r\n                                                        {this.state.changeUsername_invalidPassword ? \"Wrong Password\" : \"Invalid password\"}\r\n                                                    </Form.Control.Feedback>\r\n                                                    \r\n                                                </Form.Group>\r\n                                            </Form.Row>\r\n                                       \r\n                                        <Button type=\"submit\">Submit</Button>\r\n                                    </Form>\r\n                                        </div>\r\n                                        <div className=\"modal-footer\">\r\n                                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\" onClick={data => this.handleCloseUsernameModal(data)}>Close</button>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}}/>\r\n                        {/* Modal */}\r\n                        <Route path={'/main/settings/changeBiography'} render={() => { \r\n                            return(\r\n                            <div id=\"changeBiographyModal\" style={{position: 'relative', transform: 'translate(0, -50%)'}}>\r\n                                <div className=\"modal-dialog\">\r\n                                    {/* Modal Content */}\r\n                                    <div className=\"modal-content\">\r\n                                        <div className=\"modal-header\">\r\n                                            <h3>Change Biography</h3>\r\n                                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={data => this.handleCloseBiographyModal(data)}>&times;</button>\r\n                                        </div>\r\n                                        <div className=\"modal-body\">\r\n                                            <p>Update your Biography:</p>\r\n                                            <Form noValidate onSubmit={this.handleBiography}>\r\n                                                <Form.Row>\r\n                                                    <Form.Group as={Col} controlId=\"biography\">\r\n                                                        <Form.Control as=\"textarea\" rows={10} cols={30}\r\n                                                            required\r\n                                                            value={this.state.biography}\r\n                                                            type=\"biography\"\r\n                                                            placeholder=\"Your Biography Here\"\r\n                                                            onChange={this.handleBiographyChange}\r\n                                                            isValid={this.handleValidateBiography()}\r\n                                                            isInvalid={!this.handleValidateBiography()}\r\n                                                        />\r\n                                                        <Form.Control.Feedback type=\"invalid\">\r\n                                                            {this.state.biography.length}/{this.state.character_limit}\r\n                                                        </Form.Control.Feedback>\r\n                                                        <Form.Control.Feedback>{this.state.biography.length}/{this.state.character_limit}</Form.Control.Feedback>\r\n                                                    </Form.Group>\r\n                                                </Form.Row>\r\n                                                <Button type=\"submit\">Submit</Button>\r\n                                            </Form>  \r\n                                        </div>\r\n                                        <div className=\"modal-footer\">\r\n                                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\" onClick={data => this.handleCloseBiographyModal(data)}>Close</button>\r\n                                        </div>\r\n                                        \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}}/>\r\n                        {/* Modal */}\r\n                        <Route path={'/main/settings/changePassword'} render={() => { \r\n                            return(\r\n                            <div id=\"changePasswordModal\" style={{position: 'relative', transform: 'translate(0, -50%)'}}>\r\n                                <div className=\"modal-dialog\">\r\n                                    {/* Modal Content */}\r\n                                    <div className=\"modal-content\">\r\n                                        <div className=\"modal-header\">\r\n                                            <h3>Change Password</h3>\r\n                                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={data => this.handleClosePasswordModal(data)}>&times;</button>\r\n                                        </div>\r\n                                        <div className=\"modal-body\">\r\n                                            <p>Change your Password:</p>\r\n                                                \r\n                                                <Form noValidate onSubmit={this.handlePassword}>\r\n                                                    <Form.Row>\r\n                                                        <Form.Group as={Col} controlId=\"password\">\r\n                                                            <Form.Label>Password</Form.Label>\r\n                                                            <Form.Control\r\n                                                                required\r\n                                                                value={this.state.password}\r\n                                                                type=\"password\"\r\n                                                                placeholder=\"Password\"\r\n                                                                onChange={this.handleChangeUsernamePassword}\r\n                                                                isValid={!this.state.changePassword_invalidPassword && this.state.changePassword_validated}\r\n                                                                isInvalid={this.state.changePassword_invalidPassword && this.state.changePassword_validated}\r\n                                                            />\r\n                                                            <Form.Control.Feedback type=\"invalid\">\r\n                                                                {this.state.changePassword_invalidPassword ? \"Wrong Password\" : \"Invalid password\"}\r\n                                                            </Form.Control.Feedback>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                    <Form.Row>\r\n                                                        <Form.Group as={Col} controlId=\"new_password\">\r\n                                                            <Form.Label>New Password</Form.Label>\r\n                                                            <Form.Control\r\n                                                                required\r\n                                                                value={this.state.new_password}\r\n                                                                type=\"password\"\r\n                                                                placeholder=\"New Password\"\r\n                                                                onChange={this.handleChangeNewPassword}\r\n                                                                isValid={this.handleValidateNewPassword()}\r\n                                                                isInvalid={this.state.changePassword_validated && !this.handleValidateNewPassword()}\r\n                                                            />\r\n                                                            <Form.Text muted>\r\n                                                                Your new password must contain 6 to 12 alphanumerical characters.\r\n                                                            </Form.Text>\r\n                                                            <Form.Control.Feedback>OK!</Form.Control.Feedback>\r\n                                                            <Form.Control.Feedback type=\"invalid\">\r\n                                                                Invalid Password.\r\n                                                            </Form.Control.Feedback>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                    <Form.Row>\r\n                                                        <Form.Group as={Col} controlId=\"confirm_password\">\r\n                                                            <Form.Label>Confirm New Password</Form.Label>\r\n                                                            <Form.Control\r\n                                                                required\r\n                                                                value={this.state.confirm_password}\r\n                                                                type=\"password\"\r\n                                                                placeholder=\"New Password\"\r\n                                                                onChange={this.handleChangeUsernameConfirmPassword}\r\n                                                                isValid={this.handleValidateChangePasswordConfirmPassword()}\r\n                                                                isInvalid={this.state.changePassword_validated && this.handleInvalidateChangePasswordConfirmPassword()}\r\n                                                            />\r\n                                                            <Form.Text muted>\r\n                                                                Your new password must contain 6 to 12 alphanumerical characters.\r\n                                                            </Form.Text>\r\n                                                            <Form.Control.Feedback>OK!</Form.Control.Feedback>\r\n                                                            <Form.Control.Feedback type=\"invalid\">\r\n                                                                Passwords do not match.\r\n                                                            </Form.Control.Feedback>\r\n                                                        </Form.Group>\r\n                                                    </Form.Row>\r\n                                                    \r\n                                                    \r\n                                                    <Button type=\"submit\">Submit</Button>\r\n                                                </Form>\r\n                                        <div className=\"modal-footer\">\r\n                                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\" onClick={data => this.handleClosePasswordModal(data)}>Close</button>\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}}/>\r\n\r\n            \t\t</div>\r\n                    \r\n            \t);\r\n        }\r\n        \r\n    }\r\n\r\n}\r\n\r\nexport default SettingsScreen;","class SuggestionsAPI {\r\n\r\n    constructor() {\r\n        this.url = 'https://clients1.google.com/complete/search?client=youtube&gs_ri=youtube&ds=yt&q='\r\n    }\r\n\r\n    query = (query, callback, limit=8) => {\r\n        var url = this.url + query\r\n        var callbackId = 'suggestions' + Math.round(100000 * Math.random())\r\n\r\n        window[callbackId] = function(data) {\r\n            delete window[callbackId]\r\n            document.body.removeChild(script)\r\n            callback(data[1].map(item => item[0]).slice(0, limit))\r\n        }\r\n    \r\n        var script = document.createElement('script')\r\n        script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackId\r\n        document.body.appendChild(script)\r\n    }\r\n}\r\n\r\nexport default SuggestionsAPI;","import React from 'react'\r\nimport { ListGroup, Image, Button, CardDeck, Card, InputGroup, FormControl, Dropdown, DropdownButton, ButtonGroup, Modal } from 'react-bootstrap'\r\nimport { delete_cross_white, delete_button_white, icon_play_white_1, menu_button_white, icon_music_1, icon_sound_mixer_1, icon_playlist_2, icon_profile_image } from '../graphics'\r\nimport SuggestionsAPI from '../api/SuggestionsAPI'\r\nimport DropdownItem from 'react-bootstrap/esm/DropdownItem';\r\n\r\nconst _ = require('lodash')\r\n\r\nclass SearchScreen extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.suggestions = new SuggestionsAPI()\r\n        this.newCollectionNameMaxLength = 50\r\n        this.state = {\r\n            user: this.props.user,\r\n            query: \"\",\r\n            playlists: [],\r\n            suggestions: [],\r\n            res: {},\r\n            newCollectionName: \"\",\r\n            currentSongTarget: \"\",\r\n            showDropdown: false,\r\n            showCreateCollectionModal: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if (prevState.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (this.props.auth) {\r\n            this.fetchPlaylists()\r\n        }\r\n    }\r\n\r\n    isSearchBoxEmpty = () => {\r\n        return this.state.query.trim() === \"\"\r\n    }\r\n\r\n    isResultsEmpty = () => {\r\n        return Object.keys(this.state.res).length === 0\r\n    }\r\n\r\n    isSuggestionsEmpty = () => {\r\n        return this.state.suggestions.length === 0\r\n    }\r\n\r\n    handleCreateCollection = () => {\r\n\t\tif (this.handleValidateNewCollectionName()){\r\n\t\t\tthis.props.axiosWrapper.axiosPost('/api/createCollectionWithSong/' + this.state.newCollectionName + \"&\" + this.state.currentSongTarget, {}, (function(res, data){\r\n\t\t\t\tif (data.success) {\r\n                    this.props.handleUpdateUser(data.data.user)\r\n\t\t\t\t\tthis.props.history.push('/main/collection/' + data.data.collectionId)\r\n\t\t\t\t}\r\n\t\t\t}).bind(this), true)\r\n\t\t}\r\n\t}\r\n\r\n    handleValidateNewCollectionName = () => {\r\n        var length = this.state.newCollectionName.length\r\n\r\n        if (length > 0 && length <= this.newCollectionNameMaxLength) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    handleNewCollectionNameChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tnewCollectionName: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n    handleShowCreateCollectionModal = (songId, e) => {\r\n\t\tthis.setState({\r\n            currentSongTarget: songId,\r\n\t\t\tshowCreateCollectionModal: true\r\n\t\t})\r\n\t}\r\n\r\n\thandleHideCreateCollectionModal = () => {\r\n\t\tthis.setState({\r\n            newCollectionName: \"\",\r\n            currentSongTarget: \"\",\r\n\t\t\tshowCreateCollectionModal: false\r\n\t\t})\r\n\t}\r\n\r\n    handleMouseEnterDropdown = () => {\r\n        this.setState({\r\n            showDropdown: true\r\n        })\r\n    }\r\n\r\n    handleMouseLeaveDropdown = () => {\r\n        this.setState({\r\n            showDropdown: false\r\n        })\r\n    }\r\n\r\n    handleAddCollectionToFutureQueue = (collection, e) => {\r\n        Promise.all(collection.songList.map((songId) => {\r\n            return this.props.fetchVideoById(songId, true)\r\n        })).then((songs) => {\r\n            songs.forEach(song => this.props.queue.addSongToFutureQueue(song))\r\n        })\r\n    }\r\n\r\n    handleAddCollectionToFavorites = (collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addCollectionToFavorites/' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    handleRemoveCollectionFromFavorites = (collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/removeCollectionFromFavorites/' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    handleAddSongToFavorites = (songId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addSongToFavorites/' + songId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    handleRemoveSongFromFavorites = (songId, e) => {\r\n\t\tthis.props.axiosWrapper.axiosPost('/api/removeSongFromFavorites/' + songId, {}, (function(res, data) {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tthis.props.handleUpdateUser(data.data.user)\r\n\t\t\t}\r\n\t\t}).bind(this), true)\r\n\t}\r\n\r\n    handleAddSongToCollection = (songId, collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addSongToCollection/' + songId + '&' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    handleGoToHistoryItem = (e) => {\r\n        \r\n    }\r\n\r\n    handleGoToResultItem = (obj, e) => {\r\n        if (obj.type === \"session\") {\r\n            this.props.history.push('/main/session/' + obj._id)\r\n        }\r\n        else if (obj.type === \"collection\") {\r\n            this.props.history.push('/main/collection/' + obj._id)\r\n        }\r\n        else if (obj.type === \"user\") {\r\n            this.props.history.push('/main/profile/' + obj._id)\r\n        }\r\n    }\r\n\r\n    handleGoToResultCreator = (obj, e) => {\r\n        if (obj.type === \"session\") {\r\n            this.props.history.push('/main/profile/' + obj.hostId)\r\n        }\r\n        else if (obj.type === \"collection\") {\r\n            this.props.history.push('/main/profile/' + obj.ownerId)\r\n        }\r\n    }\r\n\r\n    handlePlayItem = (obj, e) => {\r\n        if (obj.type === \"song\") {\r\n            this.props.playVideo(obj._id)\r\n        }\r\n        else if (obj.type === \"session\") {\r\n            this.props.history.push('/main/session/' + obj._id)\r\n        }\r\n        else if (obj.type === \"collection\") {\r\n            var songList = _.cloneDeep(obj.songList)\r\n            this.props.playVideo(songList.shift())\r\n\r\n            Promise.all(songList.map((songId) => {\r\n                return this.props.fetchVideoById(songId, true)\r\n            })).then((songs) => {\r\n                songs.forEach(song => this.props.queue.addSongToFutureQueue(song))\r\n            })\r\n        }\r\n    }\r\n\r\n    handleClearSearchBox = () => {\r\n        this.setState({\r\n            query: \"\",\r\n            suggestions: [],\r\n            res: {},\r\n        })\r\n    }\r\n\r\n    handleSearchQueryChange = (e) => {\r\n        this.setState({\r\n            query: e.target.value,\r\n            res: {}\r\n        })\r\n        this.suggestions.query(e.target.value, this.handleUpdateSuggestions)\r\n    }\r\n\r\n    handleSearchQueryKeydown = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.setState({\r\n                suggestions: []\r\n            })\r\n            this.fetchResults(this.state.query)\r\n        }\r\n    }\r\n\r\n    handleUpdateSuggestions = (suggestions) => {\r\n        this.setState({\r\n            suggestions: suggestions\r\n        })\r\n    }\r\n\r\n    handleSelectSuggestion = (key, e) => {\r\n        var query = this.state.suggestions[parseInt(key)]\r\n        this.setState({\r\n            query: query,\r\n            suggestions: []\r\n        })\r\n        this.fetchResults(query)\r\n    }\r\n\r\n    handleRemoveHistory = (e, index) => {\r\n        e.stopPropagation()\r\n        // var newHistory = this.reindexArray(this.state.user.history.filter(ele => ele.index !== index))\r\n        // this.setState({\r\n        //     history: newHistory\r\n        // })\r\n    }\r\n\r\n    reindexArray = (array) => {\r\n        array = JSON.parse(JSON.stringify(array))\r\n        for (var i = 0; i < array.length; i++) {\r\n            array[i].index = i\r\n        }\r\n        return array\r\n    }\r\n\r\n    fetchPlaylists = () => {\r\n        this.props.axiosWrapper.axiosGet('/api/search', (function(res, data) {\r\n            if (data.success) {\r\n                this.setState({\r\n                    playlists: data.data.playlists\r\n                })\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    fetchResults = (query) => {\r\n        if (query.trim() !== \"\") {\r\n            this.props.queryVideos(query).then(res => {\r\n                var newRes = _.cloneDeep(this.state.res)\r\n                newRes.songs = res\r\n                this.setState({\r\n                    res: newRes\r\n                })\r\n            })\r\n            this.props.axiosWrapper.axiosGet('/api/search/query=' + query, (function(res, data) {\r\n                if (data.success) {\r\n                    var newRes = _.cloneDeep(this.state.res)\r\n                    newRes.sessions = data.data.sessions\r\n                    newRes.collections = data.data.collections\r\n                    newRes.users = data.data.users\r\n                    this.setState({\r\n                        res: newRes\r\n                    })\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n    }\r\n\r\n    getCharLengthClass = () => {\r\n        return this.state.newCollectionName.length === 0 || this.handleValidateNewCollectionName() ? \"color-accented body-text\" : \"color-alert body-text\"\r\n    }\r\n\r\n    getShowSuggestions = () => {\r\n        return this.isSuggestionsEmpty() ? false : true\r\n    }\r\n\r\n    getHistoryClass = () => {\r\n        return this.isSearchBoxEmpty() ? \"search-screen-history visible\" : \"search-screen-history collapsed\"\r\n    }\r\n\r\n    getResultsClass = () => {\r\n        return this.isSearchBoxEmpty() ? \"search-screen-results collapsed\" : \"search-screen-results visible\"\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"search-screen-container\">\r\n                <Modal contentClassName=\"search-screen-modal\" show={this.state.showCreateCollectionModal}>\r\n                    <Modal.Header onHide={this.handleHideCreateCollectionModal} closeButton>\r\n                        <Modal.Title className=\"title color-accented\">Create A New Playlist</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <p className=\"subtitle color-accented\">Playlist Name:</p>\r\n                        <input className=\"body-text\" value={this.state.newCollectionName} onChange={this.handleNewCollectionNameChange}></input>\r\n                        <div className={this.getCharLengthClass()}>{this.state.newCollectionName.length}/{this.newCollectionNameMaxLength}</div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button className=\"body-text bg-color-harmony color-accented\" onClick={this.handleCreateCollection} disabled={!this.handleValidateNewCollectionName()}>Create</Button>\r\n                    </Modal.Footer>\r\n\t\t\t\t</Modal>   \r\n                <div className=\"search-screen-search-box-group-container\">\r\n                    <InputGroup className=\"search-screen-search-box-container\">\r\n                        <FormControl \r\n                            className=\"search-screen-search-box body-text\" \r\n                            placeholder=\"Search sessions, collections and more\"\r\n                            value={this.state.query} \r\n                            onChange={e => this.handleSearchQueryChange(e)}\r\n                            onKeyDown={e => this.handleSearchQueryKeydown(e)}/>\r\n                        <InputGroup.Append>\r\n                            <Button className=\"search-screen-search-box-clear-button\" onClick={e => this.handleClearSearchBox(e)}>\r\n                                <Image className=\"search-screen-search-box-clear-button-icon\" src={delete_button_white}/>\r\n                            </Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup> \r\n                    <Dropdown role='menu'>\r\n                        <Dropdown.Menu id=\"search-screen-search-box-suggestions-dropdown\" show={this.getShowSuggestions()}>\r\n                            {\r\n                                this.state.suggestions.map((suggestion, ind) => \r\n                                    <Dropdown.Item eventKey={String(ind)} key={ind} onSelect={(key, e) => this.handleSelectSuggestion(key, e)}>{suggestion}</Dropdown.Item>\r\n                                )\r\n                            }\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </div>\r\n                <div className={this.getHistoryClass()}>\r\n                    {\r\n                        this.props.auth ? \r\n                        <div className=\"search-screen-history-title super-title color-accented\">\r\n                            Your Recent History\r\n                        </div> :\r\n                        <div></div>\r\n                    }\r\n                    <ListGroup>\r\n                        {\r\n                            this.state.user ? this.state.user.history.map((obj, ind) => \r\n                                <ListGroup.Item className=\"search-screen-history-item\" key={ind} onClick={e => this.handleGoToHistoryItem(e)} action>\r\n                                    <div className=\"search-screen-history-item-type title color-contrasted\">{obj.type.capitalize()}</div>\r\n                                    <div className=\"search-screen-history-item-container\">\r\n                                        <Image className=\"search-screen-history-item-display-image\" src={obj.image}/>\r\n                                        <div className=\"search-screen-history-item-display-container\">\r\n                                            <div className=\"subtitle color-accented\">{obj.name}</div>\r\n                                            <div className=\"body-text color-accented\">{obj.creator}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"search-screen-history-item-remove-button\" onClick={e => this.handleRemoveHistory(e, obj.index)}>\r\n                                        <Image className=\"search-screen-history-item-remove-button-icon\" src={delete_cross_white}/>\r\n                                    </div>\r\n                                </ListGroup.Item>\r\n                                ) :\r\n                                <div></div>\r\n                        }\r\n                    </ListGroup>\r\n                </div>\r\n                <div className={this.getResultsClass()}>\r\n                    {Object.keys(this.state.res).map((category, cat_ind) => this.state.res[category] !== undefined && this.state.res[category].length > 0 ?\r\n                        <div className=\"search-screen-results-category-container\" key={cat_ind}>\r\n                            <div className=\"search-screen-results-category-name title color-contrasted\">{category.capitalize()}</div>\r\n                            <CardDeck className=\"search-screen-results-category-list\">\r\n                                {\r\n                                    this.state.res[category].map((obj, item_ind) => \r\n                                        <Card className=\"search-screen-results-category-list-item\" key={item_ind}>\r\n                                            {obj.type === \"session\" && obj.live === true ? \r\n                                                <Card.Text className=\"search-screen-results-list-item-live-indicator tiny-text color-accented\">LIVE</Card.Text> :\r\n                                                <div></div>\r\n                                            }\r\n                                            {obj.type === \"user\" && obj.live === true ? \r\n                                                <Card.Text className=\"search-screen-results-list-item-streaming-indicator tiny-text color-accented\">STREAMING NOW</Card.Text> :\r\n                                                <div></div>\r\n                                            }\r\n                                            {\r\n                                                obj.type === \"song\" ? \r\n                                                    <div className=\"search-screen-results-category-list-item-img-overlay-trigger\">\r\n                                                        <div className=\"search-screen-results-category-list-item-img-overlay-container\">\r\n                                                            <Dropdown className=\"search-screen-results-category-list-item-img-overlay-dropdown\" as={ButtonGroup}>\r\n                                                                <Dropdown.Toggle split className=\"search-screen-results-category-list-item-img-overlay-dropdown-button no-caret\">\r\n                                                                    <Image className=\"search-screen-results-category-list-item-img-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n                                                                </Dropdown.Toggle>\r\n                                                                <Dropdown.Menu className=\"search-screen-results-category-list-item-img-overlay-dropdown-menu\">\r\n                                                                    <Dropdown.Item>\r\n                                                                        <Button onClick={this.props.queue.addSongToFutureQueue.bind(this, obj)}>\r\n                                                                            Add To Queue\r\n                                                                        </Button>\r\n                                                                    </Dropdown.Item>\r\n                                                                    {\r\n                                                                        this.props.auth ?\r\n                                                                        <div>\r\n                                                                            <DropdownItem onMouseEnter={this.handleMouseEnterDropdown} onMouseLeave={this.handleMouseLeaveDropdown}>\r\n                                                                                <DropdownButton\r\n                                                                                    as={ButtonGroup}\r\n                                                                                    key=\"right\"\r\n                                                                                    className=\"search-screen-results-category-list-item-img-overlay-dropdown-menu-collection\"\r\n                                                                                    drop=\"right\"\r\n                                                                                    variant=\"secondary\"\r\n                                                                                    title=\"Add To Playlist\"\r\n                                                                                    show={this.state.showDropdown}\r\n                                                                                >\r\n                                                                                    {\r\n                                                                                        this.state.playlists.map((playlist, playlist_ind) => \r\n                                                                                            <Dropdown.Item key={playlist_ind} onClick={this.handleAddSongToCollection.bind(this, obj._id, playlist._id)}>{playlist.name}</Dropdown.Item>\r\n                                                                                        )\r\n                                                                                    }\r\n                                                                                    {\r\n                                                                                        this.state.playlists.length > 0 ?\r\n                                                                                        <Dropdown.Divider /> :\r\n                                                                                        <div></div>\r\n                                                                                    }\r\n                                                                                    <Dropdown.Item onClick={this.handleShowCreateCollectionModal.bind(this, obj._id)}>Create Playlist</Dropdown.Item>\r\n                                                                                </DropdownButton>\r\n                                                                            </DropdownItem>\r\n                                                                            {\r\n                                                                                this.state.user && !this.state.user.likedSongs.includes(obj._id) ? \r\n                                                                                <Dropdown.Item>\r\n                                                                                    <Button onClick={this.handleAddSongToFavorites.bind(this, obj._id)}>\r\n                                                                                        Save To Favorites\r\n                                                                                    </Button>\r\n                                                                                </Dropdown.Item> :\r\n                                                                                <Dropdown.Item>\r\n                                                                                    <Button onClick={this.handleRemoveSongFromFavorites.bind(this, obj._id)}>\r\n                                                                                        Remove From Favorites\r\n                                                                                    </Button>\r\n                                                                                </Dropdown.Item>\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                        : <div></div>\r\n                                                                    }\r\n                                                                </Dropdown.Menu>\r\n                                                            </Dropdown>\r\n                                                            <Button className=\"search-screen-results-category-list-item-img-overlay-play-button\" onClick={this.handlePlayItem.bind(this, obj)}>\r\n                                                                <Image className=\"search-screen-results-category-list-item-img-overlay-play-button-icon\" src={icon_play_white_1} roundedCircle/>\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                        <Card.Img className=\"search-screen-results-category-list-item-img\" src={obj.image_high ? obj.image_high : obj.image_med ? obj.image_med : obj.image_std ? obj.image_std : obj.image ? obj.image : icon_music_1} />\r\n                                                    </div> \r\n                                                    : obj.type === \"session\" ?\r\n                                                    <div className=\"search-screen-results-category-list-item-img-overlay-trigger\">\r\n                                                        <div className=\"search-screen-results-category-list-item-img-overlay-container\">\r\n                                                            <Button className=\"search-screen-results-category-list-item-img-overlay-join-button bg-color-harmony\" onClick={this.handlePlayItem.bind(this, obj)}>\r\n                                                                <div className=\"search-screen-results-category-list-item-img-overlay-join-button-text color-accented tiny-text\">{obj.live ? \"JOIN SESSION\" : \"PLAY AGAIN\"}</div>\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                        <Card.Img className=\"search-screen-results-category-list-item-img\" src={obj.image ? obj.image : icon_sound_mixer_1} />\r\n                                                    </div>\r\n                                                    : obj.type === \"collection\" ?\r\n                                                    <div className=\"search-screen-results-category-list-item-img-overlay-trigger\">\r\n                                                        <div className=\"search-screen-results-category-list-item-img-overlay-container\">\r\n                                                            <Dropdown className=\"search-screen-results-category-list-item-img-overlay-dropdown\" as={ButtonGroup}>\r\n                                                                <Dropdown.Toggle split className=\"search-screen-results-category-list-item-img-overlay-dropdown-button no-caret\">\r\n                                                                    <Image className=\"search-screen-results-category-list-item-img-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n                                                                </Dropdown.Toggle>\r\n                                                                <Dropdown.Menu className=\"search-screen-results-category-list-item-img-overlay-dropdown-menu\">\r\n                                                                    <Dropdown.Item>\r\n                                                                        <Button onClick={this.handleAddCollectionToFutureQueue.bind(this, obj)}>\r\n                                                                            Add To Queue\r\n                                                                        </Button>\r\n                                                                    </Dropdown.Item>\r\n                                                                    {\r\n                                                                        this.props.auth ?\r\n                                                                        <div>\r\n                                                                            {\r\n                                                                                this.state.user && !this.state.user.likedCollections.includes(obj._id) ? \r\n                                                                                <Dropdown.Item>\r\n                                                                                    <Button onClick={this.handleAddCollectionToFavorites.bind(this, obj._id)}>\r\n                                                                                        Save To Favorites\r\n                                                                                    </Button>\r\n                                                                                </Dropdown.Item> :\r\n                                                                                <Dropdown.Item>\r\n                                                                                    <Button onClick={this.handleRemoveCollectionFromFavorites.bind(this, obj._id)}>\r\n                                                                                        Remove From Favorites\r\n                                                                                    </Button>\r\n                                                                                </Dropdown.Item>\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                        : <div></div>\r\n                                                                    }\r\n                                                                </Dropdown.Menu>\r\n                                                            </Dropdown>\r\n                                                            <Button className=\"search-screen-results-category-list-item-img-overlay-play-button\" onClick={this.handlePlayItem.bind(this, obj)}>\r\n                                                                <Image className=\"search-screen-results-category-list-item-img-overlay-play-button-icon\" src={icon_play_white_1} roundedCircle/>\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                        <Card.Img className=\"search-screen-results-category-list-item-img\" src={obj.image ? obj.image : icon_playlist_2} />\r\n                                                    </div>\r\n                                                    : <Card.Img className=\"search-screen-results-category-list-item-img\" src={obj.image ? obj.image : icon_profile_image} />\r\n                                            }\r\n                                            <Card.Body className=\"search-screen-results-category-list-item-body\">\r\n                                                <div className=\"search-screen-results-category-list-item-body-title ellipsis-multi-line-overflow subtitle color-jet\" onClick={this.handleGoToResultItem.bind(this, obj)}>{obj.type === \"user\" ? obj.username : obj.name}</div>\r\n                                                <div className=\"search-screen-results-category-list-item-body-creator ellipsis-multi-line-overflow body-text color-jet\" onClick={this.handleGoToResultCreator.bind(this, obj)}>{obj.type === \"session\" ? obj.hostName : obj.type === \"collection\" ? obj.ownerName : obj.type === \"song\" ? obj.creator : \"\"}</div>\r\n                                                {obj.type === \"user\" && obj.live === true ? \r\n                                                    <Card.Text className=\"body-text color-accented\">{obj.sessions[0].name}</Card.Text> :\r\n                                                    <div></div>\r\n                                                }\r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                        )\r\n                                }\r\n                            </CardDeck>\r\n                        </div> : \r\n                        <div key={cat_ind}></div>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchScreen;","import React from 'react';\r\nimport Spinner from './Spinner';\r\nimport { icon_profile_image, icon_like, icon_music_1, plus_button, icon_play_white_1, menu_button_white, icon_sound_mixer_1, icon_list, icon_playlist_2 } from '../graphics';\r\nimport { Modal, Image, Card, Button, Dropdown, DropdownButton, ButtonGroup } from 'react-bootstrap'\r\nimport DropdownItem from 'react-bootstrap/esm/DropdownItem'\r\n\r\nconst _ = require('lodash')\r\n\r\nclass ProfileScreen extends React.Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.newCollectionNameMaxLength = 50\r\n\t\tthis.state = {\r\n\t\t\tuser: this.props.user,\r\n\t\t\tloading: true,\r\n\t\t\tsessions_loading: true,\r\n\t\t\tplaylists_loading: true,\r\n\t\t\tlikedSongs_loading: true,\r\n\t\t\tlikedCollections_loading: true,\r\n\t\t\tprofileUser: null,\r\n\t\t\tsessions: [],\r\n\t\t\tplaylists: [],\r\n\t\t\tlikedSongs: [],\r\n\t\t\tlikedCollections: [],\r\n\t\t\tcurrentSongTarget: \"\",\r\n\t\t\tnewCollectionName: \"\",\r\n\t\t\tshowDropdown: false,\r\n\t\t\tshowCreateCollectionModal: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t\tif (prevState.user !== this.props.user) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tuser: this.props.user\r\n\t\t\t})\r\n\r\n\t\t\tif (this.state.user && (this.state.profileUser._id === this.state.user._id)) { //Refresh if user is viewing own profile\r\n\t\t\t\tthis.fetchUser().then(() => {\r\n\t\t\t\t\tthis.fetchUserData()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.fetchUser().then(() => {\r\n\t\t\tthis.fetchUserData()\r\n\t\t})\r\n\t}\r\n\r\n\tformatCount = (count) => {\r\n\t\tif (count < 1000) {\r\n\t\t\treturn count\r\n\t\t}\r\n\t\telse if (count < 1000000) {\r\n\t\t\treturn Math.floor(count/1000) + \"k\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Math.floor(count/1000000) + \"m\"\r\n\t\t}\r\n\t}\r\n\r\n\thandleGoToCollection = (id, e) => {\r\n\t\tthis.props.history.push('/main/collection/' + id)\r\n\t}\r\n\r\n\thandleGoToItem = (obj, e) => {\r\n        if (obj.type === \"session\") {\r\n            this.props.history.push('/main/session/' + obj._id)\r\n        }\r\n        else if (obj.type === \"collection\") {\r\n            this.props.history.push('/main/collection/' + obj._id)\r\n        }\r\n\t}\r\n\t\r\n\thandleGoToCreator = (obj, e) => {\r\n\t\tif (obj.type === \"collection\") {\r\n            this.props.history.push('/main/profile/' + obj.ownerId)\r\n        }\r\n    }\r\n\r\n\thandlePlayItem = (obj, e) => {\r\n        if (obj.type === \"song\") {\r\n            this.props.playVideo(obj._id)\r\n        }\r\n        else if (obj.type === \"session\") {\r\n            this.props.history.push('/main/session/' + obj._id)\r\n        }\r\n        else if (obj.type === \"collection\") {\r\n            var songList = _.cloneDeep(obj.songList)\r\n            this.props.playVideo(songList.shift())\r\n\r\n            Promise.all(songList.map((songId) => {\r\n                return this.props.fetchVideoById(songId, true)\r\n            })).then((songs) => {\r\n                songs.forEach(song => this.props.queue.addSongToFutureQueue(song))\r\n            })\r\n        }\r\n    }\r\n\r\n\thandleCreateCollection = () => {\r\n\t\tif (this.handleValidateNewCollectionName()){\r\n\t\t\tthis.props.axiosWrapper.axiosPost('/api/createCollection/' + this.state.newCollectionName, {}, (function(res, data){\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.props.handleUpdateUser(data.data.user)\r\n\t\t\t\t\tthis.handleGoToCollection(data.data.collectionId)\r\n\t\t\t\t}\r\n\t\t\t}).bind(this), true)\r\n\t\t}\r\n\t}\r\n\r\n\thandleAddCollectionToFutureQueue = (collection, e) => {\r\n        Promise.all(collection.songList.map((songId) => {\r\n            return this.props.fetchVideoById(songId, true)\r\n        })).then((songs) => {\r\n            songs.forEach(song => this.props.queue.addSongToFutureQueue(song))\r\n        })\r\n    }\r\n\r\n    handleAddCollectionToFavorites = (collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addCollectionToFavorites/' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    handleRemoveCollectionFromFavorites = (collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/removeCollectionFromFavorites/' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n\thandleAddSongToFavorites = (songId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addSongToFavorites/' + songId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n\t}\r\n\t\r\n\thandleRemoveSongFromFavorites = (songId, e) => {\r\n\t\tthis.props.axiosWrapper.axiosPost('/api/removeSongFromFavorites/' + songId, {}, (function(res, data) {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tthis.props.handleUpdateUser(data.data.user)\r\n\t\t\t}\r\n\t\t}).bind(this), true)\r\n\t}\r\n\r\n    handleAddSongToCollection = (songId, collectionId, e) => {\r\n        this.props.axiosWrapper.axiosPost('/api/addSongToCollection/' + songId + '&' + collectionId, {}, (function(res, data) {\r\n            if (data.success) {\r\n                this.props.handleUpdateUser(data.data.user)\r\n            }\r\n        }).bind(this), true)\r\n\t}\r\n\r\n\thandleValidateNewCollectionName = () => {\r\n        var length = this.state.newCollectionName.length\r\n\r\n        if (length > 0 && length <= this.newCollectionNameMaxLength) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n\thandleNewCollectionNameChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tnewCollectionName: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandleMouseEnterDropdown = () => {\r\n        this.setState({\r\n            showDropdown: true\r\n        })\r\n    }\r\n\r\n    handleMouseLeaveDropdown = () => {\r\n        this.setState({\r\n            showDropdown: false\r\n        })\r\n    }\r\n\r\n\thandleShowCreateCollectionModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowCreateCollectionModal: true\r\n\t\t})\r\n\t}\r\n\r\n\thandleHideCreateCollectionModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tnewCollectionName: \"\",\r\n\t\t\tshowCreateCollectionModal: false\r\n\t\t})\r\n\t}\r\n\r\n\tgetCharLengthClass = () => {\r\n        return this.state.newCollectionName.length === 0 || this.handleValidateNewCollectionName() ? \"color-accented body-text\" : \"color-alert body-text\"\r\n    }\r\n\r\n\tfetchUser () {\r\n\t\tif (this.state.user && (this.props.match.params.userId === this.state.user._id)) {\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tprofileUser: _.cloneDeep(this.state.user),\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn this.props.axiosWrapper.axiosGet('/api/profile/' + this.props.match.params.userId, (function(res, data) {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tprofileUser: data.data.user,\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}).bind(this), true)\r\n\t\t}\r\n\t}\r\n\r\n\tfetchUserData = () => {\r\n\t\tif (this.state.profileUser) {\r\n\t\t\tif (this.state.profileUser.sessions.length > 0) {\r\n\t\t\t\tthis.props.axiosWrapper.axiosGet('/api/profile/' + this.props.match.params.userId + '/sessions', (function(res, data) {\r\n\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tsessions: data.data.sessions,\r\n\t\t\t\t\t\t\tsessions_loading: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).bind(this), true)\r\n\t\t\t}\r\n\t\t\telse if (this.state.sessions_loading) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tsessions_loading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (this.state.profileUser.playlists.length > 0) {\r\n\t\t\t\tthis.props.axiosWrapper.axiosGet('/api/profile/' + this.props.match.params.userId + '/playlists', (function(res, data) {\r\n\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tplaylists: data.data.playlists,\r\n\t\t\t\t\t\t\tplaylists_loading: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).bind(this), true)\r\n\t\t\t}\r\n\t\t\telse if (this.state.playlists_loading) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tplaylists_loading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (this.state.profileUser.likedSongs.length > 0) {\r\n\t\t\t\tPromise.all(this.state.profileUser.likedSongs.map((songId) => {\r\n\t\t\t\t\treturn this.props.fetchVideoById(songId, true)\r\n\t\t\t\t})).then((likedSongs) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlikedSongs: likedSongs,\r\n\t\t\t\t\t\tlikedSongs_loading: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse if (this.state.likedSongs_loading) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlikedSongs_loading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (this.state.profileUser.likedCollections.length > 0) {\r\n\t\t\t\tthis.props.axiosWrapper.axiosGet('/api/profile/' + this.props.match.params.userId + '/likedCollections', (function(res, data) {\r\n\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tlikedCollections: data.data.likedCollections,\r\n\t\t\t\t\t\t\tlikedCollections_loading: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).bind(this), true)\r\n\t\t\t}\r\n\t\t\telse if (this.state.likedCollections_loading) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlikedCollections_loading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    render(){\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn <Spinner/>\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn(\r\n\t\t\t\t<div style={{fontFamily: 'BalsamiqSans', padding:'1em'}}>\r\n\t\t\t\t\t<Modal contentClassName=\"profile-screen-modal\" show={this.state.showCreateCollectionModal}>\r\n\t\t\t\t\t\t\t<Modal.Header onHide={this.handleHideCreateCollectionModal} closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title className=\"title color-accented\">Create A New Playlist</Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t\t<p className=\"subtitle color-accented\">Playlist Name:</p>\r\n\t\t\t\t\t\t\t\t<input className=\"body-text\" value={this.state.newCollectionName} onChange={this.handleNewCollectionNameChange}></input>\r\n\t\t\t\t\t\t\t\t<div className={this.getCharLengthClass()}>{this.state.newCollectionName.length}/{this.newCollectionNameMaxLength}</div>\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t<Button className=\"body-text bg-color-harmony color-accented\" onClick={this.handleCreateCollection} disabled={!this.handleValidateNewCollectionName()}>Create</Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t\t<div id='profile-screen-top-container' className='row'>\r\n\t\t\t\t\t\t<div className='col-sm-1.3' style={{display:'flex', padding:'1em'}}>\r\n\t\t\t\t\t\t\t<div id='container' style={{position:'relative'}}>\r\n\t\t\t\t\t\t\t\t\t<img id=\"user-profile-image\" src={this.state.profileUser.image ? this.state.profileUser.image : icon_profile_image} style={{width: '208px'}}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col'>\r\n\t\t\t\t\t\t\t<div className='body-text color-contrasted'>PROFILE</div>\r\n\t\t\t\t\t\t\t<div id='profile-screen-username' className='color-contrasted'>\r\n\t\t\t\t\t\t\t\t{this.state.profileUser.username}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id='profile-screen-biography' className='body-text color-contrasted' rows='5' cols='35'>{this.state.profileUser.biography}</div>\r\n\t\t\t\t\t\t\t<div id='profile-screen-summary' className='row'>\r\n\t\t\t\t\t\t\t\t<div id='profile-screen-summary-text' className='body-text color-contrasted'>\r\n\t\t\t\t\t\t\t\t\t{this.state.profileUser.sessions.length} Session(s)   \r\n\t\t\t\t\t\t\t\t\t{\" \" + this.state.profileUser.playlists.length} Playlist(s)   \r\n\t\t\t\t\t\t\t\t\t{\" \" + this.state.profileUser.likedSongs.length} Liked Song(s)   \r\n\t\t\t\t\t\t\t\t\t{\" \" + this.state.profileUser.likedCollections.length} Liked Collection(s)\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='profile-screen-bottom-container'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t[this.state.profileUser.sessions,\r\n\t\t\t\t\t\tthis.state.profileUser.playlists,\r\n\t\t\t\t\t\tthis.state.profileUser.likedSongs,\r\n\t\t\t\t\t\tthis.state.profileUser.likedCollections\r\n\t\t\t\t\t\t].every(arr => arr.length === 0) ?\r\n\r\n\t\t\t\t\t\t<div className=\"profile-screen-empty-notice-container\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.user && (this.state.user._id === this.state.profileUser._id) ?\r\n\t\t\t\t\t\t\t<div className=\"profile-screen-empty-notice-container-box\">\r\n\t\t\t\t\t\t\t\t<div className=\"profile-screen-empty-notice subtitle color-accented\">\r\n\t\t\t\t\t\t\t\t\tYour profile seems to be empty.\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"profile-screen-empty-notice-create-collection-button-container\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"profile-screen-empty-notice-create-collection-button bg-color-harmony\" onClick={this.handleShowCreateCollectionModal}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"subtitle color-accented\">\r\n\t\t\t\t\t\t\t\t\t\t\tCreate A Playlist\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<div className=\"profile-screen-empty-notice subtitle color-accented\">\r\n\t\t\t\t\t\t\t\tLooks like {this.state.profileUser.username} has not customized their profile yet.<br/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tthis.state.profileUser.sessions && (this.state.profileUser.sessions.length > 0) ?\r\n\t\t\t\t\t\t\t<div>\t\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div style={{color: 'white', fontSize:'35px'}}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.profileUser.username}'s Sessions\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-deck profile-screen-category-container'>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.sessions_loading ? \r\n\t\t\t\t\t\t\t\t\t\t\t<Spinner/> :\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.sessions.map((session, session_ind) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={session_ind} className='card profile-screen-category-item-card'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"card-img-top profile-screen-category-item-card-image\" src={session.image}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body profile-screen-category-item-card-text-container\" style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"card-title profile-screen-category-item-card-name ellipsis-multi-line-overflow subtitle color-jet\" onClick={this.handleGoToItem.bind(this, session)}>{session.name}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"body-text profile-screen-category-item-card-creator ellipsis-multi-line-overflow body-text color-jet\">{session.hostName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-likes\">{this.formatCount(session.likes)} <img src={icon_like} className='profile-screen-category-item-card-likes-icon'/></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-streams\">{session.streams} <img src={session.image ? session.image : icon_sound_mixer_1} className='profile-screen-category-item-card-streams-icon'/></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.profileUser.playlists && (this.state.profileUser.playlists.length > 0 || (this.state.profileUser._id === this.state.user._id)) ?\r\n\t\t\t\t\t\t\t<div>\t\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div style={{color: 'white', fontSize:'35px'}}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.profileUser.username}'s Playlists\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-deck profile-screen-category-container'>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.playlists_loading ? \r\n\t\t\t\t\t\t\t\t\t\t\t<Spinner/> :\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.playlists.map((playlist, playlist_ind) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={playlist_ind} className='card profile-screen-category-item-card'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-trigger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown className=\"profile-screen-category-item-card-image-overlay-dropdown\" as={ButtonGroup}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle split className=\"profile-screen-category-item-card-image-overlay-dropdown-button no-caret\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu className=\"profile-screen-category-item-card-image-overlay-dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleAddCollectionToFutureQueue.bind(this, playlist)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd To Queue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.auth ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.user && !this.state.user.likedCollections.includes(playlist._id) ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleAddCollectionToFavorites.bind(this, playlist._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSave To Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleRemoveCollectionFromFavorites.bind(this, playlist._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove From Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"profile-screen-category-item-card-image-overlay-play-button\" onClick={this.handlePlayItem.bind(this, playlist)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-play-button-icon\" src={icon_play_white_1} roundedCircle/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Img className=\"profile-screen-category-item-card-image\" src={playlist.image ? playlist.image : icon_playlist_2} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body profile-screen-category-item-card-text-container\" style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"card-title profile-screen-category-item-card-name ellipsis-multi-line-overflow subtitle color-jet\" onClick={this.handleGoToItem.bind(this, playlist)}>{playlist.name}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-creator ellipsis-multi-line-overflow body-text color-jet\">{playlist.ownerName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-likes\">{this.formatCount(playlist.likes)} <img src={icon_like} className='profile-screen-category-item-card-likes-icon'/></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.user && (this.state.user._id === this.state.profileUser._id) ? //Viewing own profile\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='card profile-screen-create-collection-card' onClick={this.handleShowCreateCollectionModal}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"profile-screen-create-collection-card-img\" src={plus_button}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tthis.state.profileUser.likedSongs && (this.state.profileUser.likedSongs.length > 0) ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div style={{color: 'white', fontSize:'35px'}}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.profileUser.username}'s Liked Songs\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-deck profile-screen-category-container'>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.likedSongs_loading ? \r\n\t\t\t\t\t\t\t\t\t\t\t<Spinner/> :\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.likedSongs.map((song, song_ind) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={song_ind} className='card profile-screen-category-item-card'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-trigger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown className=\"profile-screen-category-item-card-image-overlay-dropdown\" as={ButtonGroup}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle split className=\"profile-screen-category-item-card-image-overlay-dropdown-button no-caret\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu className=\"profile-screen-category-item-card-image-overlay-dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.props.queue.addSongToFutureQueue.bind(this, song)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd To Queue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.auth ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownItem onMouseEnter={this.handleMouseEnterDropdown} onMouseLeave={this.handleMouseLeaveDropdown}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={ButtonGroup}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"profile-screen-category-item-card-image-overlay-dropdown-menu-collection\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdrop=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Add To Playlist\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshow={this.state.showDropdown}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.playlists.map((playlist, playlist_ind) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item key={playlist_ind} onClick={this.handleAddSongToCollection.bind(this, song._id, playlist._id)}>{playlist.name}</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.playlists.length > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Divider /> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.handleShowCreateCollectionModal.bind(this, song._id)}>Create Playlist</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.user && !this.state.user.likedSongs.includes(song._id) ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleAddSongToFavorites.bind(this, song._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSave To Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleRemoveSongFromFavorites.bind(this, song._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove From Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"profile-screen-category-item-card-image-overlay-play-button\" onClick={this.handlePlayItem.bind(this, song)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-play-button-icon\" src={icon_play_white_1} roundedCircle/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Img className=\"profile-screen-category-item-card-image\" src={song.image_high ? song.image_high : song.image_med ? song.image_med : song.image_std ? song.image_std : song.image ? song.image : icon_music_1} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body profile-screen-category-item-card-text-container\" style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"card-title profile-screen-category-item-card-name ellipsis-multi-line-overflow subtitle color-jet\">{song.name}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-creator ellipsis-multi-line-overflow body-text color-jet\">{song.creator}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-likes\">{this.formatCount(song.likes)} <img src={icon_like} className='profile-screen-category-item-card-likes-icon'/></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> : \r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tthis.state.profileUser.likedCollections && (this.state.profileUser.likedCollections.length > 0) ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div style={{color: 'white', fontSize:'35px'}}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.profileUser.username}'s Liked Collections\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='row' style={{padding:'1em'}}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-deck profile-screen-category-container'>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.likedCollections_loading ? \r\n\t\t\t\t\t\t\t\t\t\t\t<Spinner/> :\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.likedCollections.map((collection, collection_ind) => \r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={collection_ind} className='card profile-screen-category-item-card'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-trigger\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-screen-category-item-card-image-overlay-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown className=\"profile-screen-category-item-card-image-overlay-dropdown\" as={ButtonGroup}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle split className=\"profile-screen-category-item-card-image-overlay-dropdown-button no-caret\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu className=\"profile-screen-category-item-card-image-overlay-dropdown-menu\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleAddCollectionToFutureQueue.bind(this, collection)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd To Queue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.auth ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.user && !this.state.user.likedCollections.includes(collection._id) ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleAddCollectionToFavorites.bind(this, collection._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSave To Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleRemoveCollectionFromFavorites.bind(this, collection._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove From Favorites\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"profile-screen-category-item-card-image-overlay-play-button\" onClick={this.handlePlayItem.bind(this, collection)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image className=\"profile-screen-category-item-card-image-overlay-play-button-icon\" src={icon_play_white_1} roundedCircle/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Img className=\"profile-screen-category-item-card-image\" src={collection.image ? collection.image : icon_list} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body profile-screen-category-item-card-text-container\" style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"card-title profile-screen-category-item-card-name ellipsis-multi-line-overflow subtitle color-jet\" onClick={this.handleGoToItem.bind(this, collection)}>{collection.name}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-creator ellipsis-multi-line-overflow body-text color-jet\" onClick={this.handleGoToCreator.bind(this, collection)}>{collection.ownerName}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"profile-screen-category-item-card-likes\">{this.formatCount(collection.likes)} <img src={icon_like} className='profile-screen-category-item-card-likes-icon'/></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\nexport default ProfileScreen;","import React from 'react';\r\n\r\n\r\nclass ChatFeed extends React.Component{\r\n\tscrollToBottom = () => {\r\n      this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.scrollToBottom();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n      this.scrollToBottom();\r\n}\r\n    render(){\r\n        var ChatEntries = this.props.actionLog; //in the future sort these out for message actions\r\n        \r\n        var ChatList = ChatEntries.map(item => {\r\n            if(item.type === \"message\"){\r\n                if(this.props.user != null){\r\n                    if(item.object.username === this.props.user.username){\r\n                        return <div style={{overflowWrap: 'break-word', padding:'1em', textAlign:'right'}}>\r\n                            <div className='body-text color-accented'>You</div>\r\n                            <div style={{display: 'inline-block',maxWidth:'55%', padding:'1em',backgroundColor:'white', border: '3px solid black', borderRadius: '25px'}}>{item.object.message}</div>\r\n                            </div>\r\n                    }\r\n                    else{\r\n                        return <div style={{overflowWrap: 'break-word', padding:'1em'}}>\r\n                            <div className='body-text color-accented'>{item.object.username}</div>\r\n                            <div style={{display: 'inline-block',maxWidth:'55%', padding:'1em',backgroundColor:'white', border: '3px solid black', borderRadius: '25px'}}>{item.object.message}</div>\r\n                            </div>\r\n                    }\r\n                }\r\n                else{\r\n                    return <div style={{overflowWrap: 'break-word', padding:'1em'}}>\r\n                            <div className='body-text color-accented'>{item.object.username}</div>\r\n                            <div style={{display: 'inline-block',maxWidth:'55%', padding:'1em',backgroundColor:'white', border: '3px solid black', borderRadius: '25px'}}>{item.object.message}</div>\r\n                            </div>\r\n                }\r\n                \r\n                \r\n            }\r\n        });\r\n                \r\n                \r\n        \r\n    \treturn(\r\n    \t\t<div style={{width:'100%'}}>\r\n    \t\t\t{ChatList}\r\n                <div style={{ float:\"left\", clear: \"both\" }}\r\n                     ref={(el) => { this.messagesEnd = el; }}>\r\n                </div>\r\n        \t</div>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nexport default ChatFeed;","import React from 'react';\r\nimport Ticker from 'react-ticker';\r\nimport {Droppable, DragDropContext, Draggable} from 'react-beautiful-dnd'\r\nclass QueueEntry extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {showTicker: false}\r\n\t}\r\n\t\r\n\thandleEntry = () => {\r\n\t\tthis.setState({showTicker : true});\r\n\t\t\r\n\t}\r\n\thandleLeave = () => {\r\n\t\tthis.setState({showTicker : false});\r\n\t}\r\n\trender(){\r\n\t\tconsole.log(\"render called\");\r\n\t\tlet entry;\r\n\t\tif(this.state.showTicker){\r\n\t\t\tentry = <Ticker speed={14} height={27.2} mode=\"await\" >\r\n\t\t\t\t\t\t\t{({ index }) => (<><h1 className='Session-Entry-Text body-text color-accented' >{this.props.index+1} : {this.props.title} -- {this.props.artist}</h1></>)}\r\n\t\t\t\t\t</Ticker>;\r\n\r\n\t\t} else{\r\n\t\t\tentry = <h1 className='Session-Entry-Text body-text color-accented'>{this.props.index+1} : {this.props.title} -- {this.props.artist}</h1>;\r\n\t\t}\r\n\t\tlet renderStuff;\r\n\t\tif(this.props.user != null){\r\n\t\t\trenderStuff =<div  onMouseEnter={this.handleEntry} onMouseLeave={this.handleLeave} style={{width:\"100%\"}}>\r\n\t\t\t\t\r\n\t\t\t\t<Draggable key={this.props.id} draggableId={this.props.id} index={this.props.index} >\r\n\t            \t{(provided) => (\r\n\t\t\t\t\t<div className='list-group-item'  {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{entry}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)} \r\n\r\n\t        \t</Draggable>\r\n\r\n\t\t\t</div>\r\n\t\t}\r\n\t\telse{\r\n\t\t\trenderStuff = <div  onMouseEnter={this.handleEntry} onMouseLeave={this.handleLeave} style={{width:\"100%\"}}>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t<div className='list-group-item' >\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{entry}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\r\n\t\t\t</div>\r\n\t\t}\r\n\t\treturn(\r\n\t\t\trenderStuff\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default QueueEntry;","import React from 'react';\r\nimport QueueEntry from './QueueEntry.js'\r\nimport {Droppable, DragDropContext, Draggable} from 'react-beautiful-dnd'\r\nclass QueueComponent extends React.Component{\r\n\t\r\n    render(){\r\n        var QueueEntries = this.props.Queue;\r\n        var QueueList;\r\n        let renderStuff;\r\n        if(QueueEntries!= null){\r\n            QueueList = QueueEntries.map((item, index) => \r\n\r\n\r\n            <QueueEntry \r\n                artist={item.creator}\r\n                title={item.name} \r\n                index={index}\r\n                id={item._id}\r\n                user={this.props.user}\r\n            />\r\n\r\n            ); \r\n        }\r\n        \r\n               \r\n        if(this.props.user != null){\r\n            renderStuff = <div className='list-group list-group-sessionScreen' style={{width: '100%', minWidth: '150px'}} {...this.props.provided.droppableProps} ref={this.props.provided.innerRef}>\r\n                {QueueList}\r\n                {this.props.provided.placeholder}\r\n            </div>\r\n        }\r\n        else{\r\n            renderStuff = \r\n            <div className='list-group list-group-sessionScreen' style={{width: '100%', minWidth: '150px'}}>\r\n                {QueueList}\r\n                            \r\n            </div>\r\n        }\r\n        \r\n    \treturn(\r\n            renderStuff\r\n                \t\t\r\n           \r\n        );\r\n        \r\n    }\r\n}\r\n\r\nexport default QueueComponent;","import React from 'react';\r\nimport { icon_profile_image, icon_radio } from '../graphics';\r\nimport ChatFeed from './Chat/ChatFeed.js';\r\nimport QueueComponent from './Queues/QueueComponent.js';\r\nimport Spinner from './Spinner';\r\nimport { Droppable, DragDropContext, Draggable } from 'react-beautiful-dnd'\r\n\r\nconst _ = require('lodash')\r\n\r\nclass SessionScreen extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tloading: true,\r\n\t\t\terror: false,\r\n\t\t\t_id: null,\r\n\t\t\thostId: null,\r\n\t\t\thostName: null,\r\n\t\t\tname: null,\r\n\t\t\tstartTime: null,\r\n\t\t\tcurrentSong: null,\r\n\t\t\tpastQueue: [],\r\n\t\t\tfutureQueue: [],\r\n\t\t\tchatLog: [],\r\n\t\t\tmessageText: \"\",\r\n\t\t}\r\n\t\tthis.getSession();\r\n\t\t\r\n\t\t\r\n\t\t//this.props.sessionClient.joinSession(this.props.match.params.sessionId)\r\n\t}\r\n\tinitSessionClient = () =>{\r\n\t\tthis.props.sessionClient.joinSession(this.state._id, this.setState({loading: false}));\r\n\t}\r\n\tgetSession = () => { \r\n\t\tif (this.props.match.params.sessionId){\r\n\t\t\tthis.props.axiosWrapper.axiosGet(\"/api/session/\" + this.props.match.params.sessionId, this.handleGetSession, true)\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Render suggestions to start a session?\r\n\t\t}\r\n\t}\r\n\thandleTextChange = (e) => {\r\n\t\tif(this.state.messageText.length <= 250 && !(e.target.value.length > 250)){\r\n\t\t\tthis.setState({\r\n\t\t\t\tmessageText: e.target.value\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tonKeyPress = (e) => {\r\n\r\n\t\tif(e.key === \"Enter\" && this.state.messageText.length <= 250){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//console.log(this.props.user);\r\n\t\t\t/*Adjust new object for new action types*/\r\n\t\t\tif(this.state.chatLog.length > 0){\r\n\t\t\t\tconst obj = {'type':\"message\", 'object':{'username':this.props.user.username, 'message':this.state.messageText, 'timestamp':(this.state.chatLog[this.state.chatLog.length-1].object.timestamp)+1}};\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchatLog: this.state.chatLog.concat(obj),\r\n\t\t\t\t\tmessageText: \"\"\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconst obj = {'type':\"message\", 'object':{'username':this.props.user.username, 'message':this.state.messageText, 'timestamp':100}};\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchatLog: this.state.chatLog.concat(obj),\r\n\t\t\t\t\tmessageText: \"\"\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\thandleOnDragEnd = (e) =>{\r\n\t\tif(!e.destination) return;\r\n\t\tconsole.log(e);\r\n\t\tif(e.destination.droppableId === \"futureQueue\" && e.source.droppableId === \"futureQueue\"){\r\n\t\t\tconst items = Array.from(this.state.futureQueue);\r\n\t\t\tconst [reorderedItem] = items.splice(e.source.index, 1);\r\n\t\t\titems.splice(e.destination.index, 0, reorderedItem);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tfutureQueue: items\r\n\t\t\t});\r\n\t\t\tthis.props.queue.moveSongInFutureQueue(e.source.index,e.destination.index);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\thandleGetSession = (status,data) => {\r\n\r\n\t\tif (status === 200) {\r\n\t\t\tvar session = data.data.session\r\n\t\t\tvar initialQueue = _.cloneDeep(data.data.session.initialQueue);\r\n\t\t\tif(initialQueue.length > 0){\r\n\t\t\t\tthis.props.playVideo(initialQueue.shift());\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tPromise.all(initialQueue.map((songId) => {\r\n            \treturn this.props.fetchVideoById(songId, true) //Initial queue of song objects\r\n        \t})).then((fetchedSongs) => {\r\n\t\t\t\tfetchedSongs.forEach(song => {\r\n\t\t\t\t\tconsole.log(song);\r\n\t\t\t\t\tthis.props.queue.addSongToFutureQueue(song);\r\n\t\t\t\t});\r\n            \tthis.setState({\r\n\t        \t\t\r\n\t        \t\tid: session._id,\r\n\t\t\t\t\thostId: session.hostId,\r\n\t\t\t\t\thostName : session.hostName,\r\n\t\t\t\t\tname: session.name,\r\n\t\t\t\t\tstartTime: session.startTime,\r\n\t\t\t\t\tfutureQueue: this.props.queue.getFutureQueue(),\r\n\t\t\t\t\tcurrentSong: this.props.queue.getCurrentSong(),\r\n\t\t\t\t\tchatLog: session.actionLog\r\n\t        \t})\r\n\t        \tthis.initSessionClient();\r\n\t        })\r\n            \r\n        }\r\n        else if (status === 404) {\r\n        \tthis.setState({\r\n        \t\tloading: false,\r\n        \t\terror: true\r\n        \t})\r\n        }\r\n\t}\r\n\r\n    render(){\r\n    \t\r\n    \t\r\n    \tlet renderContainer = false\r\n    \tif(!this.state.loading && !this.state.error && this.props.user != null){\r\n    \t\trenderContainer = \r\n    \t\t\t<div style={{fontFamily: 'BalsamiqSans', marginLeft:'15px', height:'100%'}}>\r\n        \t\t<div className='row' style={{height:'100%'}}>\r\n        \t\t\t<div className='col-sm-8' style={{height:'100%'}}>\r\n\t        \t\t\t<div className='row' style={{height:'22%', border: '3px solid black', borderRadius: '25px'}}>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'35%', height:'100%', padding:'1em'}}>\r\n\t        \t\t\t\t\t<img src={icon_profile_image} style={{backgroundColor:'white',display: 'block', margin: 'auto', height:'90%',\r\n\t        \t\t\t\t\t\t\t\t\t border: '3px solid black'}}/>\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'50%', minWidth:'50%', padding:'1em', color:'white'}}>\r\n\t        \t\t\t\t\t<div className='title session-title-text'>\r\n\t        \t\t\t\t\t\t{this.state.name}\r\n\r\n\t        \t\t\t\t\t</div>\r\n\t        \t\t\t\t\t<div className='body-text' style={{marginTop:'30px', margin: 'auto'}}>\r\n\t        \t\t\t\t\t\t{this.state.hostName}\r\n\t        \t\t\t\t\t</div>\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'25%', textAlign: 'right', padding:'1em', minWidth:'10%',color:'white',  float:'right'}}>\r\n\t        \t\t\t\t\t<div className='body-text'>LIVE<img src={icon_radio} style={{width:'30px'}}/></div>\r\n\t        \t\t\t\t\t{this.state.startTime}\r\n\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t</div>\r\n\t        \t\t\t<div className='row bg-color-contrasted' style={{height:'calc(78% - 40px)',overflow:'scroll',overflowX:'hidden',border: '3px solid black'}}>\r\n\t        \t\t\t\t<ChatFeed actionLog={this.state.chatLog} user={this.props.user}  />\r\n\t        \t\t\t</div>\r\n\t        \t\t\t<div className='row' style={{height:'40px',border: '3px solid black',backgroundColor:'white'}}>\r\n\t        \t\t\t\t<input type='text' name='MessageSender' placeholder='Send your message here...' onChange={this.handleTextChange} onKeyPress={this.onKeyPress} value={this.state.messageText} style={{width:'95%', display:'block'}}/>\r\n\t        \t\t\t\t<div style={{width:'5%', display:'block', textAlign:'center'}}>{this.state.messageText.length}/250</div>\r\n\t        \t\t\t</div>\r\n\t        \t\t</div>\r\n\t        \t\t<div className='col-sm-4' style={{height:'100%'}}>\r\n\t        \t\t\t\r\n\t        \t\t\t\r\n\t        \t\t\t\t\r\n\t        \t\t\t\t\t <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n\t        \t\t\t\t\t \t<div className='row bg-color-contrasted title session-title-text' style={{color:'white', height:'7%', border: '3px solid black'}}>\r\n\t\t\t\t        \t\t\t\tUp Next\r\n\t\t\t\t        \t\t\t</div>\r\n\t        \t\t\t\t\t \t<div className='row' style={{height:'43%'}}>\r\n\t\t\t\t\t\t                <Droppable droppableId=\"futureQueue\">\r\n\t\t\t\t\t\t                    {(provided) => ( \r\n\t\t\t\t\t\t                    \t<QueueComponent Queue={this.state.futureQueue} fetchVideoById={this.props.fetchVideoById} provided={provided}  user={this.props.user}/>\r\n\t\t\t\t\t\t        \t\t\t )}\r\n\t\t\t\t\t\t        \t\t\t   \r\n\t\t\t\t\t\t                </Droppable>\r\n\t\t\t\t\t                </div>\r\n\t\t\t\t\t\t            <div className='row bg-color-contrasted title session-title-text' style={{color:'white', height:'7%', border: '3px solid black'}}>\r\n\t\t\t\t        \t\t\t\tPreviously Played\r\n\t\t\t\t        \t\t\t</div>\r\n\t\t\t\t        \t\t\t<div className='row' style={{height:'43%'}}>\r\n\t\t\t\t\t        \t\t\t<Droppable droppableId=\"prevQueue\">\r\n\t\t\t\t\t\t                    {(provided) => ( \r\n\t\t        \t\t\t\t\t\t\t\t<QueueComponent Queue={this.state.prevQueue} fetchVideoById={this.props.fetchVideoById} provided={provided}  user={this.props.user}/>\r\n\t\t        \t\t\t\t\t\t\t)}\r\n\t\t        \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t                </Droppable>\r\n\t\t\t\t        \t\t\t</div>\r\n\t\t\t\t\t            </DragDropContext>\r\n\t        \t\t</div>\r\n        \t\t</div>\r\n        \t\t\r\n        \t</div>\r\n\r\n    \t}\r\n    \telse if(!this.state.loading && !this.state.error && this.props.user === null){\r\n    \t\trenderContainer = \r\n    \t\t\t<div style={{fontFamily: 'BalsamiqSans', marginLeft:'15px', height:'100%'}}>\r\n        \t\t<div className='row' style={{height:'100%'}}>\r\n        \t\t\t<div className='col-sm-8' style={{height:'100%'}}>\r\n\t        \t\t\t<div className='row' style={{height:'22%', border: '3px solid black', borderRadius: '25px'}}>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'35%', height:'100%', padding:'1em'}}>\r\n\t        \t\t\t\t\t<img src={icon_profile_image} style={{backgroundColor:'white',display: 'block', margin: 'auto', height:'90%',\r\n\t        \t\t\t\t\t\t\t\t\t border: '3px solid black'}}/>\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'50%', minWidth:'50%', padding:'1em', color:'white'}}>\r\n\t        \t\t\t\t\t<div className='title session-title-text'>\r\n\t        \t\t\t\t\t\t{this.state.name}\r\n\r\n\t        \t\t\t\t\t</div>\r\n\t        \t\t\t\t\t<div className='body-text' style={{marginTop:'30px', margin: 'auto'}}>\r\n\t        \t\t\t\t\t\t{this.state.hostName}\r\n\t        \t\t\t\t\t</div>\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t\t<div className='col' style={{maxWidth:'25%', textAlign: 'right', padding:'1em', minWidth:'10%',color:'white',  float:'right'}}>\r\n\t        \t\t\t\t\t<div className='body-text'>LIVE<img src={icon_radio} style={{width:'30px'}}/></div>\r\n\t        \t\t\t\t\t{this.state.startTime}\r\n\r\n\t        \t\t\t\t</div>\r\n\t        \t\t\t</div>\r\n\t        \t\t\t<div className='row bg-color-contrasted' style={{height:'calc(78% - 40px)',overflow:'scroll',overflowX:'hidden',border: '3px solid black'}}>\r\n\t        \t\t\t\t<ChatFeed actionLog={this.state.chatLog} user={this.props.user}  />\r\n\t        \t\t\t</div>\r\n\t        \t\t\t<div className='row' style={{height:'40px',border: '3px solid black',backgroundColor:'white'}}>\r\n\t        \t\t\t\t<input type='text' disabled={true} name='MessageSender' placeholder='Log in or Sign up to send a message...' onChange={this.handleTextChange} onKeyPress={this.onKeyPress} value={this.state.messageText} style={{width:'100%', display:'block'}}/>\r\n\t        \t\t\t\t\r\n\t        \t\t\t</div>\r\n\t        \t\t</div>\r\n\t        \t\t<div className='col-sm-4' style={{height:'100%'}}>\r\n\t        \t\t\t\r\n\t        \t\t\t\r\n\t        \t\t\t\t\r\n\t        \t\t\t\t\t \r\n\t        \t\t\t\t\t \t<div className='row bg-color-contrasted title session-title-text' style={{color:'white', height:'7%', border: '3px solid black'}}>\r\n\t\t\t\t        \t\t\t\tUp Next\r\n\t\t\t\t        \t\t\t</div>\r\n\t        \t\t\t\t\t \t<div className='row' style={{height:'43%'}}>\r\n\t\t\t\t\t\t                \r\n\t\t\t\t\t\t                    \t<QueueComponent Queue={this.state.futureQueue} fetchVideoById={this.props.fetchVideoById}/>\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t   \r\n\t\t\t\t\t\t                \r\n\t\t\t\t\t                </div>\r\n\t\t\t\t\t\t            <div className='row bg-color-contrasted title session-title-text' style={{color:'white', height:'7%', border: '3px solid black'}}>\r\n\t\t\t\t        \t\t\t\tPreviously Played\r\n\t\t\t\t        \t\t\t</div>\r\n\t\t\t\t        \t\t\t<div className='row' style={{height:'43%'}}>\r\n\t\t\t\t\t        \t\t\t\r\n\t\t        \t\t\t\t\t\t\t\t<QueueComponent Queue={this.state.prevQueue} fetchVideoById={this.props.fetchVideoById}/>\r\n\t\t        \t\t\t\t\t\t\t\r\n\t\t        \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t                \r\n\t\t\t\t        \t\t\t</div>\r\n\t\t\t\t\t            \r\n\t        \t\t</div>\r\n        \t\t</div>\r\n        \t\t\r\n        \t</div>\r\n    \t}\r\n    \telse if (this.state.loading && !this.state.error){\r\n    \t\trenderContainer = <Spinner/>\r\n    \t}\r\n    \telse{\r\n    \t\trenderContainer = <div style={{color:'white'}}>Error 404</div>\r\n    \t}\r\n        return(\r\n        \trenderContainer\r\n        \t);\r\n    }\r\n}\r\n\r\nexport default SessionScreen;","import React from 'react'\r\nimport Spinner from './Spinner'\r\nimport {icon_music_1, icon_like, icon_play_2, icon_pause_3, icon_add_3, \r\n    icon_up_arrow, icon_down_arrow, menu_button_white, delete_button_white} from '../graphics'\r\nimport { Image, Button, Dropdown, ButtonGroup, Modal } from 'react-bootstrap';\r\nimport {Droppable, DragDropContext, Draggable} from 'react-beautiful-dnd'\r\nconst _ = require('lodash');\r\n\r\n\r\nclass CollectionScreen extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            user: this.props.user,\r\n            collection: null,\r\n            songList: [],\r\n            loading: true,\r\n            showEditNameModal: false,\r\n            showEditDescriptionModal: false,\r\n            collectionName: '',\r\n            collectionDescription: '',\r\n            playing: false,\r\n            favorited: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.fetchCollection();\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if (prevState.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user\r\n            })\r\n        }\r\n        console.log('Component user updated: ', this.state.user);\r\n    }\r\n\r\n    onPressLikeCollection = () =>{\r\n        if (this.state.user !== null){\r\n            let favoritedCollections = this.state.user.likedCollections;\r\n            let numLikes = this.state.collection.likes;\r\n            if (!this.state.favorited){\r\n                numLikes++;\r\n                this.state.user.likedCollections === undefined ? \r\n                            favoritedCollections = [this.state.collection._id] :\r\n                            favoritedCollections.push(this.state.collection._id);\r\n            }\r\n            else if (this.state.user.likedCollections !== undefined){\r\n                if (numLikes > 0){numLikes--;}\r\n                favoritedCollections = [];\r\n                for (let c of this.state.user.likedCollections){\r\n                    if (c !== this.props.match.params.collectionId){\r\n                        favoritedCollections.push(c);\r\n                    }\r\n                }\r\n            }\r\n\r\n            //update collection\r\n            this.props.axiosWrapper.axiosPost('/api/collection/updateCollection/'+ this.props.match.params.collectionId,\r\n            {likes: numLikes}, (function(res, data){\r\n                if (data.success){\r\n                    console.log('Updated collection');\r\n\r\n                    //update user\r\n                    this.props.axiosWrapper.axiosPost('/api/collection/updateUser/' + this.state.user._id,\r\n                    {likedCollections: favoritedCollections}, (function(res, data){\r\n                        if (data.success){\r\n                            console.log('Updated user: ', data.data.user);\r\n                            this.props.handleUpdateUser(data.data.user);\r\n                            this.fetchCollection();\r\n                        }\r\n                    }).bind(this), true);\r\n                }\r\n            }).bind(this), true);\r\n\r\n        }\r\n    }\r\n\r\n    onPressPlayQueue = () =>{\r\n        if (this.state.songList.length > 0 && !this.state.playing){\r\n            this.setState({playing: true});\r\n            let futureQueue = this.state.collection.songList.slice(1);\r\n            this.props.playVideo(this.state.collection.songList[0]);\r\n            for (let s of futureQueue){\r\n                this.props.dataAPI.fetchVideoById(s, true).then((song) => {\r\n                    if (song.status === 403){\r\n                        console.log('Youtube Query Quota Exceeded');\r\n                    }\r\n                    else{\r\n                        this.props.queue.addSongToFutureQueue(song);\r\n                    }  \r\n                });\r\n            }\r\n        }\r\n        else if (this.state.playing){\r\n            this.setState({playing: false});\r\n            this.props.playerAPI.pauseVideo();\r\n        }\r\n    }\r\n\r\n\r\n    onEditName = () => {\r\n        if (this.state.collectionName.trim() !== ''){\r\n            this.props.axiosWrapper.axiosPost('/api/collection/updateCollection/' + this.props.match.params.collectionId, \r\n            {name: this.state.collectionName}, (function(res, data){\r\n                if (data.success){\r\n                    this.hideEditNameModal();\r\n                    this.fetchCollection();\r\n                }\r\n            }).bind(this), true);\r\n        }\r\n    }\r\n\r\n    onEditDescription = () => {\r\n        if (this.state.collectionName.trim() !== ''){\r\n            this.props.axiosWrapper.axiosPost('/api/collection/updateCollection/' + this.props.match.params.collectionId, \r\n            {description: this.state.collectionDescription}, (function(res, data){\r\n                if (data.success){\r\n                    this.hideEditDescriptionModal();\r\n                    this.fetchCollection();\r\n                }\r\n            }).bind(this), true);\r\n        }\r\n    }\r\n\r\n    onPressPlaySong = (song, index) => {\r\n        let futureQueue = this.state.collection.songList.slice(index + 1);\r\n        this.props.playVideo(song);\r\n        for (let s of futureQueue){\r\n            this.props.dataAPI.fetchVideoById(s, true).then((s) => {\r\n                if (s.status === 403){\r\n                    console.log('Youtube Query Quota Exceeded');\r\n                }\r\n                else{\r\n                    this.props.queue.addSongToFutureQueue(s);\r\n                }  \r\n            })\r\n        }\r\n    }\r\n\r\n    onPressDeleteSong = (song) => {\r\n        let newSongList = [];\r\n        for (let s of this.state.collection.songList){\r\n            if (s !== song._id){\r\n                newSongList.push(s);\r\n            }\r\n        }\r\n        this.props.axiosWrapper.axiosPost('/api/collection/updateCollection/' + this.props.match.params.collectionId, \r\n        {songList: newSongList}, (function(res, data){\r\n            if (data.success){\r\n                this.fetchCollection();\r\n            }\r\n            else{\r\n                console.log(\"Error: could not delete\")            \r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    onPressLikeSong = (song) => {\r\n        let favedSongs = this.state.user.likedSongs;\r\n        if (song.favorited){\r\n            song.favorited = false;\r\n            favedSongs = [];\r\n            for(let s of this.state.user.likedSongs){\r\n                if (s !== song._id){\r\n                    favedSongs.push(s);\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            song.favorited = true;\r\n            if(favedSongs === undefined){\r\n                favedSongs = [song._id];\r\n            }\r\n            else{\r\n                favedSongs.push(song._id);\r\n            }\r\n        }\r\n        \r\n        this.props.axiosWrapper.axiosPost('/api/collection/updateUser/' + this.state.user._id, \r\n        {likedSongs: favedSongs}, (function(res, data){\r\n            if(data.success){\r\n                this.props.handleUpdateUser(data.data.user);\r\n                console.log('Updated favorited songs: ', data.data.user.likedSongs)\r\n                this.fetchCollection();\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    fetchCollection = () => {\r\n        if (this.props.match.params.collectionId) {\r\n            this.props.axiosWrapper.axiosGet('/api/collection/' + this.props.match.params.collectionId, (function(res, data) {\r\n                if (data.success) {\r\n\r\n                    let songs = data.data.collection.songList;\r\n                    if (songs){\r\n                        Promise.all(songs.map((songId) => {\r\n                            return this.props.dataAPI.fetchVideoById(songId, true)\r\n                        })).then((s) => {\r\n                            if (this.state.user.likedSongs) {\r\n                                for (let song of s) {\r\n                                    let songFaved = false\r\n                                    for (let fav of this.state.user.likedSongs) {\r\n                                        if (fav === song._id) {\r\n                                            songFaved = true\r\n                                        }\r\n                                    }\r\n                                    song.favorited = songFaved\r\n                                }\r\n                            }\r\n                            else {\r\n                                for (let song of s){\r\n                                    song.favorited = false;\r\n                                }\r\n                            }\r\n                            this.setState({ \r\n                                collection: data.data.collection,\r\n                                loading: false,\r\n                                collectionName: data.data.collection.name,\r\n                                favorited: this.isCollectionFavorited(data.data.collection),\r\n                                songList: s\r\n                            })\r\n                        })\r\n                    }\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n    }\r\n\r\n    getDurationString(duration){\r\n        console.log(duration);\r\n        //return String(duration / 60).padStart(2, '0') + ':' + String(duration % 60)\r\n    }\r\n\r\n    getDateAdded(date){\r\n        return '10/30/2020'\r\n    }\r\n\r\n    sortByTitle = (e) =>{\r\n        let sortedList = [];\r\n\r\n    }\r\n\r\n    sortByDateAdded = (e) =>{\r\n        let sortedList = [];\r\n    }\r\n\r\n    sortByArtist = (e) => {\r\n        let sortedList = [];\r\n    }\r\n\r\n    showEditNameModal = () => {\r\n        this.setState({ showEditNameModal: true });\r\n    }\r\n\r\n    showEditDescriptionModal = () => {\r\n        this.setState({ showEditDescriptionModal: true });\r\n    }\r\n\r\n    hideEditNameModal = () =>{\r\n        this.setState({\r\n            showEditNameModal: false,\r\n            collectionName: this.state.collection.name\r\n        });\r\n\r\n    }\r\n\r\n    hideEditDescriptionModal = () => {\r\n        this.setState({\r\n            showEditDescriptionModal: false,\r\n            collectionDescription: this.state.collection.description\r\n        });\r\n    }    \r\n\r\n    handleCollectionNameChange = (e) => {\r\n        this.setState({ collectionName: e.target.value });\r\n    }\r\n\r\n    handleCollectionDescriptionChange = (e) => {\r\n        this.setState({ collectionDescription: e.target.value });\r\n    }\r\n\r\n    isCollectionFavorited = (collection) => {\r\n        if (this.state.user !== null && this.state.user.likedCollections !== undefined){\r\n            for (let c of this.state.user.likedCollections){\r\n                if (c === collection._id){\r\n                    return true;\r\n                }\r\n            }\r\n        } \r\n        return false;\r\n    }\r\n\r\n    //reorder songlist (persistant)\r\n    handleOnDragEnd = (result) =>{\r\n        console.log(result);\r\n        if (result.destination !== null && result.source !== null){\r\n            //update frontend\r\n            /*\r\n            let newStateSongList = _.cloneDeep(this.state.songList);\r\n            let movedSong = newStateSongList[result.source];\r\n            newStateSongList.splice(result.source.index, 1);\r\n            newStateSongList.splice(result.destination.index, 0, movedSong);\r\n            this.setState({songList: newStateSongList});\r\n            */\r\n\r\n            //update backend\r\n            let newSongList = this.state.collection.songList;\r\n            newSongList.splice(result.source.index, 1);\r\n            newSongList.splice(result.destination.index, 0, result.draggableId);\r\n            this.props.axiosWrapper.axiosPost('/api/collection/updateCollection/' + this.props.match.params.collectionId, \r\n            {songList: newSongList}, (function(res, data){\r\n                if(data.success){\r\n                    this.fetchCollection();\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        console.log('Current State: ', this.state);\r\n        if (this.state.loading) {\r\n            return <Spinner/>\r\n        }\r\n        else {\r\n            return (\r\n                <div className='container' style={{minWidth: '100%'}}>\r\n                    <Modal show={this.state.showEditNameModal}>\r\n\t\t\t\t\t\t<Modal.Header onHide={this.hideEditNameModal} closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>Change Collection Name</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<p>Collection Name:</p>\r\n\t\t\t\t\t\t\t<input value={this.state.collectionName} onChange={this.handleCollectionNameChange}></input>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.hideEditNameModal}>Close</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.onEditName}>Edit</Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n                    \r\n                    <Modal show={this.state.showEditDescriptionModal}>\r\n\t\t\t\t\t\t<Modal.Header onHide={this.hideEditDescriptionModal} closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>Change Collection Description</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<p>Collection Description:</p>\r\n\t\t\t\t\t\t\t<input value={this.state.collectionDescription} onChange={this.handleCollectionDescriptionChange}></input>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" onClick={this.hideEditDescriptionModal}>Close</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.onEditDescription}>Edit</Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n\r\n\r\n                    {/* Header */}\r\n                    <div className='row' style={{backgroundColor: 'grey', border: '2px solid black', }}>\r\n                        <div className='col' style={{maxWidth: '20%', paddingTop: '10px', paddingBottom: '10px'}}>\r\n                            <img src={icon_music_1} style={{maxHeight: '100px'}}></img>\r\n                        </div>\r\n\r\n                        {/* Collection Info */}\r\n                        <div className='col' style={{marginRight: '30%', minWidth: '35%'}}>\r\n                            <div className='row'>\r\n                                <h2 className='collection-page-text'>\r\n                                    {this.state.collection.name}\r\n                                </h2>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <p className='collection-page-text'>\r\n                                    {this.state.collection.description}\r\n                                </p>\r\n                            </div>\r\n                            <div className='row'>\r\n                                {/* Remember to add these attributes to collection objects*/}\r\n                                <p className='collection-page-text'>\r\n                                    {this.state.user.username} - {this.state.collection.likes} likes - {this.state.collection.songList.length} songs \r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Queue Buttons */}\r\n                        <div className='col'>\r\n                            <div className='row'>\r\n                                <Dropdown className=\"search-screen-results-category-list-item-img-overlay-dropdown\" as={ButtonGroup}>\r\n                                    <Dropdown.Toggle split className=\"search-screen-results-category-list-item-img-overlay-dropdown-button no-caret\">\r\n                                        <Image className=\"search-screen-results-category-list-item-img-overlay-dropdown-button-icon\" src={menu_button_white} />\r\n                                    </Dropdown.Toggle>\r\n                                    <Dropdown.Menu className=\"search-screen-results-category-list-item-img-overlay-dropdown-menu\">\r\n                                        <Dropdown.Item>\r\n                                            <Button onClick={this.showEditNameModal}>\r\n                                                Edit Name\r\n                                            </Button>\r\n                                        </Dropdown.Item>\r\n                                        <Dropdown.Item>\r\n                                            <Button onClick={this.showEditDescriptionModal}>\r\n                                                Edit Description\r\n                                            </Button>\r\n                                        </Dropdown.Item>\r\n                                        <Dropdown.Item>\r\n                                            <Button onClick={() => {}}>\r\n                                                Delete Collection\r\n                                            </Button>\r\n                                        </Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                                \r\n                            </div>\r\n                            <div className='row'>\r\n                                <Button id='player-song-favorite-button' style={{position: 'relative',  paddingTop: '5%'}}>\r\n                                    <Image className={'player-song-favorite-button-icon'} onClick={this.onPressLikeCollection} src={icon_like} \r\n                                            style={{minHeight: '40px', minWidth: '40px', marginTop: '20px', backgroundColor: this.state.favorited ? '#00e400' : 'transparent'}} roundedCircle/>\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Queue List */}\r\n                    \r\n                    <div className='row' style={{paddingTop: '5px', border: '2px solid black', backgroundColor: 'grey'}}>\r\n                        <h5 className='collection-page-text' style={{marginLeft: '10px', marginRight: '30%'}}>Title</h5>\r\n                        <h5 className='collection-page-text' style={{marginRight: '20%'}}>Artist</h5>\r\n                        <h5 className='collection-page-text' style={{marginRight: '10%'}}>Date Added</h5>\r\n                        <h5 className='collection-page-text' style={{marginRight: '10%'}}>Duration</h5>\r\n                    </div>\r\n\r\n                    {/* Songs */}\r\n                    <div className='row'>\r\n                        <DragDropContext onDragEnd={this.handleOnDragEnd} style={{minWidth: '100%'}}> \r\n                            <Droppable droppableId={this.state.collection.name}>        \r\n                                {(provided) =>                 \r\n                                (<ul style={{listStyleType: 'none', padding: '0', border: '2px solid black', minWidth: '100%'}} {...provided.droppableProps} ref={provided.innerRef}>\r\n                                {this.state.songList.length > 0 ? \r\n                                (this.state.songList.map((e, i) => \r\n                                    (<Draggable key={e._id} draggableId={e._id} index={i} style={{minWidth: '100%'}}>\r\n                                        {(provided) => \r\n                                        (<li className=\"collection-page-rows\" style={{minWidth: '90vw'}} {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\r\n                                            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                                <div className='collection-song-title ellipsis-multi-line-overflow'  style={{display: 'inline-block', marginLeft: '15px', marginRight: '2.5%', width: '27%'}}><div>{e.name}</div></div>\r\n                                                <div className='collection-song-title ellipsis-multi-line-overflow' style={{display: 'inline-block', width: '20%', marginRight: '2%'}}><div>{e.creator}</div></div>\r\n                                                <div className='collection-page-text' style={{display: 'inline-block', marginRight: '10.5%'}}>{() => this.getDateAdded()}</div>\r\n                                                <div className='collection-page-text' style={{display: 'inline-block', marginRight: '5%'}}>{() => this.getDurationString(e.duration, i)} </div>\r\n                                                <Button id='player-song-favorite-button' style={{position: 'relative', display: 'inline-block'}}>\r\n                                                    {/* Fix during implementation */}\r\n                                                    <Image className='player-song-favorite-button-icon' src={icon_like} \r\n                                                            style={{maxHeight: '25px', maxWidth: '25px', backgroundColor: e.favorited ? '#00e400' : 'transparent'}} \r\n                                                            onClick={() => this.onPressLikeSong(e)} roundedCircle/>\r\n                                                </Button>\r\n                                                <Button id='player-song-favorite-button' style={{position: 'relative', display: 'inline-block'}} \r\n                                                        onClick={() => this.onPressDeleteSong(e)}>\r\n                                                    <img src={delete_button_white} style={{maxHeight: '25px', maxWidth: '25px'}}></img>\r\n                                                </Button>\r\n                                            </div>\r\n                                        </li>)}\r\n                                    </Draggable>)\r\n                                    )\r\n                                ) : <div></div>}\r\n                                {provided.placeholder}\r\n                                </ul>)}\r\n                            </Droppable>\r\n                        </DragDropContext>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default CollectionScreen;","import React from 'react';\r\n\r\nimport TabComponent from './TabComponent.js'\r\nimport Player from './Player.js'\r\nimport SessionSideList from './Sessions/SessionsSideList.js'\r\n\r\nimport HomeScreen from './HomeScreen.js'\r\nimport SettingsScreen from './SettingsScreen.js'\r\nimport SearchScreen from './SearchScreen.js'\r\nimport ProfileScreen from './ProfileScreen.js'\r\nimport SessionScreen from './SessionScreen.js'\r\nimport CollectionScreen from './CollectionScreen.js'\r\n\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\nclass MainApp extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.playerAPI = this.props.playerAPI\r\n        this.dataAPI = this.props.dataAPI\r\n        this.queue = this.props.queue\r\n    }\r\n\r\n    isFavorited = () => {\r\n        return false\r\n    }\r\n\r\n    /*\r\n        PlayerAPI methods\r\n    */\r\n\r\n    /*\r\n        playVideo is used to clear the current queue and playing the\r\n        desired song \r\n    */\r\n    playVideo = (id) => {\r\n        this.fetchVideoById(id, true).then((song) => {\r\n            this.queue.clearFutureQueue()\r\n            this.queue.setCurrentSong(song)\r\n        })\r\n\r\n        if (this.playerAPI.isPlayerInit() === false) { //Initialize on first use\r\n            this.playerAPI.initIFrameAPI(id)\r\n        }\r\n        else {\r\n            this.playerAPI.loadVideoById(id)\r\n        }\r\n    }\r\n\r\n    /*\r\n        DataAPI methods\r\n    */\r\n\r\n    queryVideos = (query) => {\r\n        return this.dataAPI.queryVideos(query)\r\n    }\r\n    \r\n    fetchVideoById = (id, snippet=false) => {\r\n        return this.dataAPI.fetchVideoById(id, snippet)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div id=\"main-app-container\">\r\n                <Row id=\"top-container\">\r\n                    <TabComponent auth={this.props.auth} user={this.props.user} axiosWrapper={this.props.axiosWrapper} handleLogOut={this.props.handleLogOut} history={this.props.history} currentSession={this.props.currentSession}/>\r\n                </Row>\r\n                <Row id=\"mid-container\" style={{marginLeft:'0px'}}>\r\n                    <Col id=\"side-list-container\" sm={2} md={2} lg={2} xl={2}>\r\n                    <header className='Session-Side-List'>\r\n                        <SessionSideList axiosWrapper={this.props.axiosWrapper} mainSocket={this.props.mainSocket} />\r\n                    </header>\r\n                    </Col>\r\n                    <Col id=\"screen-container\">\r\n                        <Switch>\r\n                            <Route path='/main/search' render={(props) => <SearchScreen {...props} auth={this.props.auth} user={this.props.user} handleUpdateUser={this.props.handleUpdateUser} fetchVideoById={this.fetchVideoById} queryVideos={this.queryVideos} playVideo={this.playVideo} queue={this.queue} currentSession={this.props.currentSession} axiosWrapper={this.props.axiosWrapper}/>} />\r\n                            <Route path={['/main/session/:sessionId', '/main/session']} render={(props) => <SessionScreen {...props} auth={this.props.auth} user={this.props.user} key={props.match.params.sessionId} handleUpdateUser={this.props.handleUpdateUser} fetchVideoById={this.fetchVideoById} queue={this.queue} playVideo={this.playVideo} axiosWrapper={this.props.axiosWrapper} currentSession={this.props.currentSession} sessionClient={this.props.sessionClient}/>} />\r\n                            <Route path='/main/profile/:userId' render={(props) => <ProfileScreen {...props} auth={this.props.auth} key={props.match.params.userId} handleUpdateUser={this.props.handleUpdateUser} fetchVideoById={this.fetchVideoById} user={this.props.user} playVideo={this.playVideo} queue={this.queue} currentSession={this.props.currentSession} axiosWrapper={this.props.axiosWrapper}/>} />\r\n                            <Route path='/main/collection/:collectionId' render={(props) => <CollectionScreen {...props} auth={this.props.auth} key={props.match.params.collectionId} user={this.props.user} handleUpdateUser={this.props.handleUpdateUser} axiosWrapper={this.props.axiosWrapper} queue={this.queue} dataAPI={this.dataAPI} playVideo={this.playVideo} playerAPI={this.playerAPI} currentSession={this.props.currentSession}/>} />\r\n                            <Route path='/main/collection' render={(props) => <CollectionScreen {...props} auth={this.props.auth} user={this.props.user} handleUpdateUser={this.props.handleUpdateUser} axiosWrapper={this.props.axiosWrapper} currentSession={this.props.currentSession} />} />\r\n                            <Route path='/main/settings' render={(props) => <SettingsScreen {...props} auth={this.props.auth} user={this.props.user} handleUpdateUser={this.props.handleUpdateUser} axiosWrapper={this.props.axiosWrapper} currentSession={this.props.currentSession} />} />\r\n                            <Route path='/' render={(props) => <HomeScreen {...props} auth={this.props.auth} user={this.props.user} handleUpdateUser={this.props.handleUpdateUser} axiosWrapper={this.props.axiosWrapper} currentSession={this.props.currentSession}/>} />\r\n                        </Switch>\r\n                    </Col>\r\n                </Row>\r\n                <Row id=\"bottom-container\">\r\n                    <div id='yt-player'></div>\r\n                    <Player\r\n                        user={this.props.user} \r\n                        currentSession={this.props.currentSession}\r\n                        initPlayerAPI={this.initPlayerAPI}\r\n                        queue={this.queue}\r\n                        playerAPI={this.playerAPI}\r\n                        handleUpdateUser={this.props.handleUpdateUser}\r\n                        sessionClient={this.props.sessionClient}\r\n                        axiosWrapper={this.props.axiosWrapper}          \r\n                    />\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport { Link, Route, Redirect } from 'react-router-dom'\r\nimport { icon_speak_2, icon_speak_1, icon_radio, icon_album, icon_disc_1, icon_disc_2, icon_music_album_1, icon_music_album_2, icon_sound_mixer_1, icon_sound_mixer_2 } from '../graphics'\r\nimport { Form, Col, Button } from 'react-bootstrap'\r\n\r\nclass LoginScreen extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            signup_validated: false,\r\n            signup_username_taken: false,\r\n            login_validated: false,\r\n            signup_username: \"\",\r\n            signup_password: \"\",\r\n            signup_confirm_password: \"\",\r\n            login_username: \"\",\r\n            login_password: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.checkCredentials()\r\n    }\r\n\r\n    checkCredentials = () => {\r\n        this.props.axiosWrapper.axiosGet('/auth', (function(res, data) {\r\n            if (data.success) {\r\n                this.clearSignUpCredentials()\r\n                this.props.handleAuthenticate(data.data.user)\r\n                if (data.data.user.currentSession) {\r\n                    this.props.handleUpdateCurrentSession(data.data.user.currentSession)\r\n                    this.props.history.push(\"/main/session/\" + data.data.user.currentSession)\r\n                }\r\n                else {\r\n                    this.props.history.push(\"/main/home\")\r\n                }\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    clearLoginCredentials = () => {\r\n        this.setState({\r\n            login_validated: false,\r\n            login_username: \"\",\r\n            login_password: \"\"\r\n        })\r\n    }\r\n\r\n    clearSignUpCredentials = () => {\r\n        this.setState({\r\n            signup_validated: false,\r\n            signup_username_taken: false,\r\n            signup_username: \"\",\r\n            signup_password: \"\",\r\n            signup_confirm_password: \"\"\r\n        })\r\n    }\r\n\r\n    handleCloseSignUpModal = () => {\r\n        this.clearSignUpCredentials()\r\n        this.props.history.goBack()\r\n    }\r\n\r\n    handleLoginUsernameChange = (e) => {\r\n        this.setState({\r\n            login_username: e.target.value\r\n        })\r\n    }\r\n\r\n    handleLoginPasswordChange = (e) => {\r\n        this.setState({\r\n            login_password: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSignUpUsernameChange = (e) => {\r\n        this.setState({\r\n            signup_username_taken: false,\r\n            signup_username: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSignUpPasswordChange = (e) => {\r\n        this.setState({\r\n            signup_password: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSignUpConfirmPasswordChange = (e) => {\r\n        this.setState({\r\n            signup_confirm_password: e.target.value\r\n        })\r\n    }\r\n\r\n    handleValidateSignUpUsername = (e) => {\r\n        if (this.state.signup_username_taken) { //Username is taken\r\n            return false\r\n        }\r\n\r\n        if (/\\s/g.test(this.state.signup_username)) { //Contains whitespace\r\n            return false\r\n        }\r\n\r\n        if (!/^[0-9a-zA-Z_]+$/.test(this.state.signup_username)) { //Contains illegal characters\r\n            return false\r\n        }\r\n\r\n        if (this.state.signup_username.trim().length < 6 || this.state.signup_username.trim().length > 12) { //Invalid length\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\n    handleValidateSignUpPassword = (e) => {\r\n        if (/\\s/g.test(this.state.signup_password)) { //Contains whitespace\r\n            return false\r\n        }\r\n\r\n        if (!/^[0-9a-zA-Z_!@#$%^&*]+$/.test(this.state.signup_password)) { //Contains illegal characters\r\n            return false\r\n        }\r\n\r\n        if (this.state.signup_password.trim().length < 6 || this.state.signup_password.trim().length > 12) { //Invalid length\r\n            return false\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\n    handleValidateSignUpConfirmPassword = (e) => {\r\n        if (this.handleValidateSignUpPassword() && this.state.signup_password === this.state.signup_confirm_password) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    handleInvalidateSignUpConfirmPassword = () => {\r\n        if (this.handleValidateSignUpPassword() && !(this.state.signup_password === this.state.signup_confirm_password)) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    validateSignUp = () => {\r\n        if (this.handleValidateSignUpUsername() && this.handleValidateSignUpPassword() && this.handleValidateSignUpConfirmPassword()) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    handleSignUp = (e) => {\r\n        e.preventDefault()\r\n        if (this.validateSignUp()) {\r\n            this.props.axiosWrapper.axiosPost('/auth/local/signup', {\r\n                username: this.state.signup_username,\r\n                password: this.state.signup_password\r\n            }, (function(res, data) {\r\n                if (data.success) {\r\n                    this.clearSignUpCredentials()\r\n                    this.props.handleAuthenticate(data.data.user)\r\n                    this.props.history.push(\"/main/home\")\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        signup_validated: true,\r\n                        signup_username_taken: true\r\n                    })\r\n                }\r\n            }).bind(this), true)\r\n        }\r\n        else {\r\n            this.setState({\r\n                signup_validated: true,\r\n                signup_username_taken: false\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInvalidateLogin = () => {\r\n        return this.state.login_validated\r\n    }\r\n\r\n    handleLogin = (e) => {\r\n        e.preventDefault()\r\n        this.props.axiosWrapper.axiosPost('/auth/local/login', {\r\n            username: this.state.login_username,\r\n            password: this.state.login_password\r\n        }, (function(res, data) {\r\n            if (data.success) {\r\n                this.clearLoginCredentials()\r\n                this.props.handleAuthenticate(data.data.user)\r\n                this.props.handleUpdateCurrentSession(data.data.user.currentSession)\r\n                if (data.data.user.currentSession) {\r\n                    this.props.handleUpdateCurrentSession(data.data.user.currentSession)\r\n                    this.props.history.push(\"/main/session/\" + data.data.user.currentSession)\r\n                }\r\n                else {\r\n                    this.props.history.push(\"/main/home\")\r\n                }\r\n            }\r\n            else {\r\n                this.setState({\r\n                    login_validated: true\r\n                })\r\n            }\r\n        }).bind(this), true)\r\n    }\r\n\r\n    render(){\r\n        if (this.props.auth) {\r\n            return <Redirect to='/login'/>\r\n        }\r\n        return (\r\n            <div className='container' style={{backgroundColor: 'lightgreen', \r\n                                               height: '100vh', minHeight: '100vh',\r\n                                               width: '100vw', minWidth: '100vw'}}>\r\n                <div className='row' style={{marginLeft: '20%'}}>\r\n                    <div className='col' style={{marginTop: '60px'}}>\r\n                        <div>\r\n                            <img style={{maxHeight: '280px'}} src={icon_music_album_1}></img>\r\n                        </div>\r\n                    </div>\r\n                    <div className='col' style={{marginTop: '60px', marginLeft: '10%'}}>\r\n\r\n                        <h2 style={{marginBottom: '20px'}}>Log-in</h2>\r\n                        <Form noValidate onSubmit={this.handleLogin}>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"login-username\">\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control\r\n                                        required\r\n                                        value={this.state.login_username}\r\n                                        type=\"text\"\r\n                                        onChange={this.handleLoginUsernameChange}\r\n                                        placeholder=\"Username\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"login-password\">\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control\r\n                                        required\r\n                                        value={this.state.login_password}\r\n                                        type=\"password\"\r\n                                        onChange={this.handleLoginPasswordChange}\r\n                                        isInvalid={this.handleInvalidateLogin()}\r\n                                    />\r\n                                    <Form.Control.Feedback type=\"invalid\">\r\n                                        Invalid username or password.\r\n                                    </Form.Control.Feedback>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Button type=\"submit\">Login</Button>\r\n                        </Form>\r\n                        <Link to={'/login/signup'}>\r\n                            <button className=\"btn btn-link\" style={{marginTop: '10px'}} data-toggle='modal' data-target='#registrationModal'>Or create an account</button><br/>\r\n                        </Link>\r\n                        <Link to=\"/main\" style={{marginTop: '20px', boxShadow: '3px 3px', \r\n                                        backgroundColor: 'cornsilk', fontSize: '20px',\r\n                                        padding: '10px 15px'}}>Continue As Guest</Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='row' style={{minWidth: '100vw', marginTop: '3%'}}>\r\n                    <div className='row' style={{marginLeft: '40%'}}>\r\n                        <h1>Listen Together</h1>\r\n                    </div>\r\n                    <div className='row' style={{marginTop: '2%', marginLeft: '25%'}}>\r\n                    <div style={{display: 'flex', justifyContent: 'center', padding: '10px 20px'}}>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_disc_2}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_music_album_2}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_speak_1}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_radio}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_album}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_sound_mixer_1}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_disc_1}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_speak_2}></img>\r\n                        <img style={{maxHeight: '80px', marginRight: '5%'}} src={icon_sound_mixer_2}></img>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Modal */}\r\n                <Route path={'/login/signup'} render={() => { \r\n                    return(\r\n                    <div id=\"signup-modal\">\r\n                        <div className=\"modal-dialog\">\r\n                            {/* Modal Content */}\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h3>Sign-Up</h3>\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={data => this.handleCloseSignUpModal(data)}>&times;</button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <p>Create A New Account:</p>\r\n                                    <Form noValidate onSubmit={this.handleSignUp}>\r\n                                        <Form.Row>\r\n                                            <Form.Group as={Col} controlId=\"signup-username\">\r\n                                                <Form.Label>Username</Form.Label>\r\n                                                <Form.Control\r\n                                                    required\r\n                                                    value={this.state.signup_username}\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Username\"\r\n                                                    onChange={this.handleSignUpUsernameChange}\r\n                                                    isValid={this.handleValidateSignUpUsername()}\r\n                                                    isInvalid={this.state.signup_validated && !this.handleValidateSignUpUsername()}\r\n                                                />\r\n                                                <Form.Text muted>\r\n                                                    Your username must contain 6 to 12 alphanumerical characters.\r\n                                                </Form.Text>\r\n                                                <Form.Control.Feedback>OK!</Form.Control.Feedback>\r\n                                                <Form.Control.Feedback type=\"invalid\">\r\n                                                    {this.state.signup_username_taken ? \"Username is taken.\" : \"Invalid username.\"}\r\n                                                </Form.Control.Feedback>\r\n                                            </Form.Group>\r\n                                        </Form.Row>\r\n                                        <Form.Row>\r\n                                            <Form.Group as={Col} controlId=\"signup-password\">\r\n                                                <Form.Label>Password</Form.Label>\r\n                                                <Form.Control\r\n                                                    required\r\n                                                    value={this.state.signup_password}\r\n                                                    type=\"password\"\r\n                                                    placeholder=\"Password\"\r\n                                                    onChange={this.handleSignUpPasswordChange}\r\n                                                    isValid={this.handleValidateSignUpPassword()}\r\n                                                    isInvalid={this.state.signup_validated && !this.handleValidateSignUpPassword()}\r\n                                                />\r\n                                                <Form.Text muted>\r\n                                                    Your password must contain 6 to 12 alphanumerical or special characters.\r\n                                                </Form.Text>\r\n                                                <Form.Control.Feedback type=\"invalid\">\r\n                                                    Invalid password.\r\n                                                </Form.Control.Feedback>\r\n                                                <Form.Control.Feedback>OK!</Form.Control.Feedback>\r\n                                            </Form.Group>\r\n                                        </Form.Row>\r\n                                        <Form.Row>\r\n                                            <Form.Group as={Col} controlId=\"signup-confirm-password\">\r\n                                                <Form.Label>Confirm Password</Form.Label>\r\n                                                <Form.Control\r\n                                                    required\r\n                                                    value={this.state.signup_confirm_password}\r\n                                                    type=\"password\"\r\n                                                    onChange={this.handleSignUpConfirmPasswordChange}\r\n                                                    isValid={this.handleValidateSignUpConfirmPassword()}\r\n                                                    isInvalid={this.state.signup_validated && this.handleInvalidateSignUpConfirmPassword()}\r\n                                                />\r\n                                                <Form.Control.Feedback>Great!</Form.Control.Feedback>\r\n                                                <Form.Control.Feedback type=\"invalid\">\r\n                                                    Passwords do not match.\r\n                                                </Form.Control.Feedback>\r\n                                            </Form.Group>\r\n                                        </Form.Row>\r\n                                        <Button type=\"submit\">Sign Up</Button>\r\n                                    </Form>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\" onClick={data => this.handleCloseSignUpModal(data)}>Close</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default LoginScreen;","import axios from 'axios';\r\n\r\n\r\nclass AxiosWrapper {\r\n\taxiosGet(path, callback, withCredentials=false) {\r\n\t\treturn axios.get(path, {\r\n\t\t\twithCredentials: withCredentials\r\n\t\t})\r\n        .then(response => {\r\n        \tif(callback){\r\n        \t\tcallback(response.status, response.data);\r\n        \t}\r\n           \r\n        })\r\n        .catch(function (error){\r\n            console.log(error);\r\n        });\r\n\t}\r\n\taxiosPost(path, payload, callback, withCredentials=false) {\r\n\t\treturn axios.post(path, payload, {\r\n\t\t\twithCredentials: withCredentials\r\n\t\t})\r\n        .then(response => {\r\n        \tif(callback){\r\n        \t\tcallback(response.status, response.data)\r\n        \t}\r\n            \r\n        })\r\n        .catch(function (error){\r\n            console.log(error);\r\n        });\r\n\t}\r\n}\r\n\r\nexport default AxiosWrapper;\r\n\r\n\t\r\n\r\n\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { io } from 'socket.io-client'\r\nimport SessionClient from './api/SessionClient.js'\r\n\r\nimport DataAPI from './api/DataAPI'\r\nimport PlayerAPI from './api/PlayerAPI'\r\nimport Queue from './components/Queues/Queue'\r\n\r\nimport MainApp from './components/MainApp.js'\r\nimport LoginScreen from './components/LoginScreen.js'\r\nimport { Container } from 'react-bootstrap';\r\n\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport AxiosWrapper from './components/axiosWrapper/axiosWrapper.js'\r\naxios.defaults.baseURL = 'https://harmony-demo-d7285.web.app'\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.axiosWrapper = new AxiosWrapper()\r\n        this.playerAPI = new PlayerAPI()\r\n        this.dataAPI = new DataAPI()\r\n        this.queue = new Queue()\r\n        this.mainSocket = io('/main')\r\n        this.sessionClient = new SessionClient(io('/session'))\r\n        this.state = {\r\n            auth: false,\r\n            user: null,\r\n            currentSession: null\r\n        }\r\n    }\r\n    \r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if (this.state.user && !prevState.user || !this.state.user && prevState.user) {\r\n            this.sessionClient.disconnect()\r\n            this.sessionClient = new SessionClient(io('/session'))\r\n\r\n            this.playerAPI = this.playerAPI.destroyIFrameAPI()\r\n            this.playerAPI = new PlayerAPI()\r\n\r\n            this.queue = new Queue()\r\n        }\r\n    }\r\n\r\n    handleLogOut = () => {\r\n        this.setState({\r\n            auth: false,\r\n            user: null\r\n        })\r\n    }\r\n\r\n    handleAuthenticate = (user) => {\r\n        this.setState({\r\n            auth: true,\r\n            user: user\r\n        })\r\n    }\r\n\r\n    handleUpdateUser = (updatedUser) => {\r\n        this.setState({\r\n            auth: true,\r\n            user: updatedUser\r\n        });\r\n    }\r\n\r\n    handleUpdateCurrentSession = (currentSession) => {\r\n        this.setState({\r\n            currentSession: currentSession\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container id=\"app-container\">\r\n                <Router>\r\n                    <Switch>\r\n                        <Route path={['/main']} render={(props) => <MainApp {...props} \r\n                            auth={this.state.auth} \r\n                            user={this.state.user} \r\n                            currentSession={this.state.currentSession}\r\n                            mainSocket={this.mainSocket}\r\n                            sessionClient={this.sessionClient} \r\n                            playerAPI={this.playerAPI} \r\n                            dataAPI={this.dataAPI} \r\n                            queue={this.queue}\r\n                            handleLogOut={this.handleLogOut} \r\n                            handleUpdateUser={this.handleUpdateUser} \r\n                            handleUpdateCurrentSession={this.handleUpdateCurrentSession} \r\n                            axiosWrapper={this.axiosWrapper}/>} \r\n                        />\r\n                        <Route path={['/', '/login']} render={(props) => <LoginScreen {...props} \r\n                            auth={this.state.auth} \r\n                            user={this.state.user} \r\n                            currentSession={this.state.currentSession} \r\n                            handleAuthenticate={this.handleAuthenticate} \r\n                            handleUpdateCurrentSession={this.handleUpdateCurrentSession}\r\n                            axiosWrapper={this.axiosWrapper} />} \r\n                        />\r\n                    </Switch>\r\n                </Router>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nimport '../node_modules/bootstrap/js/dist/modal.js';\r\nimport '../node_modules/bootstrap/dist/js/bootstrap.js';\r\n\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst index_css = import(/* webpackChunkName: \"0_index\" */ './index.css');\r\nconst app_css = import(/* webpackChunkName: \"1_app\" */ './App.css');\r\nconst slider_css = import(/* webpackChunkName: \"2_slider\" */ 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css');\r\nconst bootstrap_css = import(/* webpackChunkName: \"3_bootstrap\" */ '../node_modules/bootstrap/dist/css/bootstrap.min.css');\r\n\r\nString.prototype.capitalize = function() {\r\n  return this[0].toUpperCase() + this.substr(1)\r\n}\r\n\r\nReactDOM.render(\r\n\r\n  <React.StrictMode>\r\n\t<script src=\"/__/firebase/8.0.0/firebase-app.js\"></script>\r\n\t<script src=\"/__/firebase/init.js\"></script>\r\n    <App/>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}